(function(e){function t(t){for(var r,n,o=t[0],c=t[1],h=t[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],r=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=n(n.s=i[0]))}return e}var r={},s={app:0},a=[];function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=r,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vue-ts-algdb-player/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"0317":function(e,t,i){},"193e":function(e){e.exports=JSON.parse('{"f2l":{"name":"f2l","strip":{"U":[6,7,8,15,16,17,24,25,26],"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"oll":{"name":"oll","strip":{"F":[18,19,20,21,22,23,24,25,26],"R":[2,5,8,11,14,17,20,23,26],"B":[0,1,2,3,4,5,6,7,8],"L":[0,3,6,9,12,15,18,21,24],"D":[0,1,2,9,10,11,18,19,20]}},"cmll":{"name":"cmll","strip":{"F":[25],"R":[17],"B":[7],"L":[15],"U":[7,15,17,25]}},"coll":{"name":"coll","strip":{"F":[25],"R":[17],"B":[7],"L":[15]}},"vls":{"name":"vls","strip":{"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"wv":{"name":"wv","strip":{"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"ollcp":{"name":"","strip":{"F":[25],"R":[17],"B":[7],"L":[15]}},"oholl":{"name":"oholl","strip":{"F":[18,19,20,21,22,23,24,25,26],"R":[2,5,8,11,14,17,20,23,26],"B":[0,1,2,3,4,5,6,7,8],"L":[0,3,6,9,12,15,18,21,24],"D":[0,1,2,9,10,11,18,19,20]}},"pll":{"name":"pll","strip":{}}}')},"19af":function(e,t,i){"use strict";var r=i("3008"),s=i.n(r);s.a},"2de4":function(e,t,i){"use strict";var r=i("ac3b"),s=i.n(r);s.a},3008:function(e,t,i){},"40b5":function(e,t,i){},5192:function(e,t,i){},abd7:function(e){e.exports=JSON.parse('{"f2l":{"name":"f2l","strip":{"U":[6,7,8,15,16,17,24,25,26],"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"oll":{"name":"oll","strip":{"F":[18,19,20,21,22,23,24,25,26],"R":[2,5,8,11,14,17,20,23,26],"B":[0,1,2,3,4,5,6,7,8],"L":[0,3,6,9,12,15,18,21,24],"D":[0,1,2,9,10,11,18,19,20]}},"cmll":{"name":"cmll","strip":{"F":[25],"R":[17],"B":[7],"L":[15],"U":[7,15,17,25]}},"coll":{"name":"coll","strip":{"F":[25],"R":[17],"B":[7],"L":[15]}},"vls":{"name":"vls","strip":{"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"wv":{"name":"wv","strip":{"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"ollcp":{"name":"","strip":{"F":[25],"R":[17],"B":[7],"L":[15]}},"oholl":{"name":"oholl","strip":{"F":[18,19,20,21,22,23,24,25,26],"R":[2,5,8,11,14,17,20,23,26],"B":[0,1,2,3,4,5,6,7,8],"L":[0,3,6,9,12,15,18,21,24],"D":[0,1,2,9,10,11,18,19,20]}},"pll":{"name":"pll","strip":{}}}')},ac3b:function(e,t,i){},c714:function(e){e.exports=JSON.parse('{"f2l":{"name":"f2l","strip":{"U":[6,7,8,15,16,17,24,25,26],"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"oll":{"name":"oll","strip":{"F":[18,19,20,21,22,23,24,25,26],"R":[2,5,8,11,14,17,20,23,26],"B":[0,1,2,3,4,5,6,7,8],"L":[0,3,6,9,12,15,18,21,24],"D":[0,1,2,9,10,11,18,19,20]}},"cmll":{"name":"cmll","strip":{"F":[25],"R":[17],"B":[7],"L":[15],"U":[7,15,17,25]}},"coll":{"name":"coll","strip":{"F":[25],"R":[17],"B":[7],"L":[15]}},"vls":{"name":"vls","strip":{"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"wv":{"name":"wv","strip":{"F":[24,25,26],"R":[8,17,26],"B":[6,7,8],"L":[6,15,24]}},"ollcp":{"name":"","strip":{"F":[25],"R":[17],"B":[7],"L":[15]}},"oholl":{"name":"oholl","strip":{"F":[18,19,20,21,22,23,24,25,26],"R":[2,5,8,11,14,17,20,23,26],"B":[0,1,2,3,4,5,6,7,8],"L":[0,3,6,9,12,15,18,21,24],"D":[0,1,2,9,10,11,18,19,20]}},"pll":{"name":"pll","strip":{}}}')},cd49:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{directives:[{name:"resize",rawName:"v-resize",value:e.onresize,expression:"onresize"}]},[i("v-navigation-drawer",{staticClass:"teal lighten-1",attrs:{width:"500",dark:"",right:"",app:"","disable-resize-watcher":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-list",{staticClass:"py-2",attrs:{nav:""}},[i("v-list-item",[i("v-list-item-avatar",[i("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),i("v-list-item-content",[i("v-list-item-title",{staticClass:"title"},[e._v(" KiraHan "),i("v-btn",{attrs:{color:"purple",right:"",absolute:"",small:""}},[e._v("退出")])],1)],1)],1),i("v-divider"),e.showcubesample?i("Cubesample",{ref:"cubesample"}):i("div",[i("v-subheader",[e._v("赞助商")]),i("Sponsor",{attrs:{model:e.sponsorindex}})],1),i("v-divider"),i("v-subheader",[e._v("虚拟魔方")]),i("Vscube",{ref:"vscube",on:{setthemecolor:e.setThemeColors,resetthemecolors:e.resetThemeColors,savethemecolors:e.saveThemeColors,switch2cubesample:function(t){e.showcubesample=!0}}}),i("v-divider"),i("v-subheader",[e._v("账号")]),i("Account"),i("v-divider"),i("v-subheader",[e._v("热门")]),i("Hot"),i("v-divider"),i("v-subheader",[e._v("统计")]),i("Statistic",{ref:"stats"})],1)],1),i("v-app-bar",{attrs:{app:"",clipped:"",color:"purple",dark:""}},[i("v-toolbar-title",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.gotoMain()}}},[e._v("AlgDb.Player")]),i("v-autocomplete",{staticClass:"mx-4",attrs:{loading:e.loading,items:e.items,"search-input":e.search,clearable:"","cache-items":"",flat:"","hide-no-data":"","hide-details":"",label:"search a case","solo-inverted":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),i("v-btn",{attrs:{icon:"",color:""}},[i("v-icon",[e._v("mdi-fullscreen")])],1),i("v-btn",{attrs:{icon:"",color:""}},[i("v-badge",{attrs:{overlap:"",color:"red",content:"6"}},[i("v-icon",[e._v("mdi-bell")])],1)],1),i("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}})],1),i("v-content",{attrs:{app:"",fluid:""}},[e.usephoneLayout?e._e():i("v-breadcrumbs",{attrs:{divider:">",large:"",items:e.Navigation}}),i("router-view")],1),e.usephoneLayout?i("v-bottom-navigation",{attrs:{value:e.activeBtn,grow:"",app:"",color:"teal"}},[i("v-btn",[i("span",[e._v("Recents")]),i("v-icon",[e._v("mdi-history")])],1),i("v-btn",[i("span",[e._v("Favorites")]),i("v-icon",[e._v("mdi-heart")])],1),i("v-btn",[i("span",[e._v("Nearby")]),i("v-icon",[e._v("mdi-map-marker")])],1)],1):e._e(),e.usephoneLayout?e._e():i("v-footer",{attrs:{app:""}},[i("span",[e._v("© 2020")]),i("v-btn",{attrs:{right:"",text:"",absolute:"",href:e.githuburl,target:"_blank"}},[i("v-icon",[e._v("mdi-github")])],1)],1)],1)},a=[],n=(i("ac1f"),i("841c"),i("d4ec")),o=i("bee2"),c=i("2caf"),h=i("262e"),l=i("9ab4"),u=i("60a3"),d=i("4bb5"),v=(i("0317"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[i("v-row",{staticClass:"text-center"},[i("v-col",{attrs:{cols:"6"}},[i("v-sheet",{staticClass:"pa-3",attrs:{tile:"","elevation-10":"",color:"red"}},[i("div",{staticClass:"headline"},[e._v(e._s(e.gcase))]),i("span",{staticClass:"caption"},[e._v("Cases")])])],1),i("v-col",{attrs:{cols:"6"}},[i("v-sheet",{staticClass:"pa-3",attrs:{tile:"","elevation-10":"",color:"indigo"}},[i("div",{staticClass:"headline"},[e._v(e._s(e.guser))]),i("span",{staticClass:"caption"},[e._v("Users")])])],1),i("v-col",{attrs:{cols:"6"}},[i("v-sheet",{staticClass:"pa-3",attrs:{tile:"","elevation-10":"",color:"purple"}},[i("div",{staticClass:"headline"},[e._v(e._s(e.galg))]),i("span",{staticClass:"caption"},[e._v("Algs")])])],1),i("v-col",{attrs:{cols:"6"}},[i("v-sheet",{staticClass:"pa-3",attrs:{tile:"","elevation-10":"",color:"orange"}},[i("div",{staticClass:"headline"},[e._v(e._s(e.gmau))]),i("span",{staticClass:"caption"},[e._v("MAU")])])],1),i("v-col",{attrs:{cols:"12"}},[i("span",{staticClass:"caption grey--text text--lighten-3"},[e._v("更新于: "+e._s(e.updateAt))])])],1)],1)}),f=[],p=(i("b680"),i("96cf"),i("1da1")),g=i("cffa"),b=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.updateAt="",e.algstats={},e.casesnumber=0,e.usersnumber=0,e.algsnumber=0,e.maunumber=0,e}return Object(o["a"])(i,[{key:"mounted",value:function(){}},{key:"gsapdata",value:function(){g["a"].fromTo(this.$data,{duration:1.5,casesnumber:0,usersnumber:0,algsnumber:0,maunumber:0},{duration:2.5,casesnumber:this.algstats.cases,usersnumber:this.algstats.users,algsnumber:this.algstats.algs,maunumber:500})}},{key:"created",value:function(){this.fetch()}},{key:"fetch",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("algdb/stats");case 2:t=e.sent,this.algstats=t.data[0],this.updateAt=this.algstats.updatedAt;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCasesnumberChange",value:function(){this.gsapdata()}},{key:"gcase",get:function(){return this.casesnumber.toFixed(0)}},{key:"guser",get:function(){return this.usersnumber.toFixed(0)}},{key:"galg",get:function(){return this.algsnumber.toFixed(0)}},{key:"gmau",get:function(){return this.maunumber.toFixed(0)}}]),i}(r["a"]);Object(l["a"])([Object(u["g"])("algstats")],b.prototype,"onCasesnumberChange",null),b=Object(l["a"])([Object(u["a"])({name:"Statistic",components:{}})],b);var y=b,m=y,w=i("2877"),x=i("6544"),k=i.n(x),O=i("62ad"),S=i("a523"),j=i("0fd9"),C=i("8dd9"),z=Object(w["a"])(m,v,f,!1,null,"0cee8f8a",null),M=z.exports;k()(z,{VCol:O["a"],VContainer:S["a"],VRow:j["a"],VSheet:C["a"]});var I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[i("v-carousel",{attrs:{height:"200px",cycle:-1==e.model,"hide-delimiter-background":"","show-arrows":!1,"hide-delimiters":""},model:{value:e.modelindex,callback:function(t){e.modelindex=t},expression:"modelindex"}},e._l(e.slides,(function(t,r){return i("v-carousel-item",{key:r},[i("v-sheet",{attrs:{color:e.colors[r],height:"100%"}},[i("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[i("div",{staticClass:"display-3"},[e._v(e._s(t)+" Slide")])])],1)],1)})),1)],1)},E=[],_=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.modelindex=0,e.colors=["indigo","warning","pink darken-2","red lighten-1","deep-purple accent-4"],e.slides=["First","Second","Third","Fourth","Fifth"],e}return Object(o["a"])(i,[{key:"onModelChange",value:function(){-1==this.model||(this.modelindex=this.model)}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],_.prototype,"model",void 0),Object(l["a"])([Object(u["g"])("model")],_.prototype,"onModelChange",null),_=Object(l["a"])([Object(u["a"])({name:"Sponsor",components:{}})],_);var R=_,A=R,F=i("5e66"),T=i("3e35"),B=Object(w["a"])(A,I,E,!1,null,"56d64436",null),L=B.exports;k()(B,{VCarousel:F["a"],VCarouselItem:T["a"],VContainer:S["a"],VRow:j["a"],VSheet:C["a"]});var N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[i("v-chip-group",{attrs:{column:""}},[i("v-chip",{staticClass:"ma-2",attrs:{link:"",color:"green","text-color":"white"}},[i("v-avatar",{staticClass:"green darken-4",attrs:{left:""}},[e._v("3")]),e._v(" F2L ")],1),i("v-chip",{staticClass:"ma-2",attrs:{link:"",color:"indigo","text-color":"white"}},[i("v-avatar",{staticClass:"indigo darken-4",attrs:{left:""}},[e._v("2")]),e._v(" EG1 ")],1)],1)],1)},D=[],P=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){return Object(n["a"])(this,i),t.apply(this,arguments)}return i}(r["a"]);P=Object(l["a"])([Object(u["a"])({name:"Hot",components:{}})],P);var V=P,U=V,Z=i("8212"),q=i("cc20"),G=i("ef9a"),H=Object(w["a"])(U,N,D,!1,null,"3399eeca",null),X=H.exports;k()(H,{VAvatar:Z["a"],VChip:q["a"],VChipGroup:G["a"],VContainer:S["a"]});var $=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[i("v-list-group",{attrs:{value:e.model,"prepend-icon":"account_circle",color:"yellow"},scopedSlots:e._u([{key:"activator",fn:function(){return[i("v-list-item-title",[e._v("Users")])]},proxy:!0}])},e._l(e.items,(function(t,r){return i("v-list-item",{key:r,attrs:{link:""}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})),1)],1)},J=[],Y=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.items=[{icon:"mdi-heart",text:"我的收藏"},{icon:"mdi-file-edit",text:"个人资料"},{icon:"mdi-link",text:"绑定账号"}],e.model=!1,e}return i}(r["a"]);Y=Object(l["a"])([Object(u["a"])({name:"Account",components:{}})],Y);var W=Y,K=W,Q=i("132d"),ee=i("56b0"),te=i("da13"),ie=i("5d23"),re=i("34c3"),se=Object(w["a"])(K,$,J,!1,null,"6dcf52c4",null),ae=se.exports;k()(se,{VContainer:S["a"],VIcon:Q["a"],VListGroup:ee["a"],VListItem:te["a"],VListItemContent:ie["a"],VListItemIcon:re["a"],VListItemTitle:ie["c"]});var ne,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[i("v-tabs",{attrs:{centered:"",optional:"",grow:"","background-color":"teal lighten-1"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return i("v-tab",{key:t.tab},[e._v(" "+e._s(t.content)+" ")])})),1),i("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("v-tab-item",{key:"One"},[i("v-card",{attrs:{tile:"",dark:"",elevation:"0",color:"teal lighten-1"}},[i("v-card-title",[e._v("1")])],1)],1),i("v-tab-item",{key:"Two"},[i("v-row",[i("v-expansion-panels",{attrs:{accordion:""}},[i("v-expansion-panel",[i("v-expansion-panel-header",{attrs:{color:"cyan darken-2 white--text"}},[e._v("魔方底色:"+e._s(e.bottom))]),i("v-expansion-panel-content",[i("v-row",{attrs:{"no-gutters":"",dark:""}},[e._l(e.bottomlist,(function(t,r){return i("v-col",{key:r,attrs:{cols:"2"}},[i("v-card",{staticClass:"pa-2 d-flex bottomlayercolor",attrs:{dark:"","elevation-0":"",tileindex:"",color:t.color},on:{click:function(i){return e.setbottomlayer(t.name)}}},[i("v-list-item-title",{staticClass:"caption"},[e._v(e._s(t.name))])],1)],1)})),i("v-col",{staticClass:"bottombtn",attrs:{cols:"12"}},[i("v-btn",{attrs:{color:"success"},on:{click:e.saveThemeColors}},[e._v("确定")]),i("v-btn",{attrs:{color:"error"},on:{click:e.resetThemeColors}},[e._v("重置")])],1)],2)],1)],1),i("v-expansion-panel",[i("v-expansion-panel-header",{attrs:{color:"purple darken-2 white--text"}},[e._v("配色模板")]),i("v-expansion-panel-content",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"2"}},[i("p",{staticClass:"title ",staticStyle:{"line-height":"100px"}},[e._v("自定义")])]),i("v-col",{attrs:{cols:"10"}},[i("v-row",{attrs:{"no-gutters":""}},e._l(e.colorlist,(function(t,r){return i("v-col",{key:r,attrs:{cols:"2"}},[i("v-card",{staticClass:"pa-2 d-flex bottomlayercolor",attrs:{dark:"","elevation-0":"",tile:"",color:t.color},on:{click:function(t){return e.opencolorselect(r)}}},[i("v-list-item-subtitle",{staticClass:"caption"},[e._v(e._s(t.name))])],1)],1)})),1)],1),i("v-col",{staticClass:"preset",attrs:{cols:"12"}},[i("span",[e._v("预设")]),i("v-btn",{attrs:{small:"",color:"success"},on:{click:e.saveThemeColors}},[e._v("确定")]),i("v-btn",{attrs:{small:"",color:"error"},on:{click:e.resetThemeColors}},[e._v("重置")])],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{clos:"6"}},[i("v-row",{attrs:{"no-gutters":""}},e._l(e.stylelist,(function(t,r){return i("v-col",{key:r,staticClass:"colorset",attrs:{cols:"12"},on:{click:function(i){return e.setcolorset(i,t)}}},[i("v-row",{attrs:{"no-gutters":""}},e._l(e.facelist,(function(r,s){return i("v-col",{key:s,attrs:{cols:"2"}},[i("v-card",{staticClass:"pa-2 d-flex facecolor",attrs:{dark:"","elevation-0":"",tile:"",color:r.color+t}},[i("v-list-item-subtitle",{staticClass:"caption"},[e._v(e._s(r.name))])],1)],1)})),1)],1)})),1)],1),i("v-col",{attrs:{clos:"6"}},[i("v-row",{attrs:{"no-gutters":""}},e._l(e.stylelist,(function(t,r){return i("v-col",{key:r+1231231,staticClass:"colorset",attrs:{cols:"12"},on:{click:function(i){return e.setcolorset(i,t)}}},[i("v-row",{attrs:{"no-gutters":""}},e._l(e.facelist2,(function(r,s){return i("v-col",{key:s,attrs:{cols:"2"}},[i("v-card",{staticClass:"pa-2 d-flex facecolor",attrs:{dark:"","elevation-0":"",tile:"",color:r.color+t}},[i("v-list-item-subtitle",{staticClass:"caption"},[e._v(e._s(r.name))])],1)],1)})),1)],1)})),1)],1)],1)],1)],1)],1)],1)],1)],1),i("v-tab-item",{key:"Three"},[i("v-card",{attrs:{tile:"",dark:"",elevation:"0",color:"teal lighten-1"}},[i("v-card-title",[e._v("3")])],1)],1)],1),i("v-snackbar",{attrs:{timeout:e.timeout,color:"success",left:"",bottom:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" "),i("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1),i("v-bottom-sheet",{attrs:{dark:"",inset:""},model:{value:e.colord,callback:function(t){e.colord=t},expression:"colord"}},[i("v-card",{staticStyle:{margin:"auto","touch-action":"none","user-select":"none"},attrs:{flat:""}},[i("v-container",{style:{width:Math.min(8*e.size,e.width)+"px"},attrs:{fluid:"","grid-list-md":"","text-xs-center":""}},[i("v-layout",{attrs:{row:"",wrap:""}},e._l(e.palette,(function(t){return i("v-flex",{key:t,style:{padding:.06*e.size+"px"},attrs:{xs2:""}},[i("v-btn",{staticStyle:{"min-width":"0%","min-height":"0%",margin:"0%",padding:"0%"},attrs:{color:t,block:"",depressed:"",height:e.size},on:{click:function(i){return e.setcolor(t)}}})],1)})),1)],1)],1)],1)],1)},ce=[],he=i("b85c");(function(e){e[e["L"]=0]="L",e[e["R"]=1]="R",e[e["D"]=2]="D",e[e["U"]=3]="U",e[e["B"]=4]="B",e[e["F"]=5]="F"})(ne||(ne={}));var le={R:"#B71C1C",L:"#FF6D00",U:"#FFFFFF",D:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},ue={D:"#B71C1C",U:"#FF6D00",R:"#FFFFFF",L:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},de={U:"#B71C1C",D:"#FF6D00",L:"#FFFFFF",R:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},ve={R:"#B71C1C",L:"#FF6D00",F:"#FFFFFF",B:"#FFD600",D:"#00A020",U:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},fe={R:"#B71C1C",L:"#FF6D00",B:"#FFFFFF",F:"#FFD600",U:"#00A020",D:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},pe={R:"#B71C1C",L:"#FF6D00",U:"#FFFFFF",D:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},ge={L:"#B71C1C",R:"#FF6D00",D:"#FFFFFF",U:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},be=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.width=0,e.height=0,e.size=0,e.tab="",e.colord=!1,e.items=[{tab:"One",content:"外观"},{tab:"Two",content:"配色"},{tab:"Three",content:"计时"}],e.clickcolorindex=null,e.bottomlist=[{name:"蓝",value:"blue",color:"indigo"},{name:"绿",value:"green",color:"green"},{name:"黄",value:"yellow",color:"yellow"},{name:"白",value:"white",color:"grey lighten-1"},{name:"橙",value:"orange",color:"orange"},{name:"红",value:"red",color:"red"}],e.colorlist=[{name:"蓝",value:"blue",color:"indigo"},{name:"绿",value:"green",color:"green"},{name:"黄",value:"yellow",color:"yellow"},{name:"白",value:"white",color:"grey lighten-1"},{name:"橙",value:"orange",color:"orange"},{name:"红",value:"red",color:"red"}],e.bottom="",e.facelist=[{name:"蓝",value:"blue",color:"indigo"},{name:"绿",value:"green",color:"green"},{name:"黄",value:"yellow",color:"yellow"},{name:"白",value:"white",color:"white"},{name:"橙",value:"orange",color:"orange"},{name:"红",value:"red",color:"red"}],e.facelist2=[{name:"蓝",value:"blue",color:"blue"},{name:"绿",value:"green",color:"light-green"},{name:"黄",value:"yellow",color:"amber"},{name:"白",value:"white",color:"grey"},{name:"橙",value:"orange",color:"orange"},{name:"红",value:"red",color:"pink"}],e.stylelist=[" lighten-4"," lighten-3"," lighten-2"," lighten-1"," "," darken-1"," darken-2"," darken-3"," darken-4"],e.palette=["#FFD600","#FFFF00","#FFFF8D","#FEFE00","#FDD835","#FFC107","#FF6D00","#FFA100","#FB8C00","#F57C00","#EF6C00","#E65100","#B71C1C","#FF0000","#EE0000","#DD0000","#CC0000","#BF360C","#0D47A1","#0000FF","#88DDFF","#03A9F4","#1976D2","#1A237E","#00A020","#00FF00","#76FF03","#00D800","#00A000","#006600","#FF4081","#EEE8AA","#FF99FF","#A83DD9","#607D8B","#885500","#202020","#000000","#606060","#A0A0A0","#D0D0D0","#FFFFFF"],e.snackbar=!1,e.message="",e.timeout=2e3,e}return Object(o["a"])(i,[{key:"setSponsorIndex",value:function(e){return{data:e}}},{key:"Switch2CubeSample",value:function(){return!0}},{key:"setthemecolor",value:function(e){return e}},{key:"resetThemeColors",value:function(){return this.getlocalstoragecolors(),this.snackbar=!0,this.message="重置成功",!0}},{key:"saveThemeColors",value:function(){return this.snackbar=!0,this.message="设置颜色成功",!0}},{key:"onTabChange",value:function(){this.Switch2CubeSample()}},{key:"resize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.size=Math.ceil(Math.min(this.width/6,this.height/12))}},{key:"mounted",value:function(){this.bottom=window.localStorage.getItem("bottomlayer"),this.resize(),this.getlocalstoragecolors()}},{key:"setbottomlayer",value:function(e){switch(window.localStorage.setItem("bottomlayer",e),this.bottom=e,e){case"蓝":this.setthemecolor(fe);break;case"绿":this.setthemecolor(ve);break;case"黄":this.setthemecolor(pe);break;case"白":this.setthemecolor(ge);break;case"橙":this.setthemecolor(de);break;case"红":this.setthemecolor(ue);break;default:break}}},{key:"opencolorselect",value:function(e){this.colord=!0,this.clickcolorindex=e}},{key:"getlocalstoragecolors",value:function(){var e=JSON.parse(window.localStorage.getItem("cubeconfig:casegroup")).themeconfig.colors;this.colorlist[0].color=e.B,this.colorlist[1].color=e.F,this.colorlist[2].color=e.U,this.colorlist[3].color=e.D,this.colorlist[4].color=e.L,this.colorlist[5].color=e.R}},{key:"setcolor",value:function(e){switch(this.colorlist[this.clickcolorindex].color=e,this.clickcolorindex){case 0:this.setthemecolor({B:e});break;case 1:this.setthemecolor({F:e});break;case 2:this.setthemecolor({U:e});break;case 3:this.setthemecolor({D:e});break;case 4:this.setthemecolor({R:e});break;case 5:this.setthemecolor({L:e});break;default:break}this.colord=!1}},{key:"setcolorset",value:function(e,t){var i,r=e.currentTarget.getElementsByClassName("facecolor"),s=[],a=Object(he["a"])(r);try{for(a.s();!(i=a.n()).done;){var n=i.value,o=window.getComputedStyle(n).backgroundColor;s.push(o)}}catch(l){a.e(l)}finally{a.f()}for(var c in s)this.colorlist[c].color=s[c];var h={B:s[0],F:s[1],U:s[2],D:s[3],L:s[4],R:s[5]};this.setthemecolor(h)}}]),i}(r["a"]);Object(l["a"])([Object(u["b"])("setsponsorindex")],be.prototype,"setSponsorIndex",null),Object(l["a"])([Object(u["b"])("switch2cubesample")],be.prototype,"Switch2CubeSample",null),Object(l["a"])([Object(u["b"])("setthemecolor")],be.prototype,"setthemecolor",null),Object(l["a"])([Object(u["b"])("resetthemecolors")],be.prototype,"resetThemeColors",null),Object(l["a"])([Object(u["b"])("savethemecolors")],be.prototype,"saveThemeColors",null),Object(l["a"])([Object(u["g"])("tab")],be.prototype,"onTabChange",null),be=Object(l["a"])([Object(u["a"])({name:"Account",components:{}})],be);var ye=be,me=ye,we=(i("19af"),i("288c")),xe=i("8336"),ke=i("b0af"),Oe=i("99d9"),Se=i("cd55"),je=i("49e2"),Ce=i("c865"),ze=i("0393"),Me=i("0e8f"),Ie=i("a722"),Ee=i("2db4"),_e=i("71a3"),Re=i("c671"),Ae=i("fe57"),Fe=i("aac8"),Te=Object(w["a"])(me,oe,ce,!1,null,"1c6a05e3",null),Be=Te.exports;k()(Te,{VBottomSheet:we["a"],VBtn:xe["a"],VCard:ke["a"],VCardTitle:Oe["b"],VCol:O["a"],VContainer:S["a"],VExpansionPanel:Se["a"],VExpansionPanelContent:je["a"],VExpansionPanelHeader:Ce["a"],VExpansionPanels:ze["a"],VFlex:Me["a"],VLayout:Ie["a"],VListItemSubtitle:ie["b"],VListItemTitle:ie["c"],VRow:j["a"],VSnackbar:Ee["a"],VTab:_e["a"],VTabItem:Re["a"],VTabs:Ae["a"],VTabsItems:Fe["a"]});var Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:""}},[i("Render",{ref:"render",attrs:{worldin:e.world,cubeconfig:e.cubeconfig,cubesize:e.cubesize}})],1)},Ne=[],De=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cube",staticStyle:{"text-align":"center"},on:{mouseenter:e.hoverin,mouseleave:e.hoverout,touchstart:e.hoverin,touchend:e.hoverout}})},Pe=[],Ve=i("5a89"),Ue=function e(t,i,r){Object(n["a"])(this,e),this.type=t,this.x=i,this.y=r},Ze=function(){function e(){var t=this;Object(n["a"])(this,e),this.offsetX=0,this.offsetY=0,this.setoffset=function(e){var i=[e.getBoundingClientRect().left,e.getBoundingClientRect().top];t.offsetX=i[0],t.offsetY=i[1]},this.mouse=function(e){t.dom.tabIndex=1,t.dom.focus();var i=new Ue(e.type,e.clientX-t.offsetX,e.clientY-t.offsetY);return t.callback(i),e.returnValue=!1,!1},this.touch=function(e){t.dom.tabIndex=1,t.dom.focus();var i=e.changedTouches,r=i[0],s=new Ue(e.type,r.clientX-t.offsetX,r.clientY-t.offsetY);return t.callback(s),e.preventDefault(),!0}}return Object(o["a"])(e,[{key:"init",value:function(e,t){this.dom=e,this.callback=t,e.addEventListener("touchstart",this.touch),e.addEventListener("touchmove",this.touch),e.addEventListener("touchend",this.touch),e.addEventListener("touchcancel",this.touch),e.addEventListener("mousedown",this.mouse),e.addEventListener("mousemove",this.mouse),e.addEventListener("mouseup",this.mouse),e.addEventListener("mouseout",this.mouse)}}]),e}(),qe=(i("a623"),i("a15b"),i("257e")),Ge=(i("b0c0"),i("4ec9"),i("a9e3"),i("d3b7"),i("3ca3"),i("466d"),i("5319"),i("ddb0"),i("2909")),He=(i("99af"),i("c975"),i("a434"),function(){function e(t,i,r,s){Object(n["a"])(this,e),this.begin=t,this.end=i,this.duration=r,this.callback=s,this.value=0,this.delta=1}return Object(o["a"])(e,[{key:"speedup",value:function(){this.delta=4}},{key:"finish",value:function(){this.callback(this.end)}},{key:"update",value:function(){this.value=this.value+this.delta;var e=this.value/this.duration;e=e>1?1:e,e=e<0?0:e,e-=1;var t=1-e*e;return 1==t?(this.callback(this.end),!1):(this.callback(this.begin+(this.end-this.begin)*t),!0)}}]),e}()),Xe=function(){function e(){Object(n["a"])(this,e),this.tweens=[],this.loop()}return Object(o["a"])(e,[{key:"loop",value:function(){requestAnimationFrame(this.loop.bind(this)),this.update()}},{key:"tween",value:function(e,t,i,r){this.tweens.push(new He(e,t,i,r))}},{key:"update",value:function(){if(0===this.tweens.length)return!1;var e=0;while(e<this.tweens.length)this.tweens[e].update()?e++:this.tweens.splice(e,1);return!0}},{key:"speedup",value:function(){var e,t=Object(he["a"])(this.tweens);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.speedup()}}catch(r){t.e(r)}finally{t.f()}}},{key:"finish",value:function(){var e,t=this.tweens.splice(0,this.tweens.length),i=Object(he["a"])(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.finish()}}catch(s){i.e(s)}finally{i.f()}}},{key:"length",get:function(){return this.tweens.length}}]),e}(),$e=new Xe,Je=$e,Ye=function(){function e(t){var i=this;Object(n["a"])(this,e),this.world=t,this.queue=[],this.world.callbacks.push((function(){i.update()}))}return Object(o["a"])(e,[{key:"finish",value:function(){var e,t=Object(he["a"])(this.queue);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.fast=!0}}catch(r){t.e(r)}finally{t.f()}Je.finish()}},{key:"twist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.queue.length>0&&(Je.finish(),this.update()),Je.speedup();var a,n=new Ke(e,t,i),o=n.parse(),c=Object(he["a"])(o);try{for(c.s();!(a=c.n()).done;){var h=a.value;h.fast=r,this.queue.push(h)}}catch(l){c.e(l)}finally{c.f()}s&&(o[o.length-1].callback=s),this.update()}},{key:"push",value:function(e){this.queue.push(e),this.update()}},{key:"update",value:function(){if(0!==this.queue.length&&!this.world.cube.lock){var e=this.queue.shift();void 0!=e&&this.start(e)}}},{key:"start",value:function(t){if("#"==t.group)return this.world.cube.reset(),this.world.cube.dirty=!0,this.world.cube.history.clear(),void this.world.callback();if("*"==t.group){this.world.cube.reset(),this.world.cube.dirty=!0;var i=e.shuffle(this.world.cube.order);return this.twist(i,!1,1,!0),this.world.cube.history.clear(),void(this.world.cube.history.init=i)}var r=-Math.PI/2;t.reverse&&(r=-r),t.times&&(r*=t.times);var s=this.world.cube.groups.get(t.group);void 0!==s?(s.angle=0,s.hold(),t.fast&&(s.angle=r),s.twist(r),setTimeout((function(){t.callback&&t.callback()}),800)):this.update()}},{key:"undo",value:function(){if(0!=this.world.cube.history.length&&(this.finish(),0!=this.world.cube.history.length)){var e=this.world.cube.history.last,t=new We(e.group,!e.reverse,e.times);this.push(t)}}},{key:"length",get:function(){return this.queue.length}}],[{key:"shuffle",value:function(e){for(var t="",i=[],r=-1,s=["Uw","Dw","Rw","Lw","Fw","Bw"],a=-1,n=0;n<9*e;n++){var o=[];while(a==r)a=Math.floor(3*Math.random());var c=Math.floor(2*Math.random()),h=s[2*a+c],l=Math.ceil(Math.random()*Math.floor(e/2));1===l&&(h=h[0]),l>2&&o.push(l),o.push(h);var u=Math.random();u<.2?o.push("2"):u<.6&&o.push("'"),i.push(o.join("")),r=a}return t=i.join(" "),t}}]),e}(),We=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(n["a"])(this,e),this.group=t,this.reverse=i,this.times=r,this.fast=s}return Object(o["a"])(e,[{key:"value",get:function(){var e=this.times,t=this.reverse;return 3===e&&(e=1,t=!t),2===e&&(t=!1),0==e?"":this.group+(t?"'":"")+(1==e?"":String(e))}}]),e}(),Ke=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(Object(n["a"])(this,e),this.children=[],this.twist=new We(t,i,r),t.match(/^[0123456789-]*[\*~.#xyzbsfdeulmr][w]*$/gi))/[XYZ]/.test(this.twist.group)&&(this.twist.group=this.twist.group.toLowerCase());else{var s,a=e.SPLIT_SEGMENT(t),o=Object(he["a"])(a);try{for(o.s();!(s=o.n()).done;){var c=s.value,h=void 0;if(h=c.match(/^\[(.+[:|,].+)\]$/i),h)switch(h=e.SPLIT_BRACKET(h[1]),h[1]){case",":this.children.push(new e(h[0],!1,1)),this.children.push(new e(h[2],!1,1)),this.children.push(new e(h[0],!0,1)),this.children.push(new e(h[2],!0,1));break;case":":this.children.push(new e(h[0],!1,1)),this.children.push(new e(h[2],!1,1)),this.children.push(new e(h[0],!0,1));break;default:break}else{if(h=c.match(/^(\[.+[:|,].+\])('?)(\d*)('?)$/i),null===h&&(h=c.match(/^\((.+)\)('?)(\d*)('?)$/i)),null===h&&(h=c.match(/([0123456789-]*[\*\#~.xyzbsfdeulmr][w]*)('?)(\d*)('?)/i)),null===h)return;var l=1==(h[2]+h[4]).length,u=0==h[3].length?1:parseInt(h[3]);this.children.push(new e(h[1],l,u))}}}catch(d){o.e(d)}finally{o.f()}}}return Object(o["a"])(e,[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=this.twist.reverse!==e;var t=[];if(0!==this.children.length)for(var i=0;i<this.twist.times;i++)for(var r=0;r<this.children.length;r++){var s;s=e?this.children[this.children.length-r-1]:this.children[r];var a,n=s.parse(e),o=Object(he["a"])(n);try{for(o.s();!(a=o.n()).done;){var c=a.value;t.push(c)}}catch(l){o.e(l)}finally{o.f()}}else if(""!=this.twist.group){var h=new We(this.twist.group,e,this.twist.times);t.push(h)}return t}},{key:"value",get:function(){return this.twist.value}}],[{key:"SPLIT_SEGMENT",value:function(t){for(var i=[],r="",s=0,a=!1,n=!1,o=0;o<t.length;o++){var c=t.charAt(o);" "===c&&0==r.length||("/"!==c||"/"!==t.charAt(o+1)?"\n"!==c?n||(e.AFFIX.indexOf(c)>=0?r=r.concat(c):r.length>0&&0==s&&a?(i.push(r),r="",o--,a=!1):"("!==c&&"["!==c?")"!==c&&"]"!==c?(a=!0,r=r.concat(c)):(r=r.concat(c),s--):(r=r.concat(c),s++)):n=!1:(o++,n=!0))}return r.length>0&&i.push(r),i}},{key:"SPLIT_BRACKET",value:function(e){for(var t=[],i="",r=0,s=0;s<e.length;s++){var a=e.charAt(s);0!=r||","!==a&&":"!==a?"("!==a&&"["!==a?")"!==a&&"]"!==a?i=i.concat(a):(i=i.concat(a),r--):(i=i.concat(a),r++):(t.push(i),t.push(a),i="")}return i.length>0&&t.push(i),t}}]),e}();Ke.AFFIX="'Ww0123456789-";var Qe=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r,s,a){var o;return Object(n["a"])(this,i),o=t.call(this),o.cube=e,o._angle=0,o.cubelets=[],o.name=r,o.indices=s,o.axis=a,o.matrixAutoUpdate=!1,o.updateMatrix(),o}return Object(o["a"])(i,[{key:"exp",value:function(e,t){var r=this.name,s=this.name.match(/(^-?[xyz]):(\d*):(\d*$)/i);if(4==(null===s||void 0===s?void 0:s.length)){var a=s[1],n=Number(s[2]),o=Number(s[3]),c=(this.cube.order+1)/2;if(Math.abs(n-c)<Math.abs(o-c)){var h=[o,n];n=h[0],o=h[1]}1==a.length&&n<c?(a="-"+a,e=!e):2==a.length&&n>c&&(a=a[1],e=!e),1==a.length&&(n=this.cube.order-n+1,o=this.cube.order-o+1),r=i.AXIS_TABLE[a],n==o?n===c?(r=i.MES_TABLE[r].toUpperCase(),2==r.length&&(r=r[0],e=!e)):r=(1===n?"":String(n))+r:1===n&&o===this.cube.order?(r=a,2==r.length&&(r=r[1],e=!e)):2===n&&o===this.cube.order-1?(r=i.MES_TABLE[r].toLowerCase(),2==r.length&&(r=r[0],e=!e)):r=1===n?(o>2?String(o):"")+r+"w":String(n)+"-"+String(o)+r+"w"}return new We(r,e,t)}},{key:"hold",value:function(){this.angle=0;var e,t=Object(he["a"])(this.indices);try{for(t.s();!(e=t.n()).done;){var i=e.value,r=this.cube.cubelets[i];this.cubelets.push(r),this.cube.remove(r),this.add(r)}}catch(s){t.e(s)}finally{t.f()}this.cube.lock=!0}},{key:"drop",value:function(){this.angle=Math.round(this.angle/(Math.PI/2))*(Math.PI/2);while(1){var e=this.cubelets.pop();if(void 0===e)break;this.rotate(e),this.remove(e),this.cube.add(e),this.cube.cubelets[e.index]=e}this.cube.lock=!1,0!=this.angle&&this.cube.update(),this.angle=0}},{key:"twist",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.angle;t=Math.round(t/(Math.PI/2))*(Math.PI/2);var r=t>0,s=Math.round(Math.abs(t)/(Math.PI/2));0!=s&&this.cube.record(this.exp(r,s));var a=t-this.angle;if(0===a)this.drop();else{var n=Math.abs(a)/(Math.PI/2),o=i.frames*(2-2/(n+1));Je.tween(this.angle,t,o,(function(i){e.angle=i,Math.abs(e.angle-t)<1e-6&&e.drop()}))}}},{key:"rotate",value:function(e){e.rotateOnWorldAxis(this.axis,this.angle),e.vector=e.vector.applyAxisAngle(this.axis,this.angle),e.updateMatrix()}},{key:"angle",set:function(e){this.setRotationFromAxisAngle(this.axis,e),this._angle=e,this.updateMatrix(),this.cube.dirty=!0},get:function(){return this._angle}}]),i}(Ve["i"]);Qe.frames=30,Qe.AXIS_TABLE={x:"R",y:"U",z:"F","-x":"L","-y":"D","-z":"B"},Qe.MES_TABLE={R:"M'",U:"E'",F:"S",L:"M",D:"E",B:"S'"};var et=function(){function e(t){Object(n["a"])(this,e),this.groups=new Map,this.order=t.order;for(var i=0,r=["x","y","z"];i<r.length;i++)for(var s=r[i],a=1;a<=this.order;a++)for(var o=a;o<=this.order;o++){var c=e.FORMAT(s,a,o);this.groups.set(c,new Qe(t,c,[],e.AXIS_VECTOR[s]))}for(var h=0,l=["center","edge","corner"];h<l.length;h++){var u=l[h];this.groups.set(u,new Qe(t,u,[],e.AXIS_VECTOR["a"]))}var d,v=Object(he["a"])(t.initials);try{for(v.s();!(d=v.n()).done;){var f=d.value,p=f.initial,g=void 0,b=void 0,y=void 0,m=0;if(g="x",b=p%this.order+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();if(y.indices.push(f.index),g="y",b=Math.floor(p%(this.order*this.order)/this.order)+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();if(y.indices.push(f.index),g="z",b=Math.floor(p/(this.order*this.order))+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();y.indices.push(f.index),y=this.groups.get(["","center","edge","corner"][m]),y&&y.indices.push(f.index)}}catch(Z){v.e(Z)}finally{v.f()}for(var w=0,x=["x","y","z"];w<x.length;w++)for(var k=x[w],O=1;O<=this.order;O++)for(var S=O+1;S<=this.order;S++){var j=this.groups.get(e.FORMAT(k,O,S));if(!j)throw Error();for(var C=O;C<=S;C++){var z,M=this.groups.get(e.FORMAT(k,C,C));if(!M)throw Error();(z=j.indices).push.apply(z,Object(Ge["a"])(M.indices))}}for(var I=0,E=["-x","-y","-z"];I<E.length;I++)for(var _=E[I],R=1;R<=this.order;R++)for(var A=R;A<=this.order;A++){var F=this.groups.get(e.FORMAT(_.replace("-",""),R,A));if(!F)throw Error();var T=e.FORMAT(_,R,A);this.groups.set(T,new Qe(t,T,F.indices,e.AXIS_VECTOR[_]))}for(var B=0,L=["x","y","z"];B<L.length;B++){var N=L[B],D=this.groups.get(e.FORMAT(N.replace("-",""),1,this.order));if(!D)throw Error();this.groups.set(N,new Qe(t,N,D.indices,e.AXIS_VECTOR[N]))}var P,V=Object(he["a"])(this.groups.values());try{for(V.s();!(P=V.n()).done;){var U=P.value;t.add(U)}}catch(Z){V.e(Z)}finally{V.f()}this.groups.set(".",new Qe(t,name,[],e.AXIS_VECTOR["a"])),this.groups.set("~",new Qe(t,name,[],e.AXIS_VECTOR["a"]))}return Object(o["a"])(e,[{key:"get",value:function(t){var i="",r=0,s=0;if(this.groups.get(t))return this.groups.get(t);if(t.match(/.[Ww]/)&&(t=t.toLowerCase().replace("w","")),/[XYZ]/.test(t)&&(t=t.toLowerCase()),1===t.length)switch(t){case"x":case"y":case"z":return this.groups.get(t);case"R":case"L":case"U":case"D":case"F":case"B":i=e.AXIS_MAP[t],r=2==i.length?1:this.order,s=r;break;case"r":case"l":case"u":case"d":case"f":case"b":i=e.AXIS_MAP[t.toUpperCase()],r=2==i.length?1:this.order,s=2==i.length?2:this.order-1;break;case"E":case"M":case"S":i=e.AXIS_MAP[t],r=Math.floor((this.order+1)/2),s=Math.ceil((this.order+1)/2);break;case"e":case"m":case"s":i=e.AXIS_MAP[t.toUpperCase()],r=2,s=this.order-1;break}else{var a=t.match(/([0123456789]*)(-?)([0123456789]*)([lrudfb])/i);if(null==a)return;r=Number(a[1]),s=Number(a[3]),NaN!==s&&0!==s||(s=/[lrudfb]/.test(a[4])?1:r),i=e.AXIS_MAP[a[4].toUpperCase()],r=2==i.length?r:this.order-r+1,s=2==i.length?s:this.order-s+1}if(r>s){var n=[s,r];r=n[0],s=n[1]}return this.groups.get(e.FORMAT(i,r,s))}}],[{key:"FORMAT",value:function(e,t,i){return e+":"+t+":"+i}}]),e}();et.AXIS_VECTOR={a:new Ve["x"](1,1,1),x:new Ve["x"](1,0,0),y:new Ve["x"](0,1,0),z:new Ve["x"](0,0,1),"-x":new Ve["x"](-1,0,0),"-y":new Ve["x"](0,-1,0),"-z":new Ve["x"](0,0,-1)},et.AXIS_MAP={R:"x",L:"-x",U:"y",D:"-y",F:"z",B:"-z",M:"-x",E:"-y",S:"z"};var tt=i("99de"),it=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this);for(var a=e/2,o=a-r,c=[[-o,+o,+a],[+o,+o,+a],[+o,-o,+a],[-o,-o,+a],[-o,+a,-o],[+o,+a,-o],[+o,+a,+o],[-o,+a,+o],[-a,-o,-o],[-a,+o,-o],[-a,+o,+o],[-a,-o,+o],[+o,+o,-a],[-o,+o,-a],[-o,-o,-a],[+o,-o,-a],[-o,-a,+o],[+o,-a,+o],[+o,-a,-o],[-o,-a,-o],[+a,+o,+o],[+a,+o,-o],[+a,-o,-o],[+a,-o,+o]],h=0;h<c.length;h++){var l=c[h];s.vertices.push(new Ve["x"](l[0],l[1],l[2]))}for(var u=0;u<i._INDICES.length;u++){var d=i._INDICES[u],v=new Ve["g"](d[0],d[1],d[2]);s.faces.push(v)}return s.computeFaceNormals(),s}return i}(Ve["h"]);it._INDICES=[[0,2,1],[0,3,2],[4,6,5],[4,7,6],[8,10,9],[8,11,10],[12,14,13],[12,15,14],[16,18,17],[16,19,18],[20,22,21],[20,23,22],[1,6,7],[0,1,7],[3,0,10],[11,3,10],[17,2,3],[16,17,3],[23,20,1],[2,23,1],[5,12,13],[4,5,13],[9,13,14],[8,9,14],[22,15,12],[21,22,12],[19,14,15],[18,19,15],[7,4,9],[10,7,9],[11,8,19],[16,11,19],[23,17,18],[22,23,18],[20,21,5],[6,20,5],[20,6,1],[10,0,7],[21,12,5],[13,9,4],[23,2,17],[11,16,3],[22,18,15],[8,14,19]];var rt=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){Object(n["a"])(this,i),e/=2;var s=-e,a=e,o=-e,c=e,h=e/4,l=new Ve["u"];return l.moveTo(s,o+h),l.lineTo(s,a-h),l.quadraticCurveTo(s,a,s+h,a),l.lineTo(c-h,a),l.quadraticCurveTo(c,a,c,a-h),l.lineTo(c,o+h),l.quadraticCurveTo(c,o,c-h,o),l.lineTo(s+h,o),l.quadraticCurveTo(s,o,s,o+h),l.closePath(),t.call(this,l,{bevelEnabled:!1,depth:r})}return i}(Ve["f"]),st=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e){Object(n["a"])(this,i),e/=2;var r=-e,s=e,a=-e,o=e,c=e/4,h=new Ve["u"];return h.moveTo(r,a+c),h.lineTo(r,s-c),h.quadraticCurveTo(r,s,r+c,s),h.lineTo(o-c,s),h.quadraticCurveTo(o,s,o,s-c),h.lineTo(o,a+c),h.quadraticCurveTo(o,a,o-c,a),h.lineTo(r+c,a),h.quadraticCurveTo(r,a,r,a+c),h.closePath(),t.call(this,h)}return i}(Ve["v"]),at=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this),s.order=e,s.initial=r,s._vector=new Ve["x"],s.index=r,s.stickers=[],s._quaternion=new Ve["r"],s.mirrors=[];var a=s.position.x*s.position.x,o=s.position.y*s.position.y,c=s.position.z*s.position.z,h=a+o+c-Math.min(a,o,c);if(h=Math.sqrt(h)+Math.sqrt(2)*i.SIZE/2-e*i.SIZE/2,h<0)return Object(tt["a"])(s);var l=(e-1)/2;s.lamberts=[s.vector.x==-l?i.LAMBERS.L:void 0,s.vector.x==l?i.LAMBERS.R:void 0,s.vector.y==-l?i.LAMBERS.D:void 0,s.vector.y==l?i.LAMBERS.U:void 0,s.vector.z==-l?i.LAMBERS.B:void 0,s.vector.z==l?i.LAMBERS.F:void 0],s.basics=[s.vector.x==-l?i.BASICS.L:void 0,s.vector.x==l?i.BASICS.R:void 0,s.vector.y==-l?i.BASICS.D:void 0,s.vector.y==l?i.BASICS.U:void 0,s.vector.z==-l?i.BASICS.B:void 0,s.vector.z==l?i.BASICS.F:void 0],s.frame=new Ve["k"](i._FRAME,i.PHONG),s.add(s.frame),s.box=new Ve["b"](s.frame,new Ve["c"](le.Gray));for(var u=0;u<6;u++)if(void 0!=s.lamberts[u]){var d=new Ve["k"](i._STICKER,s.lamberts[u]);switch(d.name=ne[u],u){case ne.L:d.rotation.y=-Math.PI/2,d.position.x=-i.SIZE/2;break;case ne.R:d.rotation.y=Math.PI/2,d.position.x=i.SIZE/2;break;case ne.D:d.rotation.x=Math.PI/2,d.position.y=-i.SIZE/2;break;case ne.U:d.rotation.x=-Math.PI/2,d.position.y=i.SIZE/2;break;case ne.B:d.rotation.x=Math.PI,d.position.z=-i.SIZE/2;break;case ne.F:d.rotation.x=2*Math.PI,d.position.z=i.SIZE/2;break;default:break}s.add(d),s.stickers[u]=d;var v=new Ve["k"](i._MIRROR,s.basics[u]);v.rotation.x=0==d.rotation.x?0:d.rotation.x+Math.PI,v.rotation.y=0==d.rotation.y?0:d.rotation.y+Math.PI,v.rotation.z=0==d.rotation.z?0:d.rotation.z+Math.PI,v.rotation.x+v.rotation.y+v.rotation.z==0&&(v.rotation.y=Math.PI),v.position.x=3*d.position.x,v.position.y=3*d.position.y,v.position.z=3*d.position.z,s.add(v),s.mirrors[u]=v}return s.matrixAutoUpdate=!1,s.updateMatrix(),s}return Object(o["a"])(i,[{key:"getColor",value:function(e){var t=new Ve["x"](0,0,0);switch(e){case ne.L:t.x=-1;break;case ne.R:t.x=1;break;case ne.D:t.y=-1;break;case ne.U:t.y=1;break;case ne.B:t.z=-1;break;case ne.F:t.z=1;break;default:break}this._quaternion.copy(this.quaternion),t.applyQuaternion(this._quaternion.inverse());var i=Math.round(t.x),r=Math.round(t.y),s=Math.round(t.z),a=0;return i<0?a=ne.L:i>0?a=ne.R:r<0?a=ne.D:r>0?a=ne.U:s<0?a=ne.B:s>0&&(a=ne.F),a}},{key:"stick",value:function(e,t){var r,s;void 0!==this.stickers[e]&&("remove"!=t?(this.stickers[e].visible=!0,"cloud"==t?(r=i.DEPTH,s=i.DEPTH):t&&t.length>0?(r=i.LAMBERS[t],s=i.LAMBERS[t]):(r=this.lamberts[e],s=this.basics[e]),void 0!==r&&void 0!==s&&(this.stickers[e].material=r,this.mirrors[e]instanceof Ve["k"]&&(this.mirrors[e].material=s))):this.stickers[e].visible=!1)}},{key:"vector",set:function(e){var t=(this.order-1)/2,r=Math.round(2*e.x)/2,s=Math.round(2*e.y)/2,a=Math.round(2*e.z)/2;this._vector.set(r,s,a),r=Math.round(r+t),s=Math.round(s+t),a=Math.round(a+t),this._index=a*this.order*this.order+s*this.order+r,this.position.x=i.SIZE*this._vector.x,this.position.y=i.SIZE*this._vector.y,this.position.z=i.SIZE*this._vector.z},get:function(){return this._vector}},{key:"index",set:function(e){var t=(this.order-1)/2,i=e%this.order-t,r=Math.floor(e%(this.order*this.order)/this.order)-t,s=Math.floor(e/(this.order*this.order))-t;this.vector=new Ve["x"](i,r,s)},get:function(){return this._index}},{key:"mirror",set:function(e){if(e)for(var t=0;t<6;t++)this.mirrors[t]instanceof Ve["k"]&&this.children.indexOf(this.mirrors[t])<0&&this.add(this.mirrors[t]);else for(var i=0;i<6;i++)this.mirrors[i]instanceof Ve["k"]&&this.children.indexOf(this.mirrors[i])>=0&&this.remove(this.mirrors[i])}},{key:"cloud",set:function(e){this.frame instanceof Ve["k"]&&(this.frame.material=e?i.DEPTH:i.PHONG)}},{key:"wireframe",set:function(e){e?this.box&&this.children.indexOf(this.box)<0&&this.add(this.box):this.box&&this.children.indexOf(this.box)>=0&&this.remove(this.box)}},{key:"hollow",set:function(e){e?this.frame&&this.children.indexOf(this.frame)>=0&&this.remove(this.frame):this.frame&&this.children.indexOf(this.frame)<0&&this.add(this.frame)}}]),i}(Ve["i"]);at.SIZE=64,at._BORDER_WIDTH=3,at._STICKER_DEPTH=3,at._FRAME=new it(at.SIZE,at._BORDER_WIDTH),at._STICKER=new rt(at.SIZE-2*at._BORDER_WIDTH-at._STICKER_DEPTH,at._STICKER_DEPTH),at._MIRROR=new st(at.SIZE-2*at._BORDER_WIDTH-at._STICKER_DEPTH),at.LAMBERS=function(){var e={};for(var t in le){var i=le[t];e[t]=new Ve["n"]({color:i})}return e}(),at.PHONG=new Ve["o"]({color:le.Core,specular:8421504,shininess:8}),at.DEPTH=new Ve["m"]({}),at.BASICS=function(){var e={};for(var t in le){var i=le[t];e[t]=new Ve["l"]({color:i})}return e}();i("baa5");var nt=function(){function e(){Object(n["a"])(this,e),this.list=[],this.init="",this.exp=""}return Object(o["a"])(e,[{key:"record",value:function(e){if(0==this.list.length)e.times=e.times%4,0!=e.times&&(this.list.push(e),this.exp=this.exp+" "+e.value);else{var t=this.list[this.list.length-1];t.group==e.group?(t.times=t.times+e.times*(t.reverse==e.reverse?1:-1),t.times=t.times%4,this.exp=this.exp.substring(0,this.exp.lastIndexOf(" ")),0==t.times?this.list.pop():this.exp=this.exp+" "+t.value):(this.list.push(e),this.exp=this.exp+" "+e.value)}}},{key:"clear",value:function(){this.list=[],this.init="",this.exp=""}},{key:"last",get:function(){return this.list[this.list.length-1]}},{key:"length",get:function(){return this.list.length}},{key:"moves",get:function(){var e,t=this.length,i=Object(he["a"])(this.list);try{for(i.s();!(e=i.n()).done;){var r=e.value;"x"!=r.group&&"y"!=r.group&&"z"!=r.group||t--}}catch(s){i.e(s)}finally{i.f()}return t}}]),e}(),ot=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this),s.dirty=!0,s.lock=!1,s.cubelets=[],s.initials=[],s.complete=!1,s.order=e,s.callback=r,s.scale.set(3/e,3/e,3/e);for(var a=0;a<e*e*e;a++){var o=new at(e,a);s.cubelets.push(o),s.initials.push(o),s.add(o)}return s.history=new nt,s.groups=new et(Object(qe["a"])(s)),s.matrixAutoUpdate=!1,s.updateMatrix(),s}return Object(o["a"])(i,[{key:"record",value:function(e){this.history.record(e)}},{key:"update",value:function(){var e=this,t=[ne.U,ne.D,ne.L,ne.R,ne.F,ne.B].every((function(t){var i=e.groups.get(ne[t]);if(!i)throw Error();var r=e.cubelets[i.indices[0]].getColor(t),s=i.indices.every((function(i){return r==e.cubelets[i].getColor(t)}));return s}));this.complete=t,this.callback()}},{key:"index",value:function(e){return this.initials[e].index}},{key:"reset",value:function(){var e,t=Object(he["a"])(this.cubelets);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.setRotationFromEuler(new Ve["e"](0,0,0)),i.index=i.initial,i.updateMatrix()}}catch(r){t.e(r)}finally{t.f()}this.cubelets.sort((function(e,t){return e.index-t.index}))}},{key:"stick",value:function(e,t,i){var r=this.initials[e];if(!r)throw Error("invalid cubelet index: "+e);r.stick(t,i),this.dirty=!0}},{key:"strip",value:function(e){for(var t=0,i=[ne.L,ne.R,ne.D,ne.U,ne.B,ne.F];t<i.length;t++){var r=i[t],s=ne[r],a=this.groups.get(s);if(!a)throw Error();var n,o=Object(he["a"])(a.indices);try{for(o.s();!(n=o.n()).done;){var c=n.value;this.initials[c].stick(r,"")}}catch(f){o.e(f)}finally{o.f()}var h=e[s];if(void 0!=h){var l,u=Object(he["a"])(h);try{for(u.s();!(l=u.n()).done;){var d=l.value,v=this.initials[d];if(!v)throw Error("invalid cubelet index: "+d);v.stick(r,"remove")}}catch(f){u.e(f)}finally{u.f()}}}this.dirty=!0}},{key:"state",get:function(){for(var e=[],t=0,i=[ne.U,ne.R,ne.F,ne.D,ne.L,ne.B];t<i.length;t++){var r=i[t],s=this.groups.get(ne[r]);if(!s)throw Error();var a,n=Object(he["a"])(s.indices);try{for(n.s();!(a=n.n()).done;){var o=a.value;e.push(this.cubelets[o].getColor(r))}}catch(c){n.e(c)}finally{n.f()}}return e.join("")}}]),i}(Ve["i"]),ct=(i("4160"),i("4c53"),i("159b"),function e(){Object(n["a"])(this,e),this.vector=new Ve["x"]}),ht=function(){function e(t){var i=this;Object(n["a"])(this,e),this.dragging=!1,this.rotating=!1,this.angle=0,this.ray=new Ve["s"],this.down=new Ve["w"](0,0),this.move=new Ve["w"](0,0),this.matrix=new Ve["j"],this.holder=new ct,this.vector=new Ve["x"],this.planes=[new Ve["q"](new Ve["x"](1,0,0),3*-at.SIZE/2),new Ve["q"](new Ve["x"](0,1,0),3*-at.SIZE/2),new Ve["q"](new Ve["x"](0,0,1),3*-at.SIZE/2)],this._lock=!1,this._disable=!1,this.sensitivity=1,this.tick=(new Date).getTime(),this.hover=-1,this.touch=function(e){switch(e.type){case"touchstart":case"mousedown":i.down.x=e.x,i.down.y=e.y,i.tick=(new Date).getTime(),i.handleDown();break;case"mousemove":case"touchmove":i.move.x=e.x,i.move.y=e.y,i.handleMove();break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":i.handleUp();break;default:return!1}return!0},this.world=t,this.taps=[],this.loop()}return Object(o["a"])(e,[{key:"loop",value:function(){requestAnimationFrame(this.loop.bind(this)),this.update()}},{key:"update",value:function(){if(this.rotating&&this.group&&this.group.angle!=this.angle){var e=(this.angle-this.group.angle)/2;this.group.angle+=e,this.world.dirty=!0}}},{key:"match",value:function(){var e;if(-1===this.holder.index)for(var t=0,i=["x","y","z"];t<i.length;t++){var r,s=i[t];if(e=this.world.cube.groups.get(s),0===(null===(r=e)||void 0===r?void 0:r.axis.dot(this.holder.plane.normal)))return e}else for(var a=this.holder.plane.normal,n=this.holder.vector,o=this.holder.index,c=this.world.cube.order,h=0,l=["x","y","z"];h<l.length;h++){var u=l[h],d=et.AXIS_VECTOR[u];if(0===d.dot(a)&&0===d.dot(n)){var v=0;switch(u){case"x":v=o%c;break;case"y":v=Math.floor(o%(c*c)/c);break;case"z":v=Math.floor(o/(c*c));break}return v+=1,this.world.cube.groups.get(et.FORMAT(u,v,v))}}}},{key:"intersect",value:function(e,t){var i=e.x/this.world.width*2-1,r=-e.y/this.world.height*2+1;this.ray.origin.setFromMatrixPosition(this.world.camera.matrixWorld),this.ray.direction.set(i,r,.5).unproject(this.world.camera).sub(this.ray.origin).normalize(),this.ray.applyMatrix4(this.matrix.identity().getInverse(this.world.scene.matrix));var s=new Ve["x"](1/0,1/0,1/0);return this.ray.intersectPlane(t,s),s}},{key:"handleDown",value:function(){var e=this;if(!this.disable){(this.dragging||this.rotating)&&this.handleUp(),this.dragging=!0,this.holder.index=-1,Je.speedup();var t=0;this.planes.forEach((function(i){var r=e.intersect(e.down,i);if(null!==r){var s=r.x/at.SIZE/3,a=r.y/at.SIZE/3,n=r.z/at.SIZE/3;if(Math.abs(s)<=.5&&Math.abs(a)<=.5&&Math.abs(n)<=.5){var o=Math.pow(r.x-e.ray.origin.x,2)+Math.pow(r.y-e.ray.origin.y,2)+Math.pow(r.z-e.ray.origin.z,2);if(0==t||o<t){e.holder.plane=i;var c=e.world.cube.order;return s=Math.ceil((s+.5)*c)-1,a=Math.ceil((a+.5)*c)-1,n=Math.ceil((n+.5)*c)-1,e.holder.index=n*c*c+a*c+s,void(t=o)}}}}),this)}}},{key:"handleMove",value:function(){if(!this.disable){if(this.dragging){var e,t=this.move.x-this.down.x,i=this.move.y-this.down.y,r=Math.sqrt(t*t+i*i);if(Math.min(this.world.width,this.world.height)/r>128)return!0;if(Je.finish(),this.world.cube.lock)return this.dragging=!1,this.rotating=!1,!0;if(this.dragging=!1,this.rotating=!0,-1===this.holder.index)if(t*t>i*i)this.group=this.world.cube.groups.get("y");else{var s=new Ve["x"](3*at.SIZE/2,0,3*at.SIZE/2);s.applyMatrix4(this.world.scene.matrix).project(this.world.camera);var a=this.world.width/2,n=Math.round(s.x*a+a);this.down.x<n?this.group=this.world.cube.groups.get("x"):this.group=this.world.cube.groups.get("z")}else{var o=this.intersect(this.down,this.holder.plane),c=this.intersect(this.move,this.holder.plane);this.vector.subVectors(c,o);var h=this.vector.x,l=this.vector.y,u=this.vector.z,d=Math.max(Math.abs(h),Math.abs(l),Math.abs(u));h=Math.abs(h)===d?h:0,l=Math.abs(l)===d?l:0,u=Math.abs(u)===d?u:0,this.vector.set(h,l,u),this.holder.vector.copy(this.vector.multiply(this.vector).normalize()),this.group=this.match(),this.vector.crossVectors(this.holder.vector,this.holder.plane.normal),this.holder.vector.multiplyScalar(this.vector.x+this.vector.y+this.vector.z)}null===(e=this.group)||void 0===e||e.hold()}if(this.rotating&&this.group)if(-1===this.holder.index){t=this.move.x-this.down.x,i=this.move.y-this.down.y;this.group===this.world.cube.groups.get("y")?this.angle=t/at.SIZE*Math.PI/6*this.sensitivity:this.group===this.world.cube.groups.get("x")?this.angle=i/at.SIZE*Math.PI/6*this.sensitivity:this.group===this.world.cube.groups.get("z")&&(this.angle=-i/at.SIZE*Math.PI/6*this.sensitivity)}else{o=this.intersect(this.down,this.holder.plane),c=this.intersect(this.move,this.holder.plane);this.vector.subVectors(c,o).multiply(this.holder.vector),this.angle=-(this.vector.x+this.vector.y+this.vector.z)*(this.group.axis.x+this.group.axis.y+this.group.axis.z)/at.SIZE*Math.PI/6*this.sensitivity}}}},{key:"handleUp",value:function(){if(this.dragging){var e=null;switch(this.holder.plane){case this.planes[0]:e=ne.R;break;case this.planes[1]:e=ne.U;break;case this.planes[2]:e=ne.F;break}var t,i=Object(he["a"])(this.taps);try{for(i.s();!(t=i.n()).done;){var r=t.value;r(this.holder.index,e)}}catch(n){i.e(n)}finally{i.f()}}if(this.rotating&&this.group&&null!==this.group)if(this.lock)this.group.twist(0);else{if(Math.abs(this.angle)<Math.PI/4){var s=(new Date).getTime(),a=Math.abs(this.angle)/(s-this.tick);a>.001&&(this.angle=0==this.angle?0:this.angle/Math.abs(this.angle)*Math.PI/2)}this.group.twist(this.angle)}this.holder.index=-1,this.dragging=!1,this.rotating=!1,this.world.dirty=!0}},{key:"lock",get:function(){return this._lock},set:function(e){this.handleUp(),this._lock=e}},{key:"disable",get:function(){return this._disable},set:function(e){this.handleUp(),this._disable=e}}]),e}(),lt=function(){function e(){var t=this;Object(n["a"])(this,e),this.width=1,this.height=1,this.dirty=!1,this.cubes=[],this.callbacks=[],this.callback=function(){var e,i=Object(he["a"])(t.callbacks);try{for(i.s();!(e=i.n()).done;){var r=e.value;r()}}catch(s){i.e(s)}finally{i.f()}},this.scale=1,this.perspective=5,this.scene=new Ve["t"],this.scene.rotation.x=Math.PI/6,this.scene.rotation.y=-Math.PI/4+Math.PI/16,this.ambient=new Ve["a"](16777215,.8),this.scene.add(this.ambient),this.directional=new Ve["d"](16777215,.2),this.directional.position.set(at.SIZE,3*at.SIZE,2*at.SIZE),this.scene.add(this.directional),this.camera=new Ve["p"](50,1,1,32*at.SIZE),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=0,this.twister=new Ye(this),this.controller=new ht(this),this.order=3}return Object(o["a"])(e,[{key:"resize",value:function(){var e=this.height/Math.min(this.width,this.height)/this.scale/this.perspective,t=2*Math.atan(e)*180/Math.PI;this.camera.aspect=this.width/this.height,this.camera.fov=t;var i=3*at.SIZE*this.perspective;this.camera.position.z=i,this.camera.near=i-3*at.SIZE,this.camera.far=i+8*at.SIZE,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix(),this.dirty=!0}},{key:"order",set:function(e){this.scene.remove(this.cube),void 0==this.cubes[e]&&(this.cubes[e]=new ot(e,this.callback)),this.cube=this.cubes[e],this.scene.add(this.cube),this.dirty=!0},get:function(){return this.cube.order}}]),e}(),ut=function(){function e(t){Object(n["a"])(this,e),this.data={version:"0.1",scale:50,perspective:50,angle:60,gradient:65,frames:20,sensitivity:3,mirror:!1,hollow:!1,shadow:!0},this.world=t}return Object(o["a"])(e,[{key:"load",value:function(e){var t=JSON.parse(e);t.version===this.data.version&&(this.data=t)}},{key:"refresh",value:function(){this.scale=this.data.scale,this.perspective=this.data.perspective,this.angle=this.data.angle,this.gradient=this.data.gradient,this.shadow=this.data.shadow,this.frames=this.data.frames,this.mirror=this.data.mirror,this.hollow=this.data.hollow}},{key:"value",get:function(){return JSON.stringify(this.data)}},{key:"scale",get:function(){return this.data.scale},set:function(e){this.data.scale!=e&&(this.data.scale=e),this.world.scale=e/100+.5,this.world.resize()}},{key:"perspective",get:function(){return this.data.perspective},set:function(e){this.data.perspective!=e&&(this.data.perspective=e),this.world.perspective=100.1/(e+.01)*4-3,this.world.resize()}},{key:"angle",get:function(){return this.data.angle},set:function(e){this.data.angle!=e&&(this.data.angle=e),this.world.scene.rotation.y=(e/100-1)*Math.PI/2,this.world.dirty=!0}},{key:"gradient",get:function(){return this.data.gradient},set:function(e){this.data.gradient!=e&&(this.data.gradient=e),this.world.scene.rotation.x=(1-e/100)*Math.PI/2,this.world.dirty=!0}},{key:"shadow",get:function(){return this.data.shadow},set:function(e){this.data.shadow!=e&&(this.data.shadow=e),e?(this.world.ambient.intensity=.8,this.world.directional.intensity=.2):(this.world.ambient.intensity=1,this.world.directional.intensity=0),this.world.dirty=!0}},{key:"frames",get:function(){return this.data.frames},set:function(e){this.data.frames!=e&&(this.data.frames=e),Qe.frames=e}},{key:"sensitivity",get:function(){return this.data.sensitivity},set:function(e){this.data.sensitivity!=e&&(this.data.sensitivity=e);var t=(e-3)/2;t=Math.pow(2,t),this.world.controller.sensitivity=t}},{key:"mirror",get:function(){return this.data.mirror},set:function(e){this.data.mirror!=e&&(this.data.mirror=e);var t,i=Object(he["a"])(this.world.cube.cubelets);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.mirror=e}}catch(s){i.e(s)}finally{i.f()}this.world.dirty=!0}},{key:"hollow",get:function(){return this.data.hollow},set:function(e){this.data.hollow!=e&&(this.data.hollow=e);var t,i=Object(he["a"])(this.world.cube.cubelets);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.hollow=e}}catch(s){i.e(s)}finally{i.f()}this.world.dirty=!0}}]),e}(),dt=function(){function e(t){Object(n["a"])(this,e),this.data={version:"0.2",dark:!1,colors:{}},this.world=t,this.default=JSON.stringify(le)}return Object(o["a"])(e,[{key:"load",value:function(e){var t=JSON.parse(e);t.version===this.data.version&&(this.data=t)}},{key:"refresh",value:function(){for(var e in this.dark=this.data.dark,this.data.colors){var t=this.data.colors[e];t&&(le[e]=t,at.LAMBERS[e].color.set(t),at.BASICS[e].color.set(t),"Core"==e&&at.PHONG.color.set(t))}this.world.dirty=!0}},{key:"color",value:function(e,t){this.data.colors[e]=t,le[e]=t,at.LAMBERS[e].color.set(t),at.BASICS[e].color.set(t),"Core"==e&&at.PHONG.color.set(t),this.world.dirty=!0}},{key:"reset",value:function(){this.data.colors=JSON.parse(this.default),this.refresh(),this.data.colors={}}},{key:"value",get:function(){return JSON.stringify(this.data)}},{key:"dark",get:function(){return this.data.dark},set:function(e){this.data.dark!=e&&(this.data.dark=e)}}]),e}(),vt=i("193e"),ft=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;if(Object(n["a"])(this,i),e=t.call(this),e.renderconfig={},e.preferanceconfig={},e.playerconfig={},e.themeconfig={},e.looplayRunning=!1,e.world=e.worldin?e.worldin:new lt,e.preferance=new ut(e.world),e.theme=new dt(e.world),e.cubeconfig.model)try{var r=JSON.parse(window.localStorage.getItem("cubeconfig:".concat(e.cubeconfig.model)));e.renderconfig=r.renderconfig,e.playerconfig=r.playerconfig,e.preferanceconfig=r.preferanceconfig,e.themeconfig=r.themeconfig}catch(b){var s=JSON.parse(window.localStorage.getItem("cubeconfig:casegroup"));e.renderconfig=s.renderconfig,e.playerconfig=s.playerconfig,e.preferanceconfig=s.preferanceconfig,e.themeconfig=s.themeconfig}if(e.cubeconfig.renderModelName)try{var a=JSON.parse(window.localStorage.getItem("render:".concat(e.cubeconfig.renderModelName)));e.renderconfig=a}catch(y){var o=JSON.parse(window.localStorage.getItem("render:casegroup"));e.renderconfig=o}if(e.cubeconfig.preferanceModelName)try{var c=JSON.parse(window.localStorage.getItem("preferance:".concat(e.cubeconfig.preferanceModelName)));e.preferanceconfig=c}catch(m){var h=JSON.parse(window.localStorage.getItem("preferance:casegroup"));e.preferanceconfig=h}if(e.cubeconfig.themeModelName)try{var l=JSON.parse(window.localStorage.getItem("theme:".concat(e.cubeconfig.themeModelName)));e.themeconfig=l}catch(w){var u=JSON.parse(window.localStorage.getItem("theme:casegroup"));e.themeconfig=u}for(var d in e.cubeconfig.renderconfig)e.renderconfig[d]=e.cubeconfig.renderconfig[d];for(var v in e.cubeconfig.preferanceconfig)e.preferanceconfig[v]=e.cubeconfig.preferanceconfig[v];for(var f in e.cubeconfig.playerconfig)e.playerconfig[f]=e.cubeconfig.playerconfig[f];for(var p in e.cubeconfig.themeconfig)e.themeconfig[p]=e.cubeconfig.themeconfig[p];if(e.size=e.cubesize?e.cubesize:e.renderconfig.size||[200,200],e.cubename=e.cubeconfig.cubename,e.CoverImgOn=e.renderconfig.coverImgNotModel,e.world.order=e.renderconfig.order||3,e.preferance.load(JSON.stringify(e.preferanceconfig)),e.preferance.refresh(),e.theme.load(JSON.stringify(e.themeconfig)),e.theme.refresh(),3==e.world.order&&e.renderconfig.masktype)try{var g=vt[e.renderconfig.masktype].strip;g&&e.world.cube.strip(g)}catch(x){}return e.world.cube.dirty=!0,e.action="^"==e.renderconfig.scene?"("+e.renderconfig.alg+")'":e.renderconfig.alg,e.action&&(e.world.twister.finish(),e.world.twister.twist("#"),e.world.twister.twist(e.action,!1,1,!0),e.world.cube.history.clear()),e.world.controller.lock=e.playerconfig.lock,e}return Object(o["a"])(i,[{key:"onSizeChange",value:function(){this.size=this.cubesize,this.CoverImgOn?this.coverimg.style.width="".concat(this.size[0],"px"):this.resize(this.size[0],this.size[1])}},{key:"onCubeConfigChange",value:function(){this.loadCubeConfig()}},{key:"loadCubeConfig",value:function(){if(console.log("load again"),this.cubeconfig){if(this.cubeconfig.model)try{var e=JSON.parse(window.localStorage.getItem("cubeconfig:".concat(this.cubeconfig.model)));this.renderconfig=e.renderconfig,this.playerconfig=e.playerconfig,this.preferanceconfig=e.preferanceconfig,this.themeconfig=e.themeconfig}catch(v){var t=JSON.parse(window.localStorage.getItem("cubeconfig:casegroup"));this.renderconfig=t.renderconfig,this.playerconfig=t.playerconfig,this.preferanceconfig=t.preferanceconfig,this.themeconfig=t.themeconfig}if(this.cubeconfig.renderModelName)try{var i=JSON.parse(window.localStorage.getItem("render:".concat(this.cubeconfig.renderModelName)));this.renderconfig=i}catch(f){var r=JSON.parse(window.localStorage.getItem("render:casegroup"));this.renderconfig=r}if(this.cubeconfig.preferanceModelName)try{var s=JSON.parse(window.localStorage.getItem("preferance:".concat(this.cubeconfig.preferanceModelName)));this.preferanceconfig=s}catch(p){var a=JSON.parse(window.localStorage.getItem("preferance:casegroup"));this.preferanceconfig=a}if(this.cubeconfig.themeModelName)try{var n=JSON.parse(window.localStorage.getItem("theme:".concat(this.cubeconfig.themeModelName)));this.themeconfig=n}catch(g){var o=JSON.parse(window.localStorage.getItem("theme:casegroup"));this.themeconfig=o}for(var c in this.cubeconfig.renderconfig)this.renderconfig[c]=this.cubeconfig.renderconfig[c];for(var h in this.cubeconfig.preferanceconfig)this.preferanceconfig[h]=this.cubeconfig.preferanceconfig[h];for(var l in this.cubeconfig.playerconfig)this.playerconfig[l]=this.cubeconfig.playerconfig[l];for(var u in this.cubeconfig.themeconfig)this.themeconfig[u]=this.cubeconfig.themeconfig[u];if(this.size=this.cubesize?this.cubesize:this.renderconfig.size||[200,200],this.cubename=this.cubeconfig.cubename,this.CoverImgOn=this.renderconfig.coverImgNotModel,this.world.order=this.renderconfig.order||3,this.preferance.load(JSON.stringify(this.preferanceconfig)),this.preferance.refresh(),this.theme.load(JSON.stringify(this.themeconfig)),this.theme.refresh(),3==this.world.order&&this.renderconfig.masktype)try{var d=vt[this.renderconfig.masktype].strip;d&&this.world.cube.strip(d)}catch(b){}this.world.cube.dirty=!0,this.action="^"==this.renderconfig.scene?"("+this.renderconfig.alg+")'":this.renderconfig.alg,this.action&&(this.world.twister.finish(),this.world.twister.twist("#"),this.world.twister.twist(this.action,!1,1,!0),this.world.cube.history.clear()),this.world.controller.lock=this.playerconfig.lock}}},{key:"setThemeColors",value:function(e){for(var t in e)this.themeconfig.colors[t]=e[t];var i=JSON.stringify(this.themeconfig);this.theme.load(i),this.theme.refresh()}},{key:"resetThemeColors",value:function(){if(this.cubeconfig.model){var e="cubeconfig:"+this.cubeconfig.model,t=JSON.parse(window.localStorage.getItem(e));this.themeconfig=t.themeconfig}if(this.cubeconfig.themeModelName){var i="theme:"+this.cubeconfig.themeModelName,r=JSON.parse(window.localStorage.getItem(i));this.themeconfig=r}this.theme.load(JSON.stringify(this.themeconfig)),this.theme.refresh()}},{key:"saveThemeColors",value:function(){var e=JSON.stringify(this.themeconfig);if(this.cubeconfig.model){var t="cubeconfig:"+this.cubeconfig.model,i=JSON.parse(window.localStorage.getItem(t));i.themeconfig=this.themeconfig,window.localStorage.setItem(t,JSON.stringify(i))}if(this.cubeconfig.themeModelName){var r="theme:"+this.cubeconfig.themeModelName;window.localStorage.setItem(r,e)}}},{key:"resize",value:function(e,t){this.world.width=e,this.world.height=t,this.world.resize(),this.renderer.setSize(e,t,!0),this.world.dirty=!0}},{key:"mounted",value:function(){if(this.createrender(),this.CoverImgOn){var e=this.renderer.domElement.toDataURL("image/png");this.coverimg=document.createElement("img"),this.coverimg.style.objectFit="contain",this.coverimg.style.width=this.size[0]+"px",this.coverimg.src=e,this.canvasdiv.appendChild(this.coverimg),this.removerender()}this.playerconfig.autoplay&&0==this.CoverImgOn&&this.autoplay(),this.loop()}},{key:"draw",value:function(){return this.world.dirty||this.world.cube.dirty?(this.renderer.clear(),this.renderer.render(this.world.scene,this.world.camera),this.world.dirty=!1,this.world.cube.dirty=!1,!0):(console.log("ininin"),!1)}},{key:"setoffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas;this.toucher.setoffset(e)}},{key:"createrender",value:function(){this.canvas=document.createElement("canvas"),this.canvas.style.outline="none",this.toucher=new Ze,this.toucher.init(this.canvas,this.world.controller.touch),this.renderer=new Ve["y"]({canvas:this.canvas,antialias:!0,alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(le.WHITE,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.canvasdiv.appendChild(this.renderer.domElement),this.resize(this.size[0],this.size[1]),this.draw(),this.setoffset()}},{key:"removerender",value:function(){this.renderer.clear(),this.renderer.dispose(),this.renderer=null,this.canvasdiv.removeChild(this.canvas),this.canvas=null}},{key:"initcube",value:function(){this.world.twister.finish(),this.world.twister.twist("#"),this.world.twister.twist(this.action,!1,1,!0),this.world.cube.history.clear()}},{key:"loopplay",value:function(){var e=this;0==this.looplayRunning&&(this.looplayRunning=!0,this.world.twister.twist(this.renderconfig.alg,!1,1,!1,(function(){e.initcube(),e.looplay_id=setTimeout((function(){e.looplayRunning=!1,e.loopplay()}),2e3)})))}},{key:"autoplay",value:function(){var e=this;this.world.twister.twist(this.renderconfig.alg,!1,1,!1,(function(){e.initcube(),e.autoplay_id=setTimeout((function(){e.autoplay()}),2e3)}))}},{key:"hoverin",value:function(){0==this.playerconfig.autoplay&&(this.CoverImgOn&&(this.coverimg.style.display="none",this.createrender()),this.playerconfig.hoverplay&&(this.playerconfig.loop?this.loopplay():this.world.twister.twist(this.renderconfig.alg,!1,1,!1)),this.loop())}},{key:"hoverout",value:function(){if(0==this.playerconfig.autoplay&&(this.playerconfig.hoverplay&&(this.playerconfig.loop&&clearTimeout(this.looplay_id),this.initcube(),this.looplayRunning=!1),this.CoverImgOn)){this.world.dirty=!0,this.draw();var e=this.renderer.domElement.toDataURL("image/png");this.removerender(),this.coverimg.style.display="",this.coverimg.style.objectFit="contain",this.coverimg.src=e,cancelAnimationFrame(this.loop_id)}}},{key:"loop",value:function(){if(this.loop_id=requestAnimationFrame(this.loop.bind(this)),this.playerconfig.breath){var e=(new Date).getTime();e=e/2e3*Math.PI,e=Math.sin(e)/32,this.world.cube.position.y=e*at.SIZE,this.world.cube.rotation.y=e/12*Math.PI,this.world.cube.updateMatrix()}if(this.playerconfig.autorotate){var t=(new Date).getTime();t=t/2e3*Math.PI,this.world.cube.rotation.y=t/12*Math.PI,this.world.cube.updateMatrix()}try{this.world.cube.dirty=!0,this.draw()}catch(i){cancelAnimationFrame(this.loop_id)}}},{key:"touchin",value:function(e){console.log("ininin",e)}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],ft.prototype,"worldin",void 0),Object(l["a"])([Object(u["d"])()],ft.prototype,"cubeconfig",void 0),Object(l["a"])([Object(u["d"])()],ft.prototype,"cubesize",void 0),Object(l["a"])([Object(u["f"])("cube")],ft.prototype,"canvasdiv",void 0),Object(l["a"])([Object(u["g"])("cubesize")],ft.prototype,"onSizeChange",null),Object(l["a"])([Object(u["g"])("cubeconfig")],ft.prototype,"onCubeConfigChange",null),ft=Object(l["a"])([Object(u["a"])({name:"Render",components:{}})],ft);var pt=ft,gt=pt,bt=Object(w["a"])(gt,De,Pe,!1,null,"7836a0de",null),yt=bt.exports,mt=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.world=new lt,e.cubeconfig={cubename:"cubesample",model:"casegroup",renderconfig:{order:3,coverImgNotModel:!1},playerconfig:{hoverplay:!1,autoplay:!1,breath:!0,lock:!0,loop:!1,autorotate:!0}},e.cubesize=[400,400],e}return Object(o["a"])(i,[{key:"mounted",value:function(){}}]),i}(r["a"]);Object(l["a"])([Object(u["f"])("render")],mt.prototype,"render",void 0),mt=Object(l["a"])([Object(u["a"])({name:"CubeSample",components:{Render:yt}})],mt);var wt=mt,xt=wt,kt=Object(w["a"])(xt,Le,Ne,!1,null,"0a341536",null),Ot=kt.exports;k()(kt,{VContainer:S["a"]});var St=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.sponsorindex=-1,e.showcubesample=!1,e.activeBtn=1,e.drawer=!1,e.select=null,e.items=[],e.search=null,e.loading=null,e.config=!0,e.show2dOr3d=!1,e.usephoneLayout=!1,e.windowSize={x:0,y:0},e.githuburl="https://github.com/kirahan/vue-ts-algdb-player",e}return Object(o["a"])(i,[{key:"onDrawerChange",value:function(e){e?(this.statistic.gsapdata(),this.showcubesample=!1):this.vscube.tab=""}},{key:"setSponsorIndex",value:function(e){this.sponsorindex=e.data}},{key:"gotoMain",value:function(){this.$router.push("/")}},{key:"onresize",value:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.usephoneLayout=this.windowSize.x<600}},{key:"created",value:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.usephoneLayout=this.windowSize.x<600;var e=[];this.setNavigation(e),this.$vuetify.theme.dark=!1}},{key:"initlocalstorage",value:function(){var e={model:"casegroup",renderModelName:"casegroup",renderconfig:{order:3,size:[300,300],coverImgNotModel:!0,scene:"",alg:"",masktype:""},preferanceModelName:"casegroup",preferanceconfig:{version:"0.1",scale:50,perspective:50,angle:60,gradient:65,frames:20,sensitivity:3,mirror:!1,hollow:!1,shadow:!0},playerconfig:{autoplay:!1,loop:!1,hoverplay:!0,lock:!0,breath:!1,autorotate:!1},themeModelName:"casegroup",themeconfig:{version:"0.2",dark:!1,colors:{L:"#B71C1C",R:"#FF6D00",D:"#FFFFFF",U:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"}}},t=JSON.stringify(e.renderconfig),i=JSON.stringify(e.preferanceconfig),r=JSON.stringify(e.themeconfig),s=JSON.stringify(e);window.localStorage.getItem("theme:casegroup")||window.localStorage.setItem("theme:casegroup",r),window.localStorage.getItem("render:casegroup")||window.localStorage.setItem("render:casegroup",t),window.localStorage.getItem("preferance:casegroup")||window.localStorage.setItem("preferance:casegroup",i),window.localStorage.getItem("cubeconfig:casegroup")||window.localStorage.setItem("cubeconfig:casegroup",s)}},{key:"mounted",value:function(){this.initlocalstorage()}},{key:"setThemeColors",value:function(e){this.cubesample.render.setThemeColors(e)}},{key:"resetThemeColors",value:function(){this.cubesample.render.resetThemeColors()}},{key:"saveThemeColors",value:function(){this.cubesample.render.saveThemeColors()}}]),i}(r["a"]);Object(l["a"])([d["b"]],St.prototype,"Navigation",void 0),Object(l["a"])([d["a"]],St.prototype,"setNavigation",void 0),Object(l["a"])([Object(u["f"])("stats")],St.prototype,"statistic",void 0),Object(l["a"])([Object(u["f"])("vscube")],St.prototype,"vscube",void 0),Object(l["a"])([Object(u["f"])("cubesample")],St.prototype,"cubesample",void 0),Object(l["a"])([Object(u["g"])("drawer")],St.prototype,"onDrawerChange",null),St=Object(l["a"])([Object(u["a"])({name:"App",components:{Account:ae,Cubesample:Ot,Hot:X,Vscube:Be,Sponsor:L,Statistic:M}})],St);var jt=St,Ct=jt,zt=i("7496"),Mt=i("40dc"),It=i("5bc1"),Et=i("c6a6"),_t=i("4ca6"),Rt=i("b81c"),At=i("2bc5"),Ft=i("a75b"),Tt=i("ce7e"),Bt=i("553a"),Lt=i("8860"),Nt=i("8270"),Dt=i("f774"),Pt=i("e0c7"),Vt=i("2a7f"),Ut=i("269a"),Zt=i.n(Ut),qt=i("dc22"),Gt=Object(w["a"])(Ct,s,a,!1,null,null,null),Ht=Gt.exports;k()(Gt,{VApp:zt["a"],VAppBar:Mt["a"],VAppBarNavIcon:It["a"],VAutocomplete:Et["a"],VBadge:_t["a"],VBottomNavigation:Rt["a"],VBreadcrumbs:At["a"],VBtn:xe["a"],VContent:Ft["a"],VDivider:Tt["a"],VFooter:Bt["a"],VIcon:Q["a"],VList:Lt["a"],VListItem:te["a"],VListItemAvatar:Nt["a"],VListItemContent:ie["a"],VListItemTitle:ie["c"],VNavigationDrawer:Dt["a"],VSubheader:Pt["a"],VToolbarTitle:Vt["a"]}),Zt()(Gt,{Resize:qt["a"]});var Xt=i("8c4f"),$t=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{directives:[{name:"resize",rawName:"v-resize",value:e.onresize,expression:"onresize"}],attrs:{fluid:""}},[i("v-row",{staticClass:"home"},[i("v-col",{attrs:{cols:"8",offset:"2"}},[i("v-card",{attrs:{elevation:"10"}},[i("v-card-title",{staticClass:"display-1 font-weight-black justify-center align-center"},[e._v(" Puzzles ")])],1)],1),i("v-col",{attrs:{cols:"8",offset:"2"}},[i("v-row",e._l(e.data,(function(t,r){return i("v-col",{key:r,attrs:{cols:"12",sm:"6"}},[i("v-hover",{attrs:{"open-delay":"100"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.hover;return[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"350",elevation:a?18:5,"d-inline":""},on:{click:function(i){return e.gotopage(t.shortName)}}},[i("Render",{attrs:{cubeconfig:e.cubeconfig[r],cubesize:e.cubesize}}),i("v-card-title",{staticClass:"display-1 font-weight-black justify-center align-center"},[e._v(e._s(t.name))])],1)]}}],null,!0)})],1)})),1)],1)],1)],1)},Jt=[],Yt=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.cubesize=[],e.cubeconfig=[],e.data=[],e}return Object(o["a"])(i,[{key:"fetch",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,i,r,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("algdb/puzzles/222");case 2:return t=e.sent,e.next=5,this.$http.get("algdb/puzzles/333");case 5:i=e.sent,this.data=[t.data,i.data],r=Object(he["a"])(this.data);try{for(r.s();!(s=r.n()).done;)a=s.value,this.cubeconfig.push({cubename:a.name,model:"home",renderconfig:{order:"222"==a.shortName?2:3,coverImgNotModel:!1,alg:"(RUR'U')6"},playerconfig:{autoplay:!1,loop:!1,hoverplay:!0,breath:!0,lock:!0}})}catch(n){r.e(n)}finally{r.f()}console.log(this.cubeconfig);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onresize",value:function(){var e=window.innerWidth;this.cubesize=e<600?[150,150]:e<960?[200,200]:e<1264?[250,250]:e<1904?[300,300]:[350,350]}},{key:"gotopage",value:function(e){this.$router.push("/puzzle/".concat(e))}},{key:"created",value:function(){this.fetch();var e=[];this.setNavigation(e)}}]),i}(r["a"]);Object(l["a"])([d["b"]],Yt.prototype,"Navigation",void 0),Object(l["a"])([d["a"]],Yt.prototype,"setNavigation",void 0),Yt=Object(l["a"])([Object(u["a"])({name:"HOME",components:{Render:yt}})],Yt);var Wt=Yt,Kt=Wt,Qt=i("ce87"),ei=Object(w["a"])(Kt,$t,Jt,!1,null,null,null),ti=ei.exports;k()(ei,{VCard:ke["a"],VCardTitle:Oe["b"],VCol:O["a"],VContainer:S["a"],VHover:Qt["a"],VRow:j["a"]}),Zt()(ei,{Resize:qt["a"]});var ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{directives:[{name:"resize",rawName:"v-resize",value:e.onresize,expression:"onresize"}],attrs:{fluid:""}},[i("v-row",{staticClass:"setorsubset"},[i("v-col",{attrs:{cols:"6",offset:"3",sm:"8","offset-sm":"2",xs:"6","offset-xs":"3"}},[i("v-card",{attrs:{elevation:"10"}},[i("v-card-title",{staticClass:"display-1 font-weight-black justify-center align-center"},[e._v(" "+e._s(e.shortname)+" ")])],1)],1),i("v-col",{attrs:{cols:"9",offset:"1",sm:"8","offset-sm":"2",xs:"12"}},[i("v-row",e._l(e.puzzleSets,(function(t,r){return i("v-col",{key:r,attrs:{cols:"6",lg:"3",md:"4",sm:"3"}},[i("v-hover",{attrs:{"open-delay":"100"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.hover;return[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"250",elevation:a?18:5,"d-inline":""},on:{click:function(i){return e.gotopage(t.shortName)}}},[i("Render",{attrs:{cubeconfig:e.cubeconfig[r],cubesize:e.cubesize}}),i("v-card-title",{staticClass:"justify-center align-center font-weight-black",style:e.titlestyle},[e._v(e._s(t.name))])],1)]}}],null,!0)})],1)})),1)],1)],1)],1)},ri=[],si=(i("1276"),function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.puzzleSets=[],e.titlestyle="font-size:12px",e.windowSize={x:0,y:0},e.cubeconfig=[],e}return Object(o["a"])(i,[{key:"fetch",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,i,r,s,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hassubset){e.next=7;break}return e.next=3,this.$http.get("algdb/puzzlesubset?set=".concat(this.shortname));case 3:t=e.sent,this.puzzleSets=t.data.data,e.next=11;break;case 7:return e.next=9,this.$http.get("algdb/puzzleset?puzzle=".concat(this.shortname));case 9:i=e.sent,this.puzzleSets=i.data.data;case 11:r=Object(he["a"])(this.puzzleSets);try{for(r.s();!(s=r.n()).done;)a=s.value,this.cubeconfig.push({cubename:a.name,model:"puzzleset",renderconfig:{order:"222"==a.puzzle?2:3,scene:"^",alg:a.genAlgs||"",masktype:a.shortName},playerconfig:{hoverplay:!1,breath:!0}})}catch(c){r.e(c)}finally{r.f()}n=this.$route.path.split("/"),o=[{text:"Home",disabled:!1,to:"/"}],console.log(n),"puzzle"==n[1]?o.push({text:n[2],disabled:!0,to:"/puzzle/".concat(n[2])}):(o.push({text:"333",disabled:!1,to:"/puzzle/333"}),o.push({text:n[3],disabled:!0,to:"/333/casegroup/".concat(n[3])})),this.setNavigation(o);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"gotopage",value:function(e){this.$router.push("/".concat(this.shortname,"/casegroup/").concat(e)),this.$router.go(0)}},{key:"created",value:function(){this.fetch()}},{key:"onresize",value:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.refreshtitlestyle(),this.refreshcubesize()}},{key:"refreshcubesize",value:function(){var e=window.innerWidth;this.cubesize=e<600?[125,125]:e<960?[100,100]:e<1264?[150,150]:e<1904?[200,200]:[250,250]}},{key:"refreshtitlestyle",value:function(){var e=this.windowSize.x,t="";return e<600?t="font-size:14px":t+=e<960?"font-size:12px;padding:1px":e<1264?"font-size:18px":e<1904?"font-size:24px":"font-size:30px",this.titlestyle=t,t}}]),i}(r["a"]));Object(l["a"])([Object(u["d"])()],si.prototype,"hassubset",void 0),Object(l["a"])([Object(u["d"])()],si.prototype,"shortname",void 0),Object(l["a"])([d["b"]],si.prototype,"Navigation",void 0),Object(l["a"])([d["a"]],si.prototype,"setNavigation",void 0),si=Object(l["a"])([Object(u["a"])({name:"showSetOrSubSet",components:{Render:yt}})],si);var ai=si,ni=ai,oi=Object(w["a"])(ni,ii,ri,!1,null,null,null),ci=oi.exports;k()(oi,{VCard:ke["a"],VCardTitle:Oe["b"],VCol:O["a"],VContainer:S["a"],VHover:Qt["a"],VRow:j["a"]}),Zt()(oi,{Resize:qt["a"]});var hi,li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.setisasubset?i("showSetOrSubSet",{attrs:{hassubset:e.setisasubset,shortname:e.setname}}):i("v-container",{directives:[{name:"resize",rawName:"v-resize",value:e.onresize,expression:"onresize"}],attrs:{fluid:""}},[i("v-row",{staticClass:"casegroup"},[i("v-col",{attrs:{cols:"6",offset:"3",sm:"8","offset-sm":"2",xs:"6","offset-xs":"3"}},[i("v-card",{attrs:{elevation:"10"}},[i("v-card-title",{staticClass:"display-1 font-weight-black justify-center align-center"},[e._v(" "+e._s(e.title)+" ")])],1)],1),i("v-col",{attrs:{cols:"9",offset:"1",sm:"8","offset-sm":"2",xs:"12"}},[i("v-row",e._l(e.caseGroups,(function(t,r){return i("v-col",{key:r,attrs:{cols:"6",lg:"3",md:"4",sm:"3"}},[i("v-hover",{attrs:{"open-delay":"100"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.hover;return[i("v-card",{staticClass:"mx-auto justify-center",attrs:{"max-width":"250",elevation:a?18:5,"d-inline":""},on:{click:function(i){return e.gotopage(t.shortName)}}},[i("Render",{attrs:{cubeconfig:e.cubeconfig[r],cubesize:e.cubesize}}),i("v-card-title",{staticClass:"justify-center align-center font-weight-black",style:e.titlestyle},[e._v(e._s(t.name))])],1)]}}],null,!0)})],1)})),1)],1)],1)],1)},ui=[],di=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{directives:[{name:"resize",rawName:"v-resize",value:e.onresize,expression:"onresize"}],attrs:{fluid:""}},[i("v-row",{staticClass:"setorsubset"},[i("v-col",{attrs:{cols:"6",offset:"3",sm:"8","offset-sm":"2",xs:"6","offset-xs":"3"}},[i("v-card",{attrs:{elevation:"10"}},[i("v-card-title",{staticClass:"display-1 font-weight-black justify-center align-center"},[e._v(" "+e._s(e.shortname)+" ")])],1)],1),i("v-col",{attrs:{cols:"9",offset:"1",sm:"8","offset-sm":"2",xs:"12"}},[i("v-row",e._l(e.puzzleSets,(function(t,r){return i("v-col",{key:r,attrs:{cols:"6",lg:"3",md:"4",sm:"3"}},[i("v-hover",{attrs:{"open-delay":"100"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.hover;return[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"250",elevation:a?18:5,"d-inline":""},on:{click:function(i){return e.gotopage(t.shortName)}}},[i("Render",{attrs:{cubeconfig:e.cubeconfig[r],cubesize:e.cubesize}}),i("v-card-title",{staticClass:"justify-center align-center font-weight-black",style:e.titlestyle},[e._v(e._s(t.name))])],1)]}}],null,!0)})],1)})),1)],1)],1)],1)},vi=[],fi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cube",staticStyle:{"text-align":"center"},on:{mouseenter:e.hoverin,mouseleave:e.hoverout,touchstart:e.hoverin,touchend:e.hoverout}})},pi=[];(function(e){e[e["L"]=0]="L",e[e["R"]=1]="R",e[e["D"]=2]="D",e[e["U"]=3]="U",e[e["B"]=4]="B",e[e["F"]=5]="F"})(hi||(hi={}));var gi={R:"#B71C1C",L:"#FF6D00",U:"#FFFFFF",D:"#FFD600",F:"#00A020",B:"#0D47A1",Core:"#202020",High:"#FF4081",Gray:"#606060"},bi=JSON.parse(JSON.stringify(gi)),yi=function e(t,i,r){Object(n["a"])(this,e),this.type=t,this.x=i,this.y=r},mi=function(){function e(){var t=this;Object(n["a"])(this,e),this.offsetX=0,this.offsetY=0,this.setoffset=function(e){var i=[e.getBoundingClientRect().left,e.getBoundingClientRect().top];t.offsetX=i[0],t.offsetY=i[1]},this.mouse=function(e){t.canvas.tabIndex=1,t.canvas.focus();var i=new yi(e.type,e.clientX-t.offsetX,e.clientY-t.offsetY);return t.callback(i),e.returnValue=!1,!1},this.touch=function(e){t.canvas.tabIndex=1,t.canvas.focus();var i=e.changedTouches,r=i[0],s=new yi(e.type,r.clientX-t.offsetX,r.clientY-t.offsetY);return t.callback(s),e.preventDefault(),!0}}return Object(o["a"])(e,[{key:"init",value:function(e,t){this.canvas=e,this.callback=t,e.addEventListener("touchstart",this.touch),e.addEventListener("touchmove",this.touch),e.addEventListener("touchend",this.touch),e.addEventListener("touchcancel",this.touch),e.addEventListener("mousedown",this.mouse),e.addEventListener("mousemove",this.mouse),e.addEventListener("mouseup",this.mouse),e.addEventListener("mouseout",this.mouse)}}]),e}(),wi=function(){function e(t,i,r,s){Object(n["a"])(this,e),this.begin=t,this.end=i,this.duration=r,this.callback=s,this.value=0,this.delta=1}return Object(o["a"])(e,[{key:"speedup",value:function(){this.delta=4}},{key:"finish",value:function(){this.callback(this.end)}},{key:"update",value:function(){this.value=this.value+this.delta;var e=this.value/this.duration;e=e>1?1:e,e=e<0?0:e,e-=1;var t=1-e*e;return 1==t?(this.callback(this.end),!1):(this.callback(this.begin+(this.end-this.begin)*t),!0)}}]),e}(),xi=function(){function e(){Object(n["a"])(this,e),this.tweens=[],this.loop()}return Object(o["a"])(e,[{key:"loop",value:function(){requestAnimationFrame(this.loop.bind(this)),this.update()}},{key:"tween",value:function(e,t,i,r){this.tweens.push(new wi(e,t,i,r))}},{key:"update",value:function(){if(0===this.tweens.length)return!1;var e=0;while(e<this.tweens.length)this.tweens[e].update()?e++:this.tweens.splice(e,1);return!0}},{key:"speedup",value:function(){var e,t=Object(he["a"])(this.tweens);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.speedup()}}catch(r){t.e(r)}finally{t.f()}}},{key:"finish",value:function(){var e,t=this.tweens.splice(0,this.tweens.length),i=Object(he["a"])(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.finish()}}catch(s){i.e(s)}finally{i.f()}}},{key:"length",get:function(){return this.tweens.length}}]),e}(),ki=new xi,Oi=ki,Si=function(){function e(t){var i=this;Object(n["a"])(this,e),this.world=t,this.queue=[],this.world.callbacks.push((function(){i.update()}))}return Object(o["a"])(e,[{key:"finish",value:function(){var e,t=Object(he["a"])(this.queue);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.fast=!0}}catch(r){t.e(r)}finally{t.f()}Oi.finish()}},{key:"twist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.queue.length>0&&(Oi.finish(),this.update()),Oi.speedup();var a,n=new Ci(e,t,i),o=n.parse(),c=Object(he["a"])(o);try{for(c.s();!(a=c.n()).done;){var h=a.value;h.fast=r,this.queue.push(h)}}catch(l){c.e(l)}finally{c.f()}s&&(o[o.length-1].callback=s),this.update()}},{key:"push",value:function(e){this.queue.push(e),this.update()}},{key:"update",value:function(){if(0!==this.queue.length&&!this.world.cube.lock){var e=this.queue.shift();void 0!=e&&this.start(e)}}},{key:"start",value:function(t){if("#"==t.exp)return this.world.cube.reset(),this.world.cube.dirty=!0,this.world.cube.history.clear(),void this.world.callback();if("*"==t.exp){this.world.cube.reset(),this.world.cube.dirty=!0;var i=e.shuffle(this.world.cube.order);return this.twist(i,!1,1,!0),this.world.cube.history.clear(),void(this.world.cube.history.init=i)}var r=-Math.PI/2;t.reverse&&(r=-r),t.times&&(r*=t.times);var s=this.world.cube.groups.get(t.exp);void 0!==s?(s.angle=0,s.hold(),t.fast&&(s.angle=r),s.twist(r),setTimeout((function(){t.callback&&t.callback()}),800)):this.update()}},{key:"undo",value:function(){if(0!=this.world.cube.history.length&&(this.finish(),0!=this.world.cube.history.length)){var e=this.world.cube.history.last,t=new ji(e.exp,!e.reverse,e.times);this.push(t)}}},{key:"length",get:function(){return this.queue.length}}],[{key:"shuffle",value:function(e){for(var t="",i=["x2"],r=-1,s=["U","D","R","L","F","B"],a=-1,n=0;n<9*e;n++){var o=[];while(a==r)a=Math.floor(3*Math.random());var c=Math.ceil(Math.random()*Math.floor(e/2));o.push(1==c?"":c);var h=Math.floor(2*Math.random());o.push(s[2*a+h]);var l=Math.random();l<.2?o.push("2"):l<.6&&o.push("'"),i.push(o.join("")),r=a}return t=i.join(" "),t}}]),e}(),ji=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(n["a"])(this,e),this.exp=t,this.reverse=i,this.times=r,this.fast=s}return Object(o["a"])(e,[{key:"value",get:function(){var e=this.times,t=this.reverse;return 3===e&&(e=1,t=!t),2===e&&(t=!1),0==e?"":this.exp+(t?"'":"")+(1==e?"":String(e))}}]),e}(),Ci=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(Object(n["a"])(this,e),this.children=[],this.twist=new ji(t,i,r),t.match(/^[0123456789-]*[\*~.#xyzbsfdeulmr][w]*$/gi))/[XYZ]/.test(this.twist.exp)&&(this.twist.exp=this.twist.exp.toLowerCase());else{var s,a=e.SPLIT_SEGMENT(t),o=Object(he["a"])(a);try{for(o.s();!(s=o.n()).done;){var c=s.value,h=void 0;if(h=c.match(/^\[(.+[:|,].+)\]$/i),h)switch(h=e.SPLIT_BRACKET(h[1]),h[1]){case",":this.children.push(new e(h[0],!1,1)),this.children.push(new e(h[2],!1,1)),this.children.push(new e(h[0],!0,1)),this.children.push(new e(h[2],!0,1));break;case":":this.children.push(new e(h[0],!1,1)),this.children.push(new e(h[2],!1,1)),this.children.push(new e(h[0],!0,1));break;default:break}else{if(h=c.match(/^(\[.+[:|,].+\])('?)(\d*)('?)$/i),null===h&&(h=c.match(/^\((.+)\)('?)(\d*)('?)$/i)),null===h&&(h=c.match(/([0123456789-]*[\*\#~.xyzbsfdeulmr][w]*)('?)(\d*)('?)/i)),null===h)return;var l=1==(h[2]+h[4]).length,u=0==h[3].length?1:parseInt(h[3]);this.children.push(new e(h[1],l,u))}}}catch(d){o.e(d)}finally{o.f()}}}return Object(o["a"])(e,[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=this.twist.reverse!==e;var t=[];if(0!==this.children.length)for(var i=0;i<this.twist.times;i++)for(var r=0;r<this.children.length;r++){var s;s=e?this.children[this.children.length-r-1]:this.children[r];var a,n=s.parse(e),o=Object(he["a"])(n);try{for(o.s();!(a=o.n()).done;){var c=a.value;t.push(c)}}catch(l){o.e(l)}finally{o.f()}}else if(""!=this.twist.exp){var h=new ji(this.twist.exp,e,this.twist.times);t.push(h)}return t}},{key:"value",get:function(){return this.twist.value}}],[{key:"SPLIT_SEGMENT",value:function(t){for(var i=[],r="",s=0,a=!1,n=!1,o=0;o<t.length;o++){var c=t.charAt(o);" "===c&&0==r.length||("/"!==c||"/"!==t.charAt(o+1)?"\n"!==c?n||(e.AFFIX.indexOf(c)>=0?r=r.concat(c):r.length>0&&0==s&&a?(i.push(r),r="",o--,a=!1):"("!==c&&"["!==c?")"!==c&&"]"!==c?(a=!0,r=r.concat(c)):(r=r.concat(c),s--):(r=r.concat(c),s++)):n=!1:(o++,n=!0))}return r.length>0&&i.push(r),i}},{key:"SPLIT_BRACKET",value:function(e){for(var t=[],i="",r=0,s=0;s<e.length;s++){var a=e.charAt(s);0!=r||","!==a&&":"!==a?"("!==a&&"["!==a?")"!==a&&"]"!==a?i=i.concat(a):(i=i.concat(a),r--):(i=i.concat(a),r++):(t.push(i),t.push(a),i="")}return i.length>0&&t.push(i),t}}]),e}();Ci.AFFIX="'Ww0123456789-";var zi=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r,s,a){var o;return Object(n["a"])(this,i),o=t.call(this),o.cube=e,o._angle=0,o.cubelets=[],o.name=r,o.indices=s,o.axis=a,o.matrixAutoUpdate=!1,o.updateMatrix(),o}return Object(o["a"])(i,[{key:"exp",value:function(e,t){var i=this.name,r=this.name.match(/(^-?[xyz]):(\d*):(\d*$)/i);if(4==(null===r||void 0===r?void 0:r.length)){var s=r[1],a=Number(r[2]);if(a==Number(r[3])){var n=(this.cube.order+1)/2;switch(1==s.length&&a<n?(s="-"+s,e=!e):2==s.length&&a>n&&(s=s[1],e=!e),1==s.length&&(a=this.cube.order-a+1),s){case"x":i=a===n?"M'":"R";break;case"y":i=a===n?"E'":"U";break;case"z":i=a===n?"S":"F";break;case"-x":i=a===n?"M":"L";break;case"-y":i=a===n?"E":"D";break;case"-z":i=a===n?"S'":"B";break}2==i.length&&(i=i[0],e=!e),i=(1===a||a===n?"":String(a))+i}}return new ji(i,e,t)}},{key:"hold",value:function(){this.angle=0;var e,t=Object(he["a"])(this.indices);try{for(t.s();!(e=t.n()).done;){var i=e.value,r=this.cube.cubelets[i];this.cubelets.push(r),this.cube.remove(r),this.add(r)}}catch(s){t.e(s)}finally{t.f()}this.cube.lock=!0}},{key:"drop",value:function(){this.angle=Math.round(this.angle/(Math.PI/2))*(Math.PI/2);while(1){var e=this.cubelets.pop();if(void 0===e)break;this.rotate(e),this.remove(e),this.cube.add(e),this.cube.cubelets[e.index]=e}this.cube.lock=!1,0!=this.angle&&this.cube.update(),this.angle=0}},{key:"twist",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.angle;t=Math.round(t/(Math.PI/2))*(Math.PI/2);var r=t>0,s=Math.round(Math.abs(t)/(Math.PI/2));0!=s&&this.cube.record(this.exp(r,s));var a=t-this.angle;if(0===a)this.drop();else{var n=Math.abs(a)/(Math.PI/2),o=i.frames*(2-2/(n+1));Oi.tween(this.angle,t,o,(function(i){e.angle=i,Math.abs(e.angle-t)<1e-6&&e.drop()}))}}},{key:"rotate",value:function(e){e.rotateOnWorldAxis(this.axis,this.angle),e.vector=e.vector.applyAxisAngle(this.axis,this.angle),e.updateMatrix()}},{key:"angle",set:function(e){this.setRotationFromAxisAngle(this.axis,e),this._angle=e,this.updateMatrix(),this.cube.dirty=!0},get:function(){return this._angle}}]),i}(Ve["i"]);zi.frames=30;var Mi=function(){function e(t){Object(n["a"])(this,e),this.groups=new Map,this.order=t.order;for(var i=0,r=["x","y","z"];i<r.length;i++)for(var s=r[i],a=1;a<=this.order;a++)for(var o=a;o<=this.order;o++){var c=e.FORMAT(s,a,o);this.groups.set(c,new zi(t,c,[],e.AXIS_VECTOR[s]))}for(var h=0,l=["center","edge","corner"];h<l.length;h++){var u=l[h];this.groups.set(u,new zi(t,u,[],e.AXIS_VECTOR["a"]))}var d,v=Object(he["a"])(t.initials);try{for(v.s();!(d=v.n()).done;){var f=d.value,p=f.initial,g=void 0,b=void 0,y=void 0,m=0;if(g="x",b=p%this.order+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();if(y.indices.push(f.index),g="y",b=Math.floor(p%(this.order*this.order)/this.order)+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();if(y.indices.push(f.index),g="z",b=Math.floor(p/(this.order*this.order))+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();y.indices.push(f.index),y=this.groups.get(["","center","edge","corner"][m]),y&&y.indices.push(f.index)}}catch(Z){v.e(Z)}finally{v.f()}for(var w=0,x=["x","y","z"];w<x.length;w++)for(var k=x[w],O=1;O<=this.order;O++)for(var S=O+1;S<=this.order;S++){var j=this.groups.get(e.FORMAT(k,O,S));if(!j)throw Error();for(var C=O;C<=S;C++){var z,M=this.groups.get(e.FORMAT(k,C,C));if(!M)throw Error();(z=j.indices).push.apply(z,Object(Ge["a"])(M.indices))}}for(var I=0,E=["-x","-y","-z"];I<E.length;I++)for(var _=E[I],R=1;R<=this.order;R++)for(var A=R;A<=this.order;A++){var F=this.groups.get(e.FORMAT(_.replace("-",""),R,A));if(!F)throw Error();var T=e.FORMAT(_,R,A);this.groups.set(T,new zi(t,T,F.indices,e.AXIS_VECTOR[_]))}for(var B=0,L=["x","y","z"];B<L.length;B++){var N=L[B],D=this.groups.get(e.FORMAT(N.replace("-",""),1,this.order));if(!D)throw Error();this.groups.set(N,new zi(t,N,D.indices,e.AXIS_VECTOR[N]))}var P,V=Object(he["a"])(this.groups.values());try{for(V.s();!(P=V.n()).done;){var U=P.value;t.add(U)}}catch(Z){V.e(Z)}finally{V.f()}this.groups.set(".",new zi(t,name,[],e.AXIS_VECTOR["a"])),this.groups.set("~",new zi(t,name,[],e.AXIS_VECTOR["a"]))}return Object(o["a"])(e,[{key:"get",value:function(t){var i="",r=0,s=0;if(this.groups.get(t))return this.groups.get(t);if(t.match(/.[Ww]/)&&(t=t.toLowerCase().replace("w","")),/[XYZ]/.test(t)&&(t=t.toLowerCase()),1===t.length)switch(t){case"x":case"y":case"z":return this.groups.get(t);case"R":case"L":case"U":case"D":case"F":case"B":i=e.AXIS_MAP[t],r=2==i.length?1:this.order,s=r;break;case"r":case"l":case"u":case"d":case"f":case"b":i=e.AXIS_MAP[t.toUpperCase()],r=2==i.length?1:this.order,s=2==i.length?2:this.order-1;break;case"E":case"M":case"S":i=e.AXIS_MAP[t],r=Math.floor((this.order+1)/2),s=Math.ceil((this.order+1)/2);break;case"e":case"m":case"s":i=e.AXIS_MAP[t.toUpperCase()],r=2,s=this.order-1;break}else{var a=t.match(/([0123456789]*)(-?)([0123456789]*)([lrudfb])/i);if(null==a)return;r=Number(a[1]),s=Number(a[3]),NaN!==s&&0!==s||(s=/[lrudfb]/.test(a[4])?1:r),i=e.AXIS_MAP[a[4].toUpperCase()],r=2==i.length?r:this.order-r+1,s=2==i.length?s:this.order-s+1}if(r>s){var n=[s,r];r=n[0],s=n[1]}return this.groups.get(e.FORMAT(i,r,s))}}],[{key:"FORMAT",value:function(e,t,i){return e+":"+t+":"+i}}]),e}();Mi.AXIS_VECTOR={a:new Ve["x"](1,1,1),x:new Ve["x"](1,0,0),y:new Ve["x"](0,1,0),z:new Ve["x"](0,0,1),"-x":new Ve["x"](-1,0,0),"-y":new Ve["x"](0,-1,0),"-z":new Ve["x"](0,0,-1)},Mi.AXIS_MAP={R:"x",L:"-x",U:"y",D:"-y",F:"z",B:"-z",M:"-x",E:"-y",S:"z"};var Ii=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this);for(var a=e/2,o=a-r,c=[[-o,+o,+a],[+o,+o,+a],[+o,-o,+a],[-o,-o,+a],[-o,+a,-o],[+o,+a,-o],[+o,+a,+o],[-o,+a,+o],[-a,-o,-o],[-a,+o,-o],[-a,+o,+o],[-a,-o,+o],[+o,+o,-a],[-o,+o,-a],[-o,-o,-a],[+o,-o,-a],[-o,-a,+o],[+o,-a,+o],[+o,-a,-o],[-o,-a,-o],[+a,+o,+o],[+a,+o,-o],[+a,-o,-o],[+a,-o,+o]],h=0;h<c.length;h++){var l=c[h];s.vertices.push(new Ve["x"](l[0],l[1],l[2]))}for(var u=0;u<i._INDICES.length;u++){var d=i._INDICES[u],v=new Ve["g"](d[0],d[1],d[2]);s.faces.push(v)}return s.computeFaceNormals(),s}return i}(Ve["h"]);Ii._INDICES=[[0,2,1],[0,3,2],[4,6,5],[4,7,6],[8,10,9],[8,11,10],[12,14,13],[12,15,14],[16,18,17],[16,19,18],[20,22,21],[20,23,22],[1,6,7],[0,1,7],[3,0,10],[11,3,10],[17,2,3],[16,17,3],[23,20,1],[2,23,1],[5,12,13],[4,5,13],[9,13,14],[8,9,14],[22,15,12],[21,22,12],[19,14,15],[18,19,15],[7,4,9],[10,7,9],[11,8,19],[16,11,19],[23,17,18],[22,23,18],[20,21,5],[6,20,5],[20,6,1],[10,0,7],[21,12,5],[13,9,4],[23,2,17],[11,16,3],[22,18,15],[8,14,19]];var Ei=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){Object(n["a"])(this,i),e/=2;var s=-e,a=e,o=-e,c=e,h=e/4,l=new Ve["u"];return l.moveTo(s,o+h),l.lineTo(s,a-h),l.quadraticCurveTo(s,a,s+h,a),l.lineTo(c-h,a),l.quadraticCurveTo(c,a,c,a-h),l.lineTo(c,o+h),l.quadraticCurveTo(c,o,c-h,o),l.lineTo(s+h,o),l.quadraticCurveTo(s,o,s,o+h),l.closePath(),t.call(this,l,{bevelEnabled:!1,depth:r})}return i}(Ve["f"]),_i=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e){Object(n["a"])(this,i),e/=2;var r=-e,s=e,a=-e,o=e,c=e/4,h=new Ve["u"];return h.moveTo(r,a+c),h.lineTo(r,s-c),h.quadraticCurveTo(r,s,r+c,s),h.lineTo(o-c,s),h.quadraticCurveTo(o,s,o,s-c),h.lineTo(o,a+c),h.quadraticCurveTo(o,a,o-c,a),h.lineTo(r+c,a),h.quadraticCurveTo(r,a,r,a+c),h.closePath(),t.call(this,h)}return i}(Ve["v"]),Ri=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this),s.order=e,s.initial=r,s._vector=new Ve["x"],s.index=r,s.stickers=[],s._quaternion=new Ve["r"],s.mirrors=[];var a=s.position.x*s.position.x,o=s.position.y*s.position.y,c=s.position.z*s.position.z,h=a+o+c-Math.min(a,o,c);if(h=Math.sqrt(h)+Math.sqrt(2)*i.SIZE/2-e*i.SIZE/2,h<0)return Object(tt["a"])(s);var l=(e-1)/2;s.lambers=[s.vector.x==-l?i.LAMBERS.ORANGE:i.LAMBERS.GRAY,s.vector.x==l?i.LAMBERS.RED:i.LAMBERS.GRAY,s.vector.y==-l?i.LAMBERS.WHITE:i.LAMBERS.GRAY,s.vector.y==l?i.LAMBERS.YELLOW:i.LAMBERS.GRAY,s.vector.z==-l?i.LAMBERS.GREEN:i.LAMBERS.GRAY,s.vector.z==l?i.LAMBERS.BLUE:i.LAMBERS.GRAY],s.basics=[s.vector.x==-l?i.BASICS.ORANGE:i.BASICS.GRAY,s.vector.x==l?i.BASICS.RED:i.BASICS.GRAY,s.vector.y==-l?i.BASICS.WHITE:i.BASICS.GRAY,s.vector.y==l?i.BASICS.YELLOW:i.BASICS.GRAY,s.vector.z==-l?i.BASICS.GREEN:i.BASICS.GRAY,s.vector.z==l?i.BASICS.BLUE:i.BASICS.GRAY],s.frame=new Ve["k"](i._FRAME,i.LAMBERS.BLACK),s.add(s.frame);for(var u=0;u<6;u++)if(s.lambers[u]!=i.LAMBERS.GRAY){var d=new Ve["k"](i._STICKER,s.lambers[u]);switch(d.name=hi[u],u){case hi.L:d.rotation.y=-Math.PI/2,d.position.x=-i.SIZE/2;break;case hi.R:d.rotation.y=Math.PI/2,d.position.x=i.SIZE/2;break;case hi.D:d.rotation.x=Math.PI/2,d.position.y=-i.SIZE/2;break;case hi.U:d.rotation.x=-Math.PI/2,d.position.y=i.SIZE/2;break;case hi.B:d.rotation.x=Math.PI,d.position.z=-i.SIZE/2;break;case hi.F:d.rotation.x=2*Math.PI,d.position.z=i.SIZE/2;break;default:break}s.add(d),s.stickers[u]=d;var v=new Ve["k"](i._MIRROR,s.basics[u]);v.rotation.x=0==d.rotation.x?0:d.rotation.x+Math.PI,v.rotation.y=0==d.rotation.y?0:d.rotation.y+Math.PI,v.rotation.z=0==d.rotation.z?0:d.rotation.z+Math.PI,v.rotation.x+v.rotation.y+v.rotation.z==0&&(v.rotation.y=Math.PI),v.position.x=3*d.position.x,v.position.y=3*d.position.y,v.position.z=3*d.position.z,s.add(v),s.mirrors[u]=v}return s.matrixAutoUpdate=!1,s.updateMatrix(),s}return Object(o["a"])(i,[{key:"getColor",value:function(e){var t=new Ve["x"](0,0,0);switch(e){case hi.L:t.x=-1;break;case hi.R:t.x=1;break;case hi.D:t.y=-1;break;case hi.U:t.y=1;break;case hi.B:t.z=-1;break;case hi.F:t.z=1;break;default:break}this._quaternion.copy(this.quaternion),t.applyQuaternion(this._quaternion.inverse());var i=Math.round(t.x),r=Math.round(t.y),s=Math.round(t.z),a=0;return i<0?a=hi.L:i>0?a=hi.R:r<0?a=hi.D:r>0?a=hi.U:s<0?a=hi.B:s>0&&(a=hi.F),a}},{key:"stick",value:function(e,t){var r,s,a=null;if(void 0!==this.stickers[e]){if(t&&t.length>0)for(var n in bi){var o=bi[n];if(o==t){a=n;break}}a?(r=i.LAMBERS[a],s=i.LAMBERS[a]):(r=this.lambers[e],s=this.basics[e]),this.stickers[e].visible="BLACK"!=a,this.stickers[e].material=r,this.mirrors[e]instanceof Ve["k"]&&(this.mirrors[e].material=s)}}},{key:"vector",set:function(e){var t=(this.order-1)/2,r=Math.round(2*e.x)/2,s=Math.round(2*e.y)/2,a=Math.round(2*e.z)/2;this._vector.set(r,s,a),r=Math.round(r+t),s=Math.round(s+t),a=Math.round(a+t),this._index=a*this.order*this.order+s*this.order+r,this.position.x=i.SIZE*this._vector.x,this.position.y=i.SIZE*this._vector.y,this.position.z=i.SIZE*this._vector.z},get:function(){return this._vector}},{key:"index",set:function(e){var t=(this.order-1)/2,i=e%this.order-t,r=Math.floor(e%(this.order*this.order)/this.order)-t,s=Math.floor(e/(this.order*this.order))-t;this.vector=new Ve["x"](i,r,s)},get:function(){return this._index}},{key:"mirror",set:function(e){if(e)for(var t=0;t<6;t++)this.mirrors[t]instanceof Ve["k"]&&this.children.indexOf(this.mirrors[t])<0&&this.add(this.mirrors[t]);else for(var i=0;i<6;i++)this.mirrors[i]instanceof Ve["k"]&&this.children.indexOf(this.mirrors[i])>=0&&this.remove(this.mirrors[i])}},{key:"hollow",set:function(e){e?this.frame instanceof Ve["k"]&&this.children.indexOf(this.frame)>=0&&this.remove(this.frame):this.frame instanceof Ve["k"]&&this.children.indexOf(this.frame)<0&&this.add(this.frame)}}]),i}(Ve["i"]);Ri.SIZE=64,Ri._BORDER_WIDTH=3,Ri._STICKER_DEPTH=3,Ri._FRAME=new Ii(Ri.SIZE,Ri._BORDER_WIDTH),Ri._STICKER=new Ei(Ri.SIZE-2*Ri._BORDER_WIDTH-Ri._STICKER_DEPTH,Ri._STICKER_DEPTH),Ri._MIRROR=new _i(Ri.SIZE-2*Ri._BORDER_WIDTH-Ri._STICKER_DEPTH),Ri.LAMBERS=function(){var e={};for(var t in bi){var i=bi[t];e[t]="BLACK"==t?new Ve["o"]({color:i,specular:bi.GRAY,shininess:8}):new Ve["n"]({color:i})}return e}(),Ri.BASICS=function(){var e={};for(var t in bi){var i=bi[t];e[t]=new Ve["l"]({color:i})}return e}();var Ai=function(){function e(){Object(n["a"])(this,e),this.list=[],this.init="",this.exp=""}return Object(o["a"])(e,[{key:"record",value:function(e){if(0==this.list.length)e.times=e.times%4,0!=e.times&&(this.list.push(e),this.exp=this.exp+" "+e.value);else{var t=this.list[this.list.length-1];t.exp==e.exp?(t.times=t.times+e.times*(t.reverse==e.reverse?1:-1),t.times=t.times%4,this.exp=this.exp.substring(0,this.exp.lastIndexOf(" ")),0==t.times?this.list.pop():this.exp=this.exp+" "+t.value):(this.list.push(e),this.exp=this.exp+" "+e.value)}}},{key:"clear",value:function(){this.list=[],this.init="",this.exp=""}},{key:"last",get:function(){return this.list[this.list.length-1]}},{key:"length",get:function(){return this.list.length}},{key:"moves",get:function(){var e,t=this.length,i=Object(he["a"])(this.list);try{for(i.s();!(e=i.n()).done;){var r=e.value;"x"!=r.exp&&"y"!=r.exp&&"z"!=r.exp||t--}}catch(s){i.e(s)}finally{i.f()}return t}}]),e}(),Fi=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this),s.dirty=!0,s.lock=!1,s.cubelets=[],s.initials=[],s.complete=!1,s.order=e,s.callback=r,s.scale.set(3/e,3/e,3/e);for(var a=0;a<e*e*e;a++){var o=new Ri(e,a);s.cubelets.push(o),s.initials.push(o),s.add(o)}return s.history=new Ai,s.groups=new Mi(Object(qe["a"])(s)),s.matrixAutoUpdate=!1,s.updateMatrix(),s}return Object(o["a"])(i,[{key:"record",value:function(e){this.history.record(e)}},{key:"update",value:function(){var e=this,t=[hi.U,hi.D,hi.L,hi.R,hi.F,hi.B].every((function(t){var i=e.groups.get(hi[t]);if(!i)throw Error();var r=e.cubelets[i.indices[0]].getColor(t),s=i.indices.every((function(i){return r==e.cubelets[i].getColor(t)}));return s}));this.complete=t,this.callback()}},{key:"index",value:function(e){return this.initials[e].index}},{key:"reset",value:function(){var e,t=Object(he["a"])(this.cubelets);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.setRotationFromEuler(new Ve["e"](0,0,0)),i.index=i.initial,i.updateMatrix()}}catch(r){t.e(r)}finally{t.f()}this.cubelets.sort((function(e,t){return e.index-t.index}))}},{key:"stick",value:function(e,t,i){var r=this.initials[e];if(!r)throw Error("invalid cubelet index: "+e);r.stick(t,i),this.dirty=!0}},{key:"strip",value:function(e){for(var t=0,i=[hi.L,hi.R,hi.D,hi.U,hi.B,hi.F];t<i.length;t++){var r=i[t],s=hi[r],a=this.groups.get(hi[r]);if(!a)throw Error();var n,o=Object(he["a"])(a.indices);try{for(o.s();!(n=o.n()).done;){var c=n.value;this.initials[c].stick(r,"")}}catch(f){o.e(f)}finally{o.f()}var h=e[s];if(void 0!=h){var l,u=Object(he["a"])(h);try{for(u.s();!(l=u.n()).done;){var d=l.value,v=this.initials[d];if(!v)throw Error("invalid cubelet index: "+d);v.stick(r,bi.BLACK)}}catch(f){u.e(f)}finally{u.f()}}}this.dirty=!0}},{key:"state",get:function(){for(var e=[],t=0,i=[hi.U,hi.R,hi.F,hi.D,hi.L,hi.B];t<i.length;t++){var r=i[t],s=this.groups.get(hi[r]);if(!s)throw Error();var a,n=Object(he["a"])(s.indices);try{for(n.s();!(a=n.n()).done;){var o=a.value;e.push(this.cubelets[o].getColor(r))}}catch(c){n.e(c)}finally{n.f()}}return e.join("")}}]),i}(Ve["i"]),Ti=function e(){Object(n["a"])(this,e),this.vector=new Ve["x"]},Bi=function(){function e(t){var i=this;Object(n["a"])(this,e),this.dragging=!1,this.rotating=!1,this.angle=0,this.ray=new Ve["s"],this.down=new Ve["w"](0,0),this.move=new Ve["w"](0,0),this.matrix=new Ve["j"],this.holder=new Ti,this.vector=new Ve["x"],this.planes=[new Ve["q"](new Ve["x"](1,0,0),3*-Ri.SIZE/2),new Ve["q"](new Ve["x"](0,1,0),3*-Ri.SIZE/2),new Ve["q"](new Ve["x"](0,0,1),3*-Ri.SIZE/2)],this._lock=!1,this._disable=!1,this.sensitivity=1,this.tick=(new Date).getTime(),this.hover=-1,this.touch=function(e){switch(e.type){case"touchstart":case"mousedown":i.down.x=e.x,i.down.y=e.y,i.tick=(new Date).getTime(),i.handleDown();break;case"mousemove":case"touchmove":i.move.x=e.x,i.move.y=e.y,i.handleMove();break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":i.handleUp();break;default:return!1}return!0},this.world=t,this.taps=[],this.loop()}return Object(o["a"])(e,[{key:"loop",value:function(){requestAnimationFrame(this.loop.bind(this)),this.update()}},{key:"update",value:function(){if(this.rotating&&this.group&&this.group.angle!=this.angle){var e=(this.angle-this.group.angle)/2;this.group.angle+=e,this.world.dirty=!0}}},{key:"match",value:function(){var e;if(-1===this.holder.index)for(var t=0,i=["x","y","z"];t<i.length;t++){var r,s=i[t];if(e=this.world.cube.groups.get(s),0===(null===(r=e)||void 0===r?void 0:r.axis.dot(this.holder.plane.normal)))return e}else for(var a=this.holder.plane.normal,n=this.holder.vector,o=this.holder.index,c=this.world.cube.order,h=0,l=["x","y","z"];h<l.length;h++){var u=l[h],d=Mi.AXIS_VECTOR[u];if(0===d.dot(a)&&0===d.dot(n)){var v=0;switch(u){case"x":v=o%c;break;case"y":v=Math.floor(o%(c*c)/c);break;case"z":v=Math.floor(o/(c*c));break}return v+=1,this.world.cube.groups.get(Mi.FORMAT(u,v,v))}}}},{key:"intersect",value:function(e,t){var i=e.x/this.world.width*2-1,r=-e.y/this.world.height*2+1;this.ray.origin.setFromMatrixPosition(this.world.camera.matrixWorld),this.ray.direction.set(i,r,.5).unproject(this.world.camera).sub(this.ray.origin).normalize(),this.ray.applyMatrix4(this.matrix.identity().getInverse(this.world.scene.matrix));var s=new Ve["x"](1/0,1/0,1/0);return this.ray.intersectPlane(t,s),s}},{key:"handleDown",value:function(){var e=this;if(!this.disable){(this.dragging||this.rotating)&&this.handleUp(),this.dragging=!0,this.holder.index=-1,Oi.speedup();var t=0;this.planes.forEach((function(i){var r=e.intersect(e.down,i);if(null!==r){var s=r.x/Ri.SIZE/3,a=r.y/Ri.SIZE/3,n=r.z/Ri.SIZE/3;if(Math.abs(s)<=.5&&Math.abs(a)<=.5&&Math.abs(n)<=.5){var o=Math.pow(r.x-e.ray.origin.x,2)+Math.pow(r.y-e.ray.origin.y,2)+Math.pow(r.z-e.ray.origin.z,2);if(0==t||o<t){e.holder.plane=i;var c=e.world.cube.order;return s=Math.ceil((s+.5)*c)-1,a=Math.ceil((a+.5)*c)-1,n=Math.ceil((n+.5)*c)-1,e.holder.index=n*c*c+a*c+s,void(t=o)}}}}),this)}}},{key:"handleMove",value:function(){if(!this.disable){if(this.dragging){var e,t=this.move.x-this.down.x,i=this.move.y-this.down.y,r=Math.sqrt(t*t+i*i);if(Math.min(this.world.width,this.world.height)/r>128)return!0;if(Oi.finish(),this.world.cube.lock)return this.dragging=!1,this.rotating=!1,!0;if(this.dragging=!1,this.rotating=!0,-1===this.holder.index)if(t*t>i*i)this.group=this.world.cube.groups.get("y");else{var s=new Ve["x"](3*Ri.SIZE/2,0,3*Ri.SIZE/2);s.applyMatrix4(this.world.scene.matrix).project(this.world.camera);var a=this.world.width/2,n=Math.round(s.x*a+a);this.down.x<n?this.group=this.world.cube.groups.get("x"):this.group=this.world.cube.groups.get("z")}else{var o=this.intersect(this.down,this.holder.plane),c=this.intersect(this.move,this.holder.plane);this.vector.subVectors(c,o);var h=this.vector.x,l=this.vector.y,u=this.vector.z,d=Math.max(Math.abs(h),Math.abs(l),Math.abs(u));h=Math.abs(h)===d?h:0,l=Math.abs(l)===d?l:0,u=Math.abs(u)===d?u:0,this.vector.set(h,l,u),this.holder.vector.copy(this.vector.multiply(this.vector).normalize()),this.group=this.match(),this.vector.crossVectors(this.holder.vector,this.holder.plane.normal),this.holder.vector.multiplyScalar(this.vector.x+this.vector.y+this.vector.z)}null===(e=this.group)||void 0===e||e.hold()}if(this.rotating&&this.group)if(-1===this.holder.index){t=this.move.x-this.down.x,i=this.move.y-this.down.y;this.group===this.world.cube.groups.get("y")?this.angle=t/Ri.SIZE*Math.PI/6*this.sensitivity:this.group===this.world.cube.groups.get("x")?this.angle=i/Ri.SIZE*Math.PI/6*this.sensitivity:this.group===this.world.cube.groups.get("z")&&(this.angle=-i/Ri.SIZE*Math.PI/6*this.sensitivity)}else{o=this.intersect(this.down,this.holder.plane),c=this.intersect(this.move,this.holder.plane);this.vector.subVectors(c,o).multiply(this.holder.vector),this.angle=-(this.vector.x+this.vector.y+this.vector.z)*(this.group.axis.x+this.group.axis.y+this.group.axis.z)/Ri.SIZE*Math.PI/6*this.sensitivity}}}},{key:"handleUp",value:function(){if(this.dragging){var e=null;switch(this.holder.plane){case this.planes[0]:e=hi.R;break;case this.planes[1]:e=hi.U;break;case this.planes[2]:e=hi.F;break}var t,i=Object(he["a"])(this.taps);try{for(i.s();!(t=i.n()).done;){var r=t.value;r(this.holder.index,e)}}catch(n){i.e(n)}finally{i.f()}}if(this.rotating&&this.group&&null!==this.group)if(this.lock)this.group.twist(0);else{if(Math.abs(this.angle)<Math.PI/4){var s=(new Date).getTime(),a=Math.abs(this.angle)/(s-this.tick);a>.001&&(this.angle=0==this.angle?0:this.angle/Math.abs(this.angle)*Math.PI/2)}this.group.twist(this.angle)}this.holder.index=-1,this.dragging=!1,this.rotating=!1,this.world.dirty=!0}},{key:"lock",get:function(){return this._lock},set:function(e){this.handleUp(),this._lock=e}},{key:"disable",get:function(){return this._disable},set:function(e){this.handleUp(),this._disable=e}}]),e}(),Li=function(){function e(){var t=this;Object(n["a"])(this,e),this.width=1,this.height=1,this.dirty=!1,this.cubes=[],this.callbacks=[],this.callback=function(){var e,i=Object(he["a"])(t.callbacks);try{for(i.s();!(e=i.n()).done;){var r=e.value;r()}}catch(s){i.e(s)}finally{i.f()}},this.scale=1,this.perspective=5,this.scene=new Ve["t"],this.scene.rotation.x=Math.PI/6,this.scene.rotation.y=-Math.PI/4+Math.PI/16,this.ambient=new Ve["a"](16777215,.8),this.scene.add(this.ambient),this.directional=new Ve["d"](16777215,.2),this.directional.position.set(Ri.SIZE,4*Ri.SIZE,2*Ri.SIZE),this.scene.add(this.directional),this.camera=new Ve["p"](50,1,1,32*Ri.SIZE),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=0,this.twister=new Si(this),this.controller=new Bi(this),this.order=3}return Object(o["a"])(e,[{key:"resize",value:function(){var e=this.height/Math.min(this.width,this.height)/this.scale/this.perspective,t=2*Math.atan(e)*180/Math.PI;this.camera.aspect=this.width/this.height,this.camera.fov=t;var i=3*Ri.SIZE*this.perspective;this.camera.position.z=i,this.camera.near=i-3*Ri.SIZE,this.camera.far=i+4*Ri.SIZE,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix(),this.dirty=!0}},{key:"order",set:function(e){this.scene.remove(this.cube),void 0==this.cubes[e]&&(this.cubes[e]=new Fi(e,this.callback)),this.cube=this.cubes[e],this.scene.add(this.cube),this.dirty=!0},get:function(){return this.cube.order}}]),e}(),Ni=function(){function e(t){Object(n["a"])(this,e),this.data={version:"0.1",scale:50,perspective:50,angle:60,gradient:65,frames:20,sensitivity:3,mirror:!1,hollow:!1,shadow:!0},this.world=t}return Object(o["a"])(e,[{key:"load",value:function(e){var t=JSON.parse(e);t.version===this.data.version&&(this.data=t)}},{key:"refresh",value:function(){this.scale=this.data.scale,this.perspective=this.data.perspective,this.angle=this.data.angle,this.gradient=this.data.gradient,this.shadow=this.data.shadow,this.frames=this.data.frames,this.mirror=this.data.mirror,this.hollow=this.data.hollow}},{key:"value",get:function(){return JSON.stringify(this.data)}},{key:"scale",get:function(){return this.data.scale},set:function(e){this.data.scale!=e&&(this.data.scale=e),this.world.scale=e/100+.5,this.world.resize()}},{key:"perspective",get:function(){return this.data.perspective},set:function(e){this.data.perspective!=e&&(this.data.perspective=e),this.world.perspective=100.1/(e+.01)*4-3,this.world.resize()}},{key:"angle",get:function(){return this.data.angle},set:function(e){this.data.angle!=e&&(this.data.angle=e),this.world.scene.rotation.y=(e/100-1)*Math.PI/2,this.world.dirty=!0}},{key:"gradient",get:function(){return this.data.gradient},set:function(e){this.data.gradient!=e&&(this.data.gradient=e),this.world.scene.rotation.x=(1-e/100)*Math.PI/2,this.world.dirty=!0}},{key:"shadow",get:function(){return this.data.shadow},set:function(e){this.data.shadow!=e&&(this.data.shadow=e),e?(this.world.ambient.intensity=.8,this.world.directional.intensity=.2):(this.world.ambient.intensity=1,this.world.directional.intensity=0),this.world.dirty=!0}},{key:"frames",get:function(){return this.data.frames},set:function(e){this.data.frames!=e&&(this.data.frames=e),zi.frames=e}},{key:"sensitivity",get:function(){return this.data.sensitivity},set:function(e){this.data.sensitivity!=e&&(this.data.sensitivity=e);var t=(e-3)/2;t=Math.pow(2,t),this.world.controller.sensitivity=t}},{key:"mirror",get:function(){return this.data.mirror},set:function(e){this.data.mirror!=e&&(this.data.mirror=e);var t,i=Object(he["a"])(this.world.cube.cubelets);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.mirror=e}}catch(s){i.e(s)}finally{i.f()}this.world.dirty=!0}},{key:"hollow",get:function(){return this.data.hollow},set:function(e){this.data.hollow!=e&&(this.data.hollow=e);var t,i=Object(he["a"])(this.world.cube.cubelets);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.hollow=e}}catch(s){i.e(s)}finally{i.f()}this.world.dirty=!0}}]),e}(),Di=i("c714"),Pi=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;if(Object(n["a"])(this,i),e=t.call(this),e.renderconfig={},e.preferanceconfig={},e.playerconfig={},e.looplayRunning=!1,e.world=e.worldin?e.worldin:new Li,e.preferance=new Ni(e.world),e.cubeconfig.model)try{var r=JSON.parse(window.localStorage.getItem("cubeconfig:".concat(e.cubeconfig.model)));e.renderconfig=r.renderconfig,e.playerconfig=r.playerconfig,e.preferanceconfig=r.preferanceconfig}catch(f){var s=JSON.parse(window.localStorage.getItem("cubeconfig:casegroup"));e.renderconfig=s.renderconfig,e.playerconfig=s.playerconfig,e.preferanceconfig=s.preferanceconfig}if(e.cubeconfig.renderModelName)try{var a=JSON.parse(window.localStorage.getItem("render:".concat(e.cubeconfig.renderModelName)));e.renderconfig=a}catch(p){var o=JSON.parse(window.localStorage.getItem("render:casegroup"));e.renderconfig=o}if(e.cubeconfig.preferanceModelName)try{var c=JSON.parse(window.localStorage.getItem("preferance:".concat(e.cubeconfig.preferanceModelName)));e.preferanceconfig=c}catch(g){var h=JSON.parse(window.localStorage.getItem("preferance:casegroup"));e.preferanceconfig=h}for(var l in e.cubeconfig.renderconfig)e.renderconfig[l]=e.cubeconfig.renderconfig[l];for(var u in e.cubeconfig.preferanceconfig)e.preferanceconfig[u]=e.cubeconfig.preferanceconfig[u];for(var d in e.cubeconfig.playerconfig)e.playerconfig[d]=e.cubeconfig.playerconfig[d];if(e.size=e.cubesize?e.cubesize:e.renderconfig.size||[200,200],e.cubename=e.cubeconfig.cubename,e.CoverImgOn=e.renderconfig.coverImgNotModel,e.world.order=e.renderconfig.order||3,e.preferance.load(JSON.stringify(e.preferanceconfig)),e.preferance.refresh(),3==e.world.order&&e.renderconfig.masktype)try{var v=Di[e.renderconfig.masktype].strip;v&&e.world.cube.strip(v)}catch(b){}return e.world.cube.dirty=!0,e.action="^"==e.renderconfig.scene?"("+e.renderconfig.alg+")'":e.renderconfig.alg,e.action&&(e.world.twister.finish(),e.world.twister.twist("#"),e.world.twister.twist(e.action,!1,1,!0),e.world.cube.history.clear()),e.world.controller.lock=e.playerconfig.lock,e}return Object(o["a"])(i,[{key:"onSizeChange",value:function(){this.size=this.cubesize,this.CoverImgOn?this.coverimg.style.width="".concat(this.size[0],"px"):this.resize(this.size[0],this.size[1])}},{key:"onCubeConfigChange",value:function(){this.loadCubeConfig()}},{key:"loadCubeConfig",value:function(){if(this.cubeconfig){if(this.cubeconfig.model)try{var e=JSON.parse(window.localStorage.getItem("cubeconfig:".concat(this.cubeconfig.model)));this.renderconfig=e.renderconfig,this.playerconfig=e.playerconfig,this.preferanceconfig=e.preferanceconfig}catch(l){var t=JSON.parse(window.localStorage.getItem("cubeconfig:casegroup"));this.renderconfig=t.renderconfig,this.playerconfig=t.playerconfig,this.preferanceconfig=t.preferanceconfig}if(this.cubeconfig.renderModelName)try{var i=JSON.parse(window.localStorage.getItem("render:".concat(this.cubeconfig.renderModelName)));this.renderconfig=i}catch(u){var r=JSON.parse(window.localStorage.getItem("render:casegroup"));this.renderconfig=r}if(this.cubeconfig.preferanceModelName)try{var s=JSON.parse(window.localStorage.getItem("preferance:".concat(this.cubeconfig.preferanceModelName)));this.preferanceconfig=s}catch(d){var a=JSON.parse(window.localStorage.getItem("preferance:casegroup"));this.preferanceconfig=a}for(var n in this.cubeconfig.renderconfig)this.renderconfig[n]=this.cubeconfig.renderconfig[n];for(var o in this.cubeconfig.preferanceconfig)this.preferanceconfig[o]=this.cubeconfig.preferanceconfig[o];for(var c in this.cubeconfig.playerconfig)this.playerconfig[c]=this.cubeconfig.playerconfig[c];if(this.size=this.cubesize?this.cubesize:this.renderconfig.size||[200,200],this.cubename=this.cubeconfig.cubename,this.CoverImgOn=this.renderconfig.coverImgNotModel,this.world.order=this.renderconfig.order||3,this.preferance.load(JSON.stringify(this.preferanceconfig)),this.preferance.refresh(),3==this.world.order&&this.renderconfig.masktype)try{var h=Di[this.renderconfig.masktype].strip;h&&this.world.cube.strip(h)}catch(v){}this.world.cube.dirty=!0,this.action="^"==this.renderconfig.scene?"("+this.renderconfig.alg+")'":this.renderconfig.alg,this.action&&(this.world.twister.finish(),this.world.twister.twist("#"),this.world.twister.twist(this.action,!1,1,!0),this.world.cube.history.clear()),this.world.controller.lock=this.playerconfig.lock}}},{key:"resize",value:function(e,t){this.world.width=e,this.world.height=t,this.world.resize(),this.renderer.setSize(e,t,!0),this.world.dirty=!0}},{key:"mounted",value:function(){if(this.createrender(),this.CoverImgOn){var e=this.renderer.domElement.toDataURL("image/png");this.coverimg=document.createElement("img"),this.coverimg.style.objectFit="contain",this.coverimg.style.width=this.size[0]+"px",this.coverimg.src=e,this.canvasdiv.appendChild(this.coverimg),this.removerender()}this.playerconfig.autoplay&&0==this.CoverImgOn&&this.autoplay(),this.loop()}},{key:"draw",value:function(){return this.world.dirty||this.world.cube.dirty?(this.renderer.clear(),this.renderer.render(this.world.scene,this.world.camera),this.world.dirty=!1,this.world.cube.dirty=!1,!0):(console.log("ininin"),!1)}},{key:"setoffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas;this.toucher.setoffset(e)}},{key:"createrender",value:function(){this.canvas=document.createElement("canvas"),this.canvas.style.outline="none",this.toucher=new mi,this.toucher.init(this.canvas,this.world.controller.touch),this.renderer=new Ve["y"]({canvas:this.canvas,antialias:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(bi.BACKGROUND),this.renderer.setPixelRatio(window.devicePixelRatio),this.canvasdiv.appendChild(this.renderer.domElement),this.resize(this.size[0],this.size[1]),this.draw(),this.setoffset()}},{key:"removerender",value:function(){this.renderer.clear(),this.renderer.dispose(),this.renderer=null,this.canvasdiv.removeChild(this.canvas),this.canvas=null}},{key:"initcube",value:function(){this.world.twister.finish(),this.world.twister.twist("#"),this.world.twister.twist(this.action,!1,1,!0),this.world.cube.history.clear()}},{key:"loopplay",value:function(){var e=this;0==this.looplayRunning&&(this.looplayRunning=!0,this.world.twister.twist(this.renderconfig.alg,!1,1,!1,(function(){e.initcube(),e.looplay_id=setTimeout((function(){e.looplayRunning=!1,e.loopplay()}),2e3)})))}},{key:"autoplay",value:function(){var e=this;this.world.twister.twist(this.renderconfig.alg,!1,1,!1,(function(){e.initcube(),e.autoplay_id=setTimeout((function(){e.autoplay()}),2e3)}))}},{key:"hoverin",value:function(){0==this.playerconfig.autoplay&&(this.CoverImgOn&&(this.coverimg.style.display="none",this.createrender()),this.playerconfig.hoverplay&&(this.playerconfig.loop?this.loopplay():this.world.twister.twist(this.renderconfig.alg,!1,1,!1)),this.loop())}},{key:"hoverout",value:function(){if(0==this.playerconfig.autoplay&&(this.playerconfig.hoverplay&&(this.playerconfig.loop&&clearTimeout(this.looplay_id),this.initcube(),this.looplayRunning=!1),this.CoverImgOn)){this.world.dirty=!0,this.draw();var e=this.renderer.domElement.toDataURL("image/png");this.removerender(),this.coverimg.style.display="",this.coverimg.style.objectFit="contain",this.coverimg.src=e,cancelAnimationFrame(this.loop_id)}}},{key:"loop",value:function(){if(this.loop_id=requestAnimationFrame(this.loop.bind(this)),this.playerconfig.breath){var e=(new Date).getTime();e=e/2e3*Math.PI,e=Math.sin(e)/32,this.world.cube.position.y=e*Ri.SIZE,this.world.cube.rotation.y=e/12*Math.PI,this.world.cube.updateMatrix()}if(this.playerconfig.autorotate){var t=(new Date).getTime();t=t/2e3*Math.PI,this.world.cube.rotation.y=t/12*Math.PI,this.world.cube.updateMatrix()}try{this.world.cube.dirty=!0,this.draw()}catch(i){cancelAnimationFrame(this.loop_id)}}},{key:"touchin",value:function(e){console.log("ininin",e)}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],Pi.prototype,"worldin",void 0),Object(l["a"])([Object(u["d"])()],Pi.prototype,"cubeconfig",void 0),Object(l["a"])([Object(u["d"])()],Pi.prototype,"cubesize",void 0),Object(l["a"])([Object(u["f"])("cube")],Pi.prototype,"canvasdiv",void 0),Object(l["a"])([Object(u["g"])("cubesize")],Pi.prototype,"onSizeChange",null),Object(l["a"])([Object(u["g"])("cubeconfig")],Pi.prototype,"onCubeConfigChange",null),Pi=Object(l["a"])([Object(u["a"])({name:"Render",components:{}})],Pi);var Vi=Pi,Ui=Vi,Zi=Object(w["a"])(Ui,fi,pi,!1,null,"74c777de",null),qi=Zi.exports,Gi=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.puzzleSets=[],e.titlestyle="font-size:12px",e.windowSize={x:0,y:0},e.cubeconfig=[],e}return Object(o["a"])(i,[{key:"fetch",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,i,r,s,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hassubset){e.next=7;break}return e.next=3,this.$http.get("algdb/puzzlesubset?set=".concat(this.shortname));case 3:t=e.sent,this.puzzleSets=t.data.data,e.next=11;break;case 7:return e.next=9,this.$http.get("algdb/puzzleset?puzzle=".concat(this.shortname));case 9:i=e.sent,this.puzzleSets=i.data.data;case 11:r=Object(he["a"])(this.puzzleSets);try{for(r.s();!(s=r.n()).done;)a=s.value,this.cubeconfig.push({cubename:a.name,model:"puzzleset",renderconfig:{order:"222"==a.puzzle?2:3,scene:"^",alg:a.genAlgs||"",masktype:a.shortName},playerconfig:{hoverplay:!1,breath:!0}})}catch(c){r.e(c)}finally{r.f()}n=this.$route.path.split("/"),o=[{text:"Home",disabled:!1,to:"/"}],console.log(n),"puzzle"==n[1]?o.push({text:n[2],disabled:!0,to:"/puzzle/".concat(n[2])}):(o.push({text:"333",disabled:!1,to:"/puzzle/333"}),o.push({text:n[3],disabled:!0,to:"/333/casegroup/".concat(n[3])})),this.setNavigation(o);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"gotopage",value:function(e){this.$router.push("/".concat(this.shortname,"/casegroup/").concat(e)),this.$router.go(0)}},{key:"created",value:function(){this.fetch()}},{key:"onresize",value:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.refreshtitlestyle(),this.refreshcubesize()}},{key:"refreshcubesize",value:function(){var e=window.innerWidth;this.cubesize=e<600?[125,125]:e<960?[100,100]:e<1264?[150,150]:e<1904?[200,200]:[250,250]}},{key:"refreshtitlestyle",value:function(){var e=this.windowSize.x,t="";return e<600?t="font-size:14px":t+=e<960?"font-size:12px;padding:1px":e<1264?"font-size:18px":e<1904?"font-size:24px":"font-size:30px",this.titlestyle=t,t}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],Gi.prototype,"hassubset",void 0),Object(l["a"])([Object(u["d"])()],Gi.prototype,"shortname",void 0),Object(l["a"])([d["b"]],Gi.prototype,"Navigation",void 0),Object(l["a"])([d["a"]],Gi.prototype,"setNavigation",void 0),Gi=Object(l["a"])([Object(u["a"])({name:"showSetOrSubSet",components:{Render:qi}})],Gi);var Hi=Gi,Xi=Hi,$i=Object(w["a"])(Xi,di,vi,!1,null,null,null),Ji=$i.exports;k()($i,{VCard:ke["a"],VCardTitle:Oe["b"],VCol:O["a"],VContainer:S["a"],VHover:Qt["a"],VRow:j["a"]}),Zt()($i,{Resize:qt["a"]});var Yi=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.apply(this,arguments),e.title="",e.setisasubset=!1,e.caseGroups=[],e.titlestyle="font-size:12px",e.windowSize={x:0,y:0},e.cubeconfig=[],e}return Object(o["a"])(i,[{key:"fetch",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,i,r,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("algdb/caseGroup?group=".concat(this.setname,"&size=100&page=1"));case 2:if(t=e.sent,0==t.data.data.length){e.next=10;break}this.caseGroups=t.data.data,this.title=t.data.data[0].caseGroupWholeName,i=Object(he["a"])(this.caseGroups);try{for(i.s();!(r=i.n()).done;)s=r.value,this.cubeconfig.push({cubename:s.name,model:"casegroup",renderconfig:{order:"222"==s.puzzle?2:3,scene:"^",alg:s.genAlgs,masktype:s.groupName}})}catch(n){i.e(n)}finally{i.f()}e.next=14;break;case 10:return e.next=12,this.$http.get("algdb/puzzleset?set=".concat(this.setname,"&haschildren=true"));case 12:a=e.sent,0!=a.data.data.length&&(this.setisasubset=!0);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"gotopage",value:function(e){var t=this.puzzle,i=this.caseGroups[0]["groupName"];this.$router.push("/".concat(t,"/").concat(i,"/case/").concat(e))}},{key:"created",value:function(){this.fetch(),this.refreshcubesize();var e=this.$route.path.split("/"),t=[{text:"Home",disabled:!1,to:"/"}];"333"==e[1]||"222"==e[1]?(t.push({text:e[1],disabled:!1,to:"/puzzle/".concat(e[1])}),t.push({text:e[3],disabled:!0,to:""})):(t.push({text:"333",disabled:!1,to:"/puzzle/333"}),t.push({text:e[3],disabled:!0,to:"/".concat(e[1],"/casegroup/").concat(e[3])})),this.setNavigation(t)}},{key:"onresize",value:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.refreshtitlestyle(),this.refreshcubesize()}},{key:"refreshcubesize",value:function(){var e=window.innerWidth;this.cubesize=e<600?[125,125]:e<960?[100,100]:e<1264?[150,150]:e<1904?[200,200]:[250,250]}},{key:"refreshtitlestyle",value:function(){var e=this.windowSize.x,t="";return e<600?t="font-size:14px":t+=e<960?"font-size:12px;padding:1px":e<1264?"font-size:18px":e<1904?"font-size:24px":"font-size:30px",this.titlestyle=t,t}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],Yi.prototype,"puzzle",void 0),Object(l["a"])([Object(u["d"])()],Yi.prototype,"setname",void 0),Object(l["a"])([d["b"]],Yi.prototype,"Navigation",void 0),Object(l["a"])([d["a"]],Yi.prototype,"setNavigation",void 0),Yi=Object(l["a"])([Object(u["a"])({name:"showCaseGroup",components:{showSetOrSubSet:Ji,Render:yt}})],Yi);var Wi=Yi,Ki=Wi,Qi=Object(w["a"])(Ki,li,ui,!1,null,null,null),er=Qi.exports;k()(Qi,{VCard:ke["a"],VCardTitle:Oe["b"],VCol:O["a"],VContainer:S["a"],VHover:Qt["a"],VRow:j["a"]}),Zt()(Qi,{Resize:qt["a"]});var tr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{directives:[{name:"resize",rawName:"v-resize",value:e.onresize,expression:"onresize"}],staticClass:"puzzlecase",attrs:{fluid:""}},[e.usephoneLayout?i("div",[i("v-col",{attrs:{cols:"12","no-gutters":"","justify-space-between":"","align-center":""}},[i("v-card",{staticClass:"phonepannel",attrs:{color:"#385F73",dark:"",elevation:"5"}},[i("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[i("div",{staticClass:"phonelayout"},[i("div",{staticClass:"phonelayout-img"},[i("v-avatar",{attrs:{size:"90",tile:""}},[i("v-img",{attrs:{src:e.Cases.imageSrc}})],1)],1),i("div",{staticClass:"phonelayout-title"},[i("v-card-title",{class:e.textConfig.ScreenTitle},[e._v(" "+e._s(e.ScreenCardTitle)+" ")])],1),i("div",{staticClass:"phonelayout-name"},[i("p",{staticClass:"body-1 text-center font-weight-black"},[e._v(e._s(e.Cases.name))])]),i("div",{staticClass:"phonelayout-play"},[i("v-card-actions",{staticClass:"flex-column justify-center"},[i("v-btn",{staticClass:"subtitle-1",attrs:{text:""}},[e._v("Play")])],1)],1)])])])],1),i("v-col",{attrs:{cols:"10",offset:"1",xs:"12"}},[i("v-simple-table",{attrs:{height:"600px"},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{class:e.textConfig.header},[e._v("Algorithm")]),i("th",{class:e.textConfig.header},[e._v("Votes")]),e.textConfig.hidedateanddes?e._e():i("th",{class:e.textConfig.header},[e._v("Date Added")]),e.textConfig.hidedateanddes?e._e():i("th",{class:e.textConfig.header},[e._v("Description")])])]),i("tbody",e._l(e.Cases.caseAlgs,(function(t){return i("tr",{key:t.id,on:{click:function(i){return e.algOnScreen(t.moves)}}},[i("td",{class:e.textConfig.alg},[e._v(e._s(t.moves))]),i("td",{class:e.textConfig.vote},[i("v-chip",{attrs:{color:e.getColor(t.votes)}},[e._v(e._s(t.votes))])],1)])})),0)]},proxy:!0}],null,!1,3704372440)})],1)],1):i("div",[i("v-row",[i("v-col",{ref:"Screen",attrs:{cols:"10",offset:"1","no-gutters":"","justify-space-between":"","align-center":""}},[i("v-hover",{attrs:{"open-delay":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return[i("v-card",{staticClass:"webpannel",attrs:{color:"#385F73",dark:"",elevation:r?16:2}},[i("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[i("v-avatar",{staticClass:"ma-3",attrs:{size:e.textConfig.imagesize,tile:""}},[i("v-img",{attrs:{src:e.Cases.imageSrc}})],1),i("v-card-title",{class:e.textConfig.ScreenTitle},[e._v(" "+e._s(e.ScreenCardTitle)+" ")]),i("v-card-actions",{staticClass:"flex-column justify-center"},[i("p",{staticClass:"subtitle-1 font-weight-black"},[e._v(e._s(e.Cases.name))]),i("v-btn",{staticClass:"subtitle-1",attrs:{text:""},on:{click:e.toggle}},[e._v("Play")])],1)],1)])]}}])})],1),i("v-col",{staticClass:"algspannel",attrs:{cols:"10",offset:"1",xs:"12"}},[i("div",{ref:"AlgsTable",staticStyle:{width:"100%"}},[i("v-simple-table",{attrs:{"max-height":"600px"},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{class:e.textConfig.header},[e._v("Algorithm")]),i("th",{class:e.textConfig.header},[e._v("Votes")]),e.textConfig.hidedateanddes?e._e():i("th",{class:e.textConfig.header},[e._v("Date Added")]),e.textConfig.hidedateanddes?e._e():i("th",{class:e.textConfig.header},[e._v("Description")])])]),i("tbody",e._l(e.Cases.caseAlgs,(function(t){return i("tr",{key:t.id,on:{click:function(i){return e.algOnScreen(t.moves)}}},[i("td",{class:e.textConfig.alg},[e._v(e._s(t.moves))]),i("td",{class:e.textConfig.vote},[i("v-chip",{attrs:{color:e.getColor(t.votes)}},[e._v(e._s(t.votes))])],1),e.textConfig.hidedateanddes?e._e():i("td",{class:e.textConfig.date},[e._v(e._s(t.createDate))]),e.textConfig.hidedateanddes?e._e():i("td",{class:e.textConfig.des})])})),0)]},proxy:!0}])})],1),i("div",[i("Render",{attrs:{worldin:e.world,cubeconfig:e.cubeconfig,cubesize:e.cubesize}}),i("Playbar",{ref:"playbar"})],1)])],1)],1)])},ir=[],rr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{style:{"padding-left":e.size/2+"px","padding-right":e.size/2+"px","padding-top":.2*e.size+"px"},attrs:{xs12:""}},[i("v-slider",{staticStyle:{margin:"0%",padding:"0%"},attrs:{"hide-details":"","thumb-label":0!=e.progress&&"always",ticks:"always",max:e.actions.length},scopedSlots:e._u([{key:"thumb-label",fn:function(){return[e._v(e._s(0==e.progress?"#":e.actions[e.progress-1].value))]},proxy:!0}]),model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1),i("v-flex",{staticStyle:{display:"flex"},style:{"padding-left":e.size/4+"px","padding-right":e.size/4+"px"},attrs:{xs12:""}},[i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||0==e.progress&&!e.chaos},on:{click:e.init}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("skip_previous")])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||0==e.progress||e.chaos},on:{click:e.backward}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("fast_rewind")])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||e.progress==e.actions.length||e.chaos},on:{click:e.toggle}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v(e._s(e.playing?"pause":"play_arrow"))])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||e.progress==e.actions.length||e.chaos},on:{click:e.forward}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("fast_forward")])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||e.progress==e.actions.length||e.chaos},on:{click:e.finish}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("skip_next")])],1)],1)],1)},sr=[],ar=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.size=0,e.playing=!1,e.pprogress=0,e.scene="",e.action="",e.actions=[],e}return Object(o["a"])(i,[{key:"mounted",value:function(){var e=this;this.world.callbacks.push((function(){e.callback()}))}},{key:"resize",value:function(e){this.size=e}},{key:"onProgressChange",value:function(){this.world.controller.lock=this.progress>0}},{key:"onSceneChange",value:function(){this.init()}},{key:"onActionChange",value:function(){this.actions=new Ke(this.action).parse(),this.init()}},{key:"init",value:function(){this.world.controller.lock=!1,this.playing=!1,this.pprogress=0,this.world.twister.finish(),this.world.twister.twist("#");var e=this.scene.replace("^","("+this.action+")'");this.world.twister.twist(e,!1,1,!0),this.world.cube.history.clear()}},{key:"finish",value:function(){this.init(),this.world.twister.twist(this.action,!1,1,!0),this.pprogress=this.actions.length}},{key:"callback",value:function(){if(this.playing){if(this.pprogress==this.actions.length)return void(this.playing&&(this.playing=!1));var e=this.actions[this.pprogress];this.pprogress++,this.world.twister.twist(e.group,e.reverse,e.times,!1)}}},{key:"toggle",value:function(){this.playing?this.playing=!1:(0==this.pprogress&&this.init(),this.playing=!0,this.callback())}},{key:"forward",value:function(){if(this.pprogress!=this.actions.length){0==this.pprogress&&this.init(),this.playing=!1;var e=this.actions[this.pprogress];this.pprogress++,this.world.twister.twist(e.group,e.reverse,e.times)}}},{key:"backward",value:function(){if(0!=this.pprogress){this.playing=!1,this.pprogress--;var e=this.actions[this.pprogress];this.world.twister.twist(e.group,!e.reverse,e.times)}}},{key:"style",get:function(){return{width:this.size+"px",height:this.size+"px","min-width":"0%","min-height":"0%","text-transform":"none",flex:1}}},{key:"progress",get:function(){return this.pprogress},set:function(e){this.init();for(var t=0;t<e;t++){var i=this.actions[t];this.world.twister.twist(i.group,i.reverse,i.times,!0)}this.pprogress=e}},{key:"chaos",get:function(){return 0==this.progress&&0!=this.world.cube.history.length}}]),i}(r["a"]);Object(l["a"])([Object(u["c"])("world")],ar.prototype,"world",void 0),Object(l["a"])([Object(u["d"])({required:!1,default:!1})],ar.prototype,"disable",void 0),Object(l["a"])([Object(u["g"])("progress")],ar.prototype,"onProgressChange",null),Object(l["a"])([Object(u["g"])("scene")],ar.prototype,"onSceneChange",null),Object(l["a"])([Object(u["g"])("action")],ar.prototype,"onActionChange",null),ar=Object(l["a"])([Object(u["a"])({name:"Playbar",components:{}})],ar);var nr=ar,or=nr,cr=i("ba0d"),hr=Object(w["a"])(or,rr,sr,!1,null,"4908a695",null),lr=hr.exports;k()(hr,{VBtn:xe["a"],VFlex:Me["a"],VIcon:Q["a"],VLayout:Ie["a"],VSlider:cr["a"]});var ur=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.world=new lt,e.cubeconfig={},e.cubesize=[],e.ScreenCardTitle="",e.textConfig={ScreenTitle:"display-2 font-weight-black justify-center align-center",header:"headline text-left",bodydefault:"title text-left",alg:"headline text-left font-weight-bold",vote:"headline text-center",date:"body-1 text-left",des:"body-1 text-left",hidedateanddes:!1,imagesize:125},e.Cases={},e.usephoneLayout=!1,e.titlestyle="font-size:12px",e.windowSize={x:0,y:0},e}return Object(o["a"])(i,[{key:"fetch",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"222"!=this.puzzle&&"333"!=this.puzzle&&(this.puzzle="333"),e.next=3,this.$http.get("algdb/case?puzzle=".concat(this.puzzle,"&case=").concat(this.casename,"&group=").concat(this.group,"&size=20&page=1"));case 3:t=e.sent,this.Cases=t.data.data[0],this.ScreenCardTitle=this.Cases["caseAlgs"][0]["moves"],this.cubeconfig={cubename:this.Cases.name,model:"case",renderconfig:{order:"222"==this.Cases.puzzle?2:3,scene:"^",alg:this.Cases.genAlgs,masktype:this.Cases.groupName,coverImgNotModel:!1},playerconfig:{hoverplay:!1,autoplay:!1,breath:!0,lock:!1,loop:!1}},this.playbar.scene="^",this.playbar.action=this.Cases["caseAlgs"][0]["moves"];case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.world.dirty=!0}},{key:"created",value:function(){this.fetch(),this.calVisualCubeSize();var e=this.$route.path.split("/"),t=[{text:"Home",disabled:!1,to:"/"}];t.push({text:e[1],disabled:!1,to:"/puzzle/".concat(e[1])}),t.push({text:e[2],disabled:!1,to:"/".concat(e[1],"/casegroup/").concat(e[2])}),t.push({text:e[4],disabled:!0,to:"/case/".concat(e[4])}),this.setNavigation(t)}},{key:"onresize",value:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.calVisualCubeSize(),this.refreshtitlestyle()}},{key:"getColor",value:function(e){return e>300?"red lighten-2":e>200?"orange lighten-2":e>100?"green lighten-2":e>50?"teal lighten-2":e>20?"purple lighten-4":"grey lighten-2"}},{key:"algOnScreen",value:function(e){this.ScreenCardTitle=e,this.playbar.scene="^",this.playbar.action=e}},{key:"toggle",value:function(){this.playbar.toggle()}},{key:"calVisualCubeSize",value:function(){if(this.usephoneLayout){var e=.6*window.innerHeight,t=.9*window.innerWidth;this.cubesize=[t,e]}else{var i,r=window.innerWidth;this.cubesize=r<600?[250,250]:r<960?[300,300]:r<1264?[400,400]:r<1904?[450,450]:[500,500],null===(i=this.playbar)||void 0===i||i.resize(50)}}},{key:"refreshtitlestyle",value:function(){var e=this.windowSize.x,t={ScreenTitle:"font-weight-black justify-center align-center",header:"text-left",bodydefault:"text-left",alg:"text-left font-weight-bold",vote:"text-center",date:"text-left",des:"text-left",hidedateanddes:!1,imagesize:125};return e<600?(t.ScreenTitle+=this.ScreenCardTitle.length>0&&this.ScreenCardTitle.length<20?" display-1":" headline",t.header+=" title",t.bodydefault+=" title",t.alg+=" body-1",t.vote+=" body-1",t.date+=" body-1",t.des+=" body-1",t.hidedateanddes=!0,t.imagesize=80,this.usephoneLayout=!0):e<960?(t.ScreenTitle+=this.ScreenCardTitle.length>0&&this.ScreenCardTitle.length<20?" display-2":" display-1",t.header+=" title",t.bodydefault+=" title",t.alg+=" title",t.vote+=" title",t.date+=" body-1",t.des+=" body-1",t.hidedateanddes=!0,this.usephoneLayout=!1):e<1264?(t.ScreenTitle+=this.ScreenCardTitle.length>0&&this.ScreenCardTitle.length<20?" display-2":" display-1",t.header+=" title",t.bodydefault+=" title",t.alg+=" title",t.vote+=" title",t.date+=" body-1",t.des+=" body-1",this.usephoneLayout=!1):e<1400?(t.ScreenTitle+=this.ScreenCardTitle.length>0&&this.ScreenCardTitle.length<20?" display-2":" display-1",t.header+=" headline",t.bodydefault+=" title",t.alg+=" headline",t.vote+=" headline",t.date+=" body-1",t.des+=" body-1"):(t.ScreenTitle+=this.ScreenCardTitle.length>0&&this.ScreenCardTitle.length<20?" display-3":" display-2",t.header+=" headline",t.bodydefault+=" title",t.alg+=" headline",t.vote+=" headline",t.date+=" body-1",t.des+=" body-1"),this.textConfig=t,t}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],ur.prototype,"casename",void 0),Object(l["a"])([Object(u["d"])()],ur.prototype,"group",void 0),Object(l["a"])([Object(u["d"])()],ur.prototype,"puzzle",void 0),Object(l["a"])([Object(u["f"])("playbar")],ur.prototype,"playbar",void 0),Object(l["a"])([d["b"]],ur.prototype,"Navigation",void 0),Object(l["a"])([d["a"]],ur.prototype,"setNavigation",void 0),Object(l["a"])([Object(u["e"])()],ur.prototype,"world",void 0),ur=Object(l["a"])([Object(u["a"])({name:"showCase",components:{Render:yt,Playbar:lr}})],ur);var dr=ur,vr=dr,fr=(i("2de4"),i("adda")),pr=i("1f4f"),gr=Object(w["a"])(vr,tr,ir,!1,null,"28145261",null),br=gr.exports;k()(gr,{VAvatar:Z["a"],VBtn:xe["a"],VCard:ke["a"],VCardActions:Oe["a"],VCardTitle:Oe["b"],VChip:q["a"],VCol:O["a"],VContainer:S["a"],VHover:Qt["a"],VImg:fr["a"],VRow:j["a"],VSimpleTable:pr["a"]}),Zt()(gr,{Resize:qt["a"]});var yr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("VisualCube",{attrs:{cubeconfig:e.VisualcubeConfig[0]}}),i("VisualCube",{attrs:{cubeconfig:e.VisualcubeConfig[1]}})],1)},mr=[],wr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-sheet",{staticClass:"visualcube",attrs:{"elevation-10":"",color:"white lighten-1"},on:{mouseenter:e.hoverin,mouseleave:e.hoverout}},[i("div",{ref:"cubediv",staticClass:"cubediv"}),i("div",{ref:e.renderconfig.refname,staticClass:"cubediv"}),e.playerconfig.enable?i("player",{ref:"player",style:e.playerhide,attrs:{autoplay:e.playerconfig.autoplay,loop:e.playerconfig.loop}}):e._e()],1)},xr=[],kr=(i("40b5"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{style:{"padding-left":e.size/2+"px","padding-right":e.size/2+"px","padding-top":.2*e.size+"px"},attrs:{xs12:""}},[i("v-slider",{staticStyle:{margin:"0%",padding:"0%"},attrs:{readonly:"","hide-details":"","thumb-label":0!=e.progress&&"always",ticks:"always",max:e.actions.length},scopedSlots:e._u([{key:"thumb-label",fn:function(){return[e._v(e._s(0==e.progress?"#":e.actions[e.progress-1].value))]},proxy:!0}]),model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1),i("v-flex",{staticStyle:{display:"flex"},style:{"padding-left":e.size/4+"px","padding-right":e.size/4+"px"},attrs:{xs12:""}},[i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||0==e.progress},on:{click:e.init}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("skip_previous")])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||0==e.progress},on:{click:e.backward}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("fast_rewind")])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||e.progress==e.actions.length},on:{click:e.toggle}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v(e._s(e.playing?"pause":"play_arrow"))])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||e.progress==e.actions.length},on:{click:e.forward}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("fast_forward")])],1),i("v-btn",{style:e.style,attrs:{text:"",large:"",disabled:e.disable||e.progress==e.actions.length},on:{click:e.finish}},[i("v-icon",{attrs:{size:.8*e.size}},[e._v("skip_next")])],1)],1)],1)}),Or=[],Sr=function(){function e(t){Object(n["a"])(this,e),this.cuber=t,this.queue=[]}return Object(o["a"])(e,[{key:"finish",value:function(){var e,t=Object(he["a"])(this.queue);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.fast=!0}}catch(r){t.e(r)}finally{t.f()}this.cuber.tweener.finish()}},{key:"twist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.queue.length>0&&(this.cuber.tweener.finish(),this.update()),this.cuber.tweener.speedup();var s,a=new Cr(e,t,i),n=a.parse(),o=Object(he["a"])(n);try{for(o.s();!(s=o.n()).done;){var c=s.value;c.fast=r,this.queue.push(c)}}catch(h){o.e(h)}finally{o.f()}this.update()}},{key:"push",value:function(e){this.queue.push(e),this.update()}},{key:"update",value:function(){if(0!==this.queue.length&&!this.cuber.world.cube.lock){var e=this.queue.shift();void 0!=e&&this.start(e)}}},{key:"start",value:function(t){var i=this;if("~"==t.exp)return t.fast?void this.cuber.world.callback():void this.cuber.tweener.tween(0,1,this.cuber.preferance.frames/2*t.times,(function(e){1!==e||i.cuber.world.callback()}));if("#"==t.exp)return this.cuber.history.clear(),this.cuber.world.cube.reset(),this.cuber.world.cube.dirty=!0,void this.cuber.world.callback();if("*"==t.exp){var r=e.shuffle(this.cuber.world.cube.order);return this.twist(r,!1,1,!0),void this.cuber.history.clear()}var s=-Math.PI/2;t.reverse&&(s=-s),t.times&&(s*=t.times);var a=this.cuber.world.cube.groups.get(t.exp);void 0!==a?(a.angle=0,a.hold(),t.fast&&(a.angle=s),a.twist(s)):this.update()}},{key:"length",get:function(){return this.queue.length}}],[{key:"shuffle",value:function(e){for(var t="",i=[],r=-1,s=["U","D","R","L","F","B"],a=-1,n=0;n<9*e;n++){var o=[];while(a==r)a=Math.floor(3*Math.random());var c=Math.ceil(Math.random()*Math.floor(e/2));o.push(1==c?"":c);var h=Math.floor(2*Math.random());o.push(s[2*a+h]);var l=Math.random();l<.2?o.push("2"):l<.6&&o.push("'"),i.push(o.join("")),r=a}return t=i.join(" "),t}}]),e}(),jr=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(n["a"])(this,e),this.exp=t,this.reverse=i,this.times=r,this.fast=s}return Object(o["a"])(e,[{key:"value",get:function(){var e=this.times,t=this.reverse;return 3===e&&(e=1,t=!t),2===e&&(t=!1),0==e?"":this.exp+(t?"'":"")+(1==e?"":String(e))}}]),e}(),Cr=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(Object(n["a"])(this,e),this.children=[],this.twist=new jr(t,i,r),t.match(/^[0123456789-]*[\*~#xyzbsfdeulmr][w]*$/gi))/[XYZ]/.test(this.twist.exp)&&(this.twist.exp=this.twist.exp.toLowerCase());else{var s,a=e.SPLIT_SEGMENT(t),o=Object(he["a"])(a);try{for(o.s();!(s=o.n()).done;){var c=s.value,h=void 0;if(h=c.match(/^\[(.+[:|,].+)\]$/i),h)switch(h=e.SPLIT_BRACKET(h[1]),h[1]){case",":this.children.push(new e(h[0],!1,1)),this.children.push(new e(h[2],!1,1)),this.children.push(new e(h[0],!0,1)),this.children.push(new e(h[2],!0,1));break;case":":this.children.push(new e(h[0],!1,1)),this.children.push(new e(h[2],!1,1)),this.children.push(new e(h[0],!0,1));break;default:break}else{if(h=c.match(/^(\[.+[:|,].+\])('?)(\d*)('?)$/i),null===h&&(h=c.match(/^\((.+)\)('?)(\d*)('?)$/i)),null===h&&(h=c.match(/([0123456789-]*[\*\#~xyzbsfdeulmr][w]*)('?)(\d*)('?)/i)),null===h)return;var l=1==(h[2]+h[4]).length,u=0==h[3].length?1:parseInt(h[3]);this.children.push(new e(h[1],l,u))}}}catch(d){o.e(d)}finally{o.f()}}}return Object(o["a"])(e,[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=this.twist.reverse!==e;var t=[];if(0!==this.children.length)for(var i=0;i<this.twist.times;i++)for(var r=0;r<this.children.length;r++){var s;s=e?this.children[this.children.length-r-1]:this.children[r];var a,n=s.parse(e),o=Object(he["a"])(n);try{for(o.s();!(a=o.n()).done;){var c=a.value;t.push(c)}}catch(l){o.e(l)}finally{o.f()}}else if(""!=this.twist.exp){var h=new jr(this.twist.exp,e,this.twist.times);t.push(h)}return t}},{key:"value",get:function(){return this.twist.value}}],[{key:"SPLIT_SEGMENT",value:function(t){for(var i=[],r="",s=0,a=!1,n=!1,o=0;o<t.length;o++){var c=t.charAt(o);" "===c&&0==r.length||("/"!==c||"/"!==t.charAt(o+1)?"\n"!==c?n||(e.AFFIX.indexOf(c)>=0?r=r.concat(c):r.length>0&&0==s&&a?(i.push(r),r="",o--,a=!1):"("!==c&&"["!==c?")"!==c&&"]"!==c?(a=!0,r=r.concat(c)):(r=r.concat(c),s--):(r=r.concat(c),s++)):n=!1:(o++,n=!0))}return r.length>0&&i.push(r),i}},{key:"SPLIT_BRACKET",value:function(e){for(var t=[],i="",r=0,s=0;s<e.length;s++){var a=e.charAt(s);0!=r||","!==a&&":"!==a?"("!==a&&"["!==a?")"!==a&&"]"!==a?i=i.concat(a):(i=i.concat(a),r--):(i=i.concat(a),r++):(t.push(i),t.push(a),i="")}return i.length>0&&t.push(i),t}}]),e}();Cr.AFFIX="'Ww0123456789-";var zr=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.size=0,e.playing=!1,e.progress=0,e.scene="",e.action="",e.actions=[],e}return Object(o["a"])(i,[{key:"mounted",value:function(){}},{key:"resize",value:function(e){this.size=e}},{key:"onProgressChange",value:function(){this.cuber.controller.lock=this.progress>0}},{key:"onSceneChange",value:function(){this.init()}},{key:"onActionChange",value:function(){this.actions=new Cr(this.action).parse(),this.init()}},{key:"init",value:function(){var e=this;this.playing=!1,this.progress=0,this.cuber.controller.disable=!1,this.cuber.twister.finish(),this.cuber.twister.twist("#");var t="^"==this.scene?"("+this.action+")'":this.scene;this.cuber.twister.twist(t,!1,1,!0),this.cuber.history.clear(),this.autoplay&&setTimeout((function(){e.playing=!0,e.callback()}),1e3)}},{key:"finish",value:function(){this.init(),this.cuber.twister.twist(this.action,!1,1,!0),this.progress=this.actions.length}},{key:"callback",value:function(){var e=this;if(this.playing){if(this.progress==this.actions.length)return void(this.playing&&(this.playing=!1,setTimeout((function(){e.loop&&e.init()}),2e3)));var t=this.actions[this.progress];this.progress++,this.cuber.twister.twist(t.exp,t.reverse,t.times,!1)}}},{key:"toggle",value:function(){this.playing?this.playing=!1:(0==this.progress&&this.init(),this.playing=!0,this.callback())}},{key:"forward",value:function(){if(this.progress!=this.actions.length){0==this.progress&&this.init(),this.playing=!1;var e=this.actions[this.progress];this.progress++,this.cuber.twister.twist(e.exp,e.reverse,e.times)}}},{key:"backward",value:function(){if(0!=this.progress){this.playing=!1,this.progress--;var e=this.actions[this.progress];this.cuber.twister.twist(e.exp,!e.reverse,e.times)}}},{key:"style",get:function(){return{width:this.size+"px",height:this.size+"px","min-width":"0%","min-height":"0%","text-transform":"none",flex:1}}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])({required:!1,default:!1})],zr.prototype,"disable",void 0),Object(l["a"])([Object(u["d"])()],zr.prototype,"autoplay",void 0),Object(l["a"])([Object(u["d"])()],zr.prototype,"loop",void 0),Object(l["a"])([Object(u["g"])("progress")],zr.prototype,"onProgressChange",null),Object(l["a"])([Object(u["g"])("scene")],zr.prototype,"onSceneChange",null),Object(l["a"])([Object(u["g"])("action")],zr.prototype,"onActionChange",null),zr=Object(l["a"])([Object(u["a"])({name:"PLayer",components:{}})],zr);var Mr=zr,Ir=Mr,Er=Object(w["a"])(Ir,kr,Or,!1,null,null,null),_r=Er.exports;k()(Er,{VBtn:xe["a"],VFlex:Me["a"],VIcon:Q["a"],VLayout:Ie["a"],VSlider:cr["a"]});var Rr=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.r_id=0,e}return Object(o["a"])(i,[{key:"created",value:function(){this.renderconfig=this.cubeconfig.renderconfig,this.playerconfig=this.cubeconfig.playerconfig,this.cubename=this.renderconfig.cubename}},{key:"mounted",value:function(){var e=this;this.cuberef=this.cubeconfig.renderconfig.refname?this.$refs[this.cubeconfig.renderconfig.refname]:this.cubediv,this.$cuberender.addcube({cubename:this.renderconfig.cubename,alg:this.renderconfig.alg,scene:this.renderconfig.scene,masktype:this.renderconfig.masktype,refname:this.renderconfig.refname||null,el:this.cuberef,canvas:this.renderconfig.canvas||null,size:this.renderconfig.size||[200,200],template:this.renderconfig.template||null,coverImgNotModel:this.renderconfig.coverImgNotModel||!1,preferance:this.renderconfig.preferance||null},(function(){e.cuber=e.$cuberender.pagecubes[e.cubename].cuber,e.player.cuber=e.$cuberender.pagecubes[e.cubename].cuber,e.cuber.controller.lock=e.cubeconfig.lock||!1,e.player.scene=e.renderconfig.scene||"",e.player.action=e.renderconfig.alg||"",e.cuber.world.callbacks.push((function(){e.player.callback()}))})),this.loop()}},{key:"onCubesizeChange",value:function(){var e,t=document.getElementsByTagName("IMG"),i=Object(he["a"])(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;r["style"]["width"]=this.cubesize[0]+"px"}}catch(s){i.e(s)}finally{i.f()}}},{key:"hoverin",value:function(){var e=this;if(this.$cuberender.bind({cubename:this.cubename}),this.$cuberender.resize(this.cubesize[0],this.cubesize[1]),this.playerconfig.hoverplay)var t=Date.now(),i=setInterval((function(){var r=Date.now();if(r-t>500)try{e.player.playing=!0,e.player.callback(),clearInterval(i)}catch(s){clearInterval(i)}}),123);this.loop()}},{key:"hoverout",value:function(){if(this.playerconfig.hoverplay)try{this.player.playing=!1,this.player.init()}catch(e){}this.cuber.controller.handleUp(),this.cuber.twister.finish(),this.$cuberender.unbind(this.cubename),cancelAnimationFrame(this.r_id)}},{key:"loop",value:function(){this.r_id=requestAnimationFrame(this.loop.bind(this));try{this.$cuberender.draw()}catch(e){cancelAnimationFrame(this.r_id)}}},{key:"playerhide",get:function(){return this.cubeconfig.playerconfig.hide?"display:none":""}}]),i}(r["a"]);Object(l["a"])([Object(u["d"])()],Rr.prototype,"cubeconfig",void 0),Object(l["a"])([Object(u["d"])()],Rr.prototype,"cubesize",void 0),Object(l["a"])([Object(u["f"])("player")],Rr.prototype,"player",void 0),Object(l["a"])([Object(u["f"])("cubediv")],Rr.prototype,"cubediv",void 0),Object(l["a"])([Object(u["g"])("cubesize")],Rr.prototype,"onCubesizeChange",null),Rr=Object(l["a"])([Object(u["a"])({name:"VisualCubeCoverImg",components:{Player:_r}})],Rr);var Ar=Rr,Fr=Ar,Tr=(i("eff2"),Object(w["a"])(Fr,wr,xr,!1,null,null,null)),Br=Tr.exports;k()(Tr,{VSheet:C["a"]});var Lr=i("2fe1"),Nr=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.VisualcubeConfig=[{name:"cube1",model:"xxx",lock:!0,renderconfig:{cubename:"cube1",size:[300,300],template:"playground",coverImgNotModel:!0,scene:"^",alg:"RUR",masktype:""},playerconfig:{enable:!0,hide:!0,autoplay:!1,loop:!0,hoverplay:!0,speed:"x1"}},{name:"cube2",model:"xxx",lock:!1,renderconfig:{cubename:"cube2",size:[300,300],template:"playground",coverImgNotModel:!0,scene:"^",alg:"R2U2R2",masktype:"f2l"},playerconfig:{enable:!0,hide:!0,autoplay:!1,loop:!0,hoverplay:!1,speed:"x1"}}],e}return Object(o["a"])(i,[{key:"mounted",value:function(){console.log(this.$cuberender)}}]),i}(r["a"]);Nr=Object(l["a"])([Object(Lr["b"])({name:"puzzle",components:{VisualCube:Br}})],Nr);var Dr=Nr,Pr=Dr,Vr=Object(w["a"])(Pr,yr,mr,!1,null,"42874e6a",null),Ur=Vr.exports,Zr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{height:"10px","background-color":"red"}}),i("Render",{attrs:{cubeconfig:e.Configs[1]}})],1)},qr=[],Gr=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.world=new Li,e.Configs=[{cubename:"cube1",model:"casegroup",renderconfig:{order:3,size:[300,300],coverImgNotModel:!0,scene:"^",alg:"RUR",masktype:""},playerconfig:{autoplay:!1,loop:!0,hoverplay:!0,lock:!1}},{cubename:"cube2",model:"casegroup",renderconfig:{order:2,coverImgNotModel:!1,scene:"^",alg:""},preferanceconfig:{hollow:!0},playerconfig:{hoverplay:!1,lock:!1,breath:!0}}],e}return Object(o["a"])(i,[{key:"resize",value:function(){}},{key:"mounted",value:function(){}}]),i}(r["a"]);Object(l["a"])([Object(u["f"])("render")],Gr.prototype,"renderer",void 0),Gr=Object(l["a"])([Object(u["a"])({name:"cube",components:{Render:qi}})],Gr);var Hr=Gr,Xr=Hr,$r=Object(w["a"])(Xr,Zr,qr,!1,null,"ff474fc8",null),Jr=$r.exports,Yr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Render",{attrs:{cubeconfig:e.Configs[1]}})],1)},Wr=[],Kr=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this),e.world=new lt,e.Configs=[{cubename:"cube1",model:"casegroup",renderconfig:{order:3,size:[300,300],coverImgNotModel:!0,scene:"^",alg:"RUR",masktype:""},playerconfig:{autoplay:!1,loop:!0,hoverplay:!0,lock:!1}},{cubename:"cube2",model:"casegroup",renderconfig:{order:2,coverImgNotModel:!0,scene:"^",alg:""},playerconfig:{hoverplay:!1,lock:!1,breath:!0}}],e}return Object(o["a"])(i,[{key:"resize",value:function(){}},{key:"mounted",value:function(){}}]),i}(r["a"]);Object(l["a"])([Object(u["f"])("render")],Kr.prototype,"renderer",void 0),Kr=Object(l["a"])([Object(u["a"])({name:"cube",components:{Render:yt}})],Kr);var Qr=Kr,es=Qr,ts=Object(w["a"])(es,Yr,Wr,!1,null,"41af7e8f",null),is=ts.exports;r["a"].use(Xt["a"]);var rs=[{path:"/",name:"Home",component:ti},{path:"/puzzle/:shortname",name:"puzzle",component:ci,props:!0},{path:"/:puzzle/casegroup/:setname",name:"casegroup",component:er,props:!0},{path:"/:puzzle/:group/case/:casename",name:"case",component:br,props:!0},{path:"/test",name:"test",component:Ur},{path:"/v3",name:"v3",component:Jr},{path:"/v4",name:"v4",component:is}],ss=new Xt["a"]({mode:"hash",routes:rs}),as=ss,ns=i("2f62");r["a"].use(ns["a"]);var os=new ns["a"].Store({state:{Navigation:[{text:"Home",disabled:!1,to:"/"}]},mutations:{setNavigation:function(e,t){e.Navigation=t}},actions:{setNavigation:function(e,t){e.commit("setNavigation",t)}},modules:{}}),cs=i("f309");r["a"].use(cs["a"]);var hs,ls=new cs["a"]({}),us=i("bc3a"),ds=i.n(us),vs=function(){function e(t,i,r,s){Object(n["a"])(this,e),this.begin=t,this.end=i,this.duration=r,this.callback=s,this.value=0,this.delta=1}return Object(o["a"])(e,[{key:"speedup",value:function(){this.delta=4}},{key:"finish",value:function(){this.callback(this.end)}},{key:"update",value:function(){this.value=this.value+this.delta;var e=this.value/this.duration;e=e>1?1:e,e=e<0?0:e,e-=1;var t=1-e*e;return 1==t?(this.callback(this.end),!1):(this.callback(this.begin+(this.end-this.begin)*t),!0)}}]),e}(),fs=function(){function e(){Object(n["a"])(this,e),this.tweens=[],this.loop()}return Object(o["a"])(e,[{key:"loop",value:function(){requestAnimationFrame(this.loop.bind(this)),this.update()}},{key:"tween",value:function(e,t,i,r){this.tweens.push(new vs(e,t,i,r))}},{key:"update",value:function(){if(0===this.tweens.length)return!1;var e=0;while(e<this.tweens.length)this.tweens[e].update()?e++:this.tweens.splice(e,1);return!0}},{key:"speedup",value:function(){var e,t=Object(he["a"])(this.tweens);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.speedup()}}catch(r){t.e(r)}finally{t.f()}}},{key:"finish",value:function(){var e,t=this.tweens.splice(0,this.tweens.length),i=Object(he["a"])(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.finish()}}catch(s){i.e(s)}finally{i.f()}}},{key:"length",get:function(){return this.tweens.length}}]),e}(),ps=function(){function e(t){Object(n["a"])(this,e),this.storage=window.localStorage,this.data={order:3,scale:50,perspective:50,angle:63,gradient:67,brightness:80,frames:30,sensitivity:50,mirror:!1,hollow:!1},this.cuber=t}return Object(o["a"])(e,[{key:"load",value:function(e){this.mode=e;var t="0.0.4";this.storage.getItem("version")!=t&&(this.storage.clear(),this.storage.setItem("version",t));var i=this.storage.getItem(e+".preferance");i&&(this.data=JSON.parse(i)),this.refresh()}},{key:"save",value:function(){this.storage.setItem(this.mode+".preferance",JSON.stringify(this.data))}},{key:"refresh",value:function(){this.order=this.data.order,this.scale=this.data.scale,this.perspective=this.data.perspective,this.angle=this.data.angle,this.gradient=this.data.gradient,this.brightness=this.data.brightness,this.frames=this.data.frames,this.mirror=this.data.mirror,this.hollow=this.data.hollow}},{key:"order",get:function(){return this.data.order},set:function(e){this.data.order!=e&&(this.data.order=e,this.refresh(),this.save()),this.cuber.world.order=e}},{key:"scale",get:function(){return this.data.scale},set:function(e){this.data.scale!=e&&(this.data.scale=e,this.save()),this.cuber.world.resize()}},{key:"perspective",get:function(){return this.data.perspective},set:function(e){this.data.perspective!=e&&(this.data.perspective=e,this.save()),this.cuber.world.resize()}},{key:"angle",get:function(){return this.data.angle},set:function(e){this.data.angle!=e&&(this.data.angle=e,this.save()),this.cuber.world.scene.rotation.y=(e/100-1)*Math.PI/2,this.cuber.world.dirty=!0}},{key:"gradient",get:function(){return this.data.gradient},set:function(e){this.data.gradient!=e&&(this.data.gradient=e,this.save()),this.cuber.world.scene.rotation.x=(1-e/100)*Math.PI/2,this.cuber.world.dirty=!0}},{key:"brightness",get:function(){return this.data.brightness},set:function(e){this.data.brightness!=e&&(this.data.brightness=e,this.save());var t=e/100;this.cuber.world.ambient.intensity=t;var i=t/2;i>1-t&&(i=1-t),this.cuber.world.directional.intensity=i,this.cuber.world.dirty=!0}},{key:"frames",get:function(){return this.data.frames},set:function(e){this.data.frames!=e&&(this.data.frames=e,this.save())}},{key:"sensitivity",get:function(){return this.data.sensitivity},set:function(e){this.data.sensitivity!=e&&(this.data.sensitivity=e,this.save())}},{key:"mirror",get:function(){return this.data.mirror},set:function(e){this.data.mirror!=e&&(this.data.mirror=e,this.save());var t,i=Object(he["a"])(this.cuber.world.cube.cubelets);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.mirror=e}}catch(s){i.e(s)}finally{i.f()}this.cuber.world.dirty=!0}},{key:"hollow",get:function(){return this.data.hollow},set:function(e){this.data.hollow!=e&&(this.data.hollow=e,this.save());var t,i=Object(he["a"])(this.cuber.world.cube.cubelets);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.hollow=e}}catch(s){i.e(s)}finally{i.f()}this.cuber.world.dirty=!0}}]),e}();(function(e){e[e["L"]=0]="L",e[e["R"]=1]="R",e[e["D"]=2]="D",e[e["U"]=3]="U",e[e["B"]=4]="B",e[e["F"]=5]="F"})(hs||(hs={}));var gs={BACKGROUND:"#FFFFFF",GRAY:"#404040",BLACK:"#202020",GREEN:"#00A020",ORANGE:"#FF6D00",BLUE:"#0D47A1",YELLOW:"#FFD600",RED:"#B71C1C",WHITE:"#F0F0F0",CYAN:"#18FFFF",LIME:"#C6FF00",PINK:"#FF4081"},bs=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this);for(var a=e/2,o=a-r,c=[[-o,+o,+a],[+o,+o,+a],[+o,-o,+a],[-o,-o,+a],[-o,+a,-o],[+o,+a,-o],[+o,+a,+o],[-o,+a,+o],[-a,-o,-o],[-a,+o,-o],[-a,+o,+o],[-a,-o,+o],[+o,+o,-a],[-o,+o,-a],[-o,-o,-a],[+o,-o,-a],[-o,-a,+o],[+o,-a,+o],[+o,-a,-o],[-o,-a,-o],[+a,+o,+o],[+a,+o,-o],[+a,-o,-o],[+a,-o,+o]],h=0;h<c.length;h++){var l=c[h];s.vertices.push(new Ve["x"](l[0],l[1],l[2]))}for(var u=0;u<i._INDICES.length;u++){var d=i._INDICES[u],v=new Ve["g"](d[0],d[1],d[2]);s.faces.push(v)}return s.computeFaceNormals(),s}return i}(Ve["h"]);bs._INDICES=[[0,2,1],[0,3,2],[4,6,5],[4,7,6],[8,10,9],[8,11,10],[12,14,13],[12,15,14],[16,18,17],[16,19,18],[20,22,21],[20,23,22],[1,6,7],[0,1,7],[3,0,10],[11,3,10],[17,2,3],[16,17,3],[23,20,1],[2,23,1],[5,12,13],[4,5,13],[9,13,14],[8,9,14],[22,15,12],[21,22,12],[19,14,15],[18,19,15],[7,4,9],[10,7,9],[11,8,19],[16,11,19],[23,17,18],[22,23,18],[20,21,5],[6,20,5],[20,6,1],[10,0,7],[21,12,5],[13,9,4],[23,2,17],[11,16,3],[22,18,15],[8,14,19]];var ys=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){Object(n["a"])(this,i),e/=2;var s=-e,a=e,o=-e,c=e,h=e/4,l=new Ve["u"];return l.moveTo(s,o+h),l.lineTo(s,a-h),l.quadraticCurveTo(s,a,s+h,a),l.lineTo(c-h,a),l.quadraticCurveTo(c,a,c,a-h),l.lineTo(c,o+h),l.quadraticCurveTo(c,o,c-h,o),l.lineTo(s+h,o),l.quadraticCurveTo(s,o,s,o+h),l.closePath(),t.call(this,l,{bevelEnabled:!1,depth:r})}return i}(Ve["f"]),ms=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e){Object(n["a"])(this,i),e/=2;var r=-e,s=e,a=-e,o=e,c=e/4,h=new Ve["u"];return h.moveTo(r,a+c),h.lineTo(r,s-c),h.quadraticCurveTo(r,s,r+c,s),h.lineTo(o-c,s),h.quadraticCurveTo(o,s,o,s-c),h.lineTo(o,a+c),h.quadraticCurveTo(o,a,o-c,a),h.lineTo(r+c,a),h.quadraticCurveTo(r,a,r,a+c),h.closePath(),t.call(this,h)}return i}(Ve["v"]),ws=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r){var s;Object(n["a"])(this,i),s=t.call(this),s.order=e,s.initial=r,s._vector=new Ve["x"],s.index=r,s.stickers=[],s._quaternion=new Ve["r"],s.mirrors=[];var a=(e-1)/2;s.lambers=[s.vector.x==-a?i.LAMBERS.ORANGE:i.LAMBERS.GRAY,s.vector.x==a?i.LAMBERS.RED:i.LAMBERS.GRAY,s.vector.y==-a?i.LAMBERS.WHITE:i.LAMBERS.GRAY,s.vector.y==a?i.LAMBERS.YELLOW:i.LAMBERS.GRAY,s.vector.z==-a?i.LAMBERS.GREEN:i.LAMBERS.GRAY,s.vector.z==a?i.LAMBERS.BLUE:i.LAMBERS.GRAY],s.basics=[s.vector.x==-a?i.BASICS.ORANGE:i.BASICS.GRAY,s.vector.x==a?i.BASICS.RED:i.BASICS.GRAY,s.vector.y==-a?i.BASICS.WHITE:i.BASICS.GRAY,s.vector.y==a?i.BASICS.YELLOW:i.BASICS.GRAY,s.vector.z==-a?i.BASICS.GREEN:i.BASICS.GRAY,s.vector.z==a?i.BASICS.BLUE:i.BASICS.GRAY],s.frame=new Ve["k"](i._FRAME,i.LAMBERS.BLACK),s.add(s.frame);for(var o=0;o<6;o++){var c=new Ve["k"](i._STICKER,s.lambers[o]);switch(c.name=hs[o],o){case hs.L:c.rotation.y=-Math.PI/2,c.position.x=-i.SIZE/2;break;case hs.R:c.rotation.y=Math.PI/2,c.position.x=i.SIZE/2;break;case hs.D:c.rotation.x=Math.PI/2,c.position.y=-i.SIZE/2;break;case hs.U:c.rotation.x=-Math.PI/2,c.position.y=i.SIZE/2;break;case hs.B:c.rotation.x=Math.PI,c.position.z=-i.SIZE/2;break;case hs.F:c.rotation.x=2*Math.PI,c.position.z=i.SIZE/2;break;default:break}if(s.stickers.push(c),s.lambers[o]!=i.LAMBERS.GRAY){s.add(c);var h=new Ve["k"](i._MIRROR,s.basics[o]);h.rotation.x=0==c.rotation.x?0:c.rotation.x+Math.PI,h.rotation.y=0==c.rotation.y?0:c.rotation.y+Math.PI,h.rotation.z=0==c.rotation.z?0:c.rotation.z+Math.PI,h.rotation.x+h.rotation.y+h.rotation.z==0&&(h.rotation.y=Math.PI),h.position.x=3*c.position.x,h.position.y=3*c.position.y,h.position.z=3*c.position.z,s.add(h),s.mirrors[o]=h}s.matrixAutoUpdate=!1,s.updateMatrix()}return s}return Object(o["a"])(i,[{key:"getColor",value:function(e){var t=new Ve["x"](0,0,0);switch(e){case hs.L:t.x=-1;break;case hs.R:t.x=1;break;case hs.D:t.y=-1;break;case hs.U:t.y=1;break;case hs.B:t.z=-1;break;case hs.F:t.z=1;break;default:break}this._quaternion.copy(this.quaternion),t.applyQuaternion(this._quaternion.inverse());var i=Math.round(t.x),r=Math.round(t.y),s=Math.round(t.z),a=0;return i<0?a=hs.L:i>0?a=hs.R:r<0?a=hs.D:r>0?a=hs.U:s<0?a=hs.B:s>0&&(a=hs.F),a}},{key:"stick",value:function(e,t){var r,s,a=null;if(t&&t.length>0)for(var n in gs){var o=gs[n];if(o==t){a=n;break}}a?(r=i.LAMBERS[a],s=i.LAMBERS[a]):(r=this.lambers[e],s=this.basics[e]),this.stickers[e].visible="BLACK"!=a,this.stickers[e].material=r,this.mirrors[e]instanceof Ve["k"]&&(this.mirrors[e].material=s)}},{key:"vector",set:function(e){var t=(this.order-1)/2,r=Math.round(2*e.x)/2,s=Math.round(2*e.y)/2,a=Math.round(2*e.z)/2;this._vector.set(r,s,a),r=Math.round(r+t),s=Math.round(s+t),a=Math.round(a+t),this._index=a*this.order*this.order+s*this.order+r,this.position.x=i.SIZE*this._vector.x,this.position.y=i.SIZE*this._vector.y,this.position.z=i.SIZE*this._vector.z},get:function(){return this._vector}},{key:"index",set:function(e){var t=(this.order-1)/2,i=e%this.order-t,r=Math.floor(e%(this.order*this.order)/this.order)-t,s=Math.floor(e/(this.order*this.order))-t;this.vector=new Ve["x"](i,r,s)},get:function(){return this._index}},{key:"mirror",set:function(e){if(e)for(var t=0;t<6;t++)this.mirrors[t]instanceof Ve["k"]&&this.children.indexOf(this.mirrors[t])<0&&this.add(this.mirrors[t]);else for(var i=0;i<6;i++)this.mirrors[i]instanceof Ve["k"]&&this.children.indexOf(this.mirrors[i])>=0&&this.remove(this.mirrors[i])}},{key:"hollow",set:function(e){e?this.frame instanceof Ve["k"]&&this.children.indexOf(this.frame)>=0&&this.remove(this.frame):this.frame instanceof Ve["k"]&&this.children.indexOf(this.frame)<0&&this.add(this.frame)}}]),i}(Ve["i"]);ws.SIZE=64,ws._BORDER_WIDTH=3,ws._STICKER_DEPTH=3,ws._FRAME=new bs(ws.SIZE,ws._BORDER_WIDTH),ws._STICKER=new ys(ws.SIZE-2*ws._BORDER_WIDTH-ws._STICKER_DEPTH,ws._STICKER_DEPTH),ws._MIRROR=new ms(ws.SIZE-2*ws._BORDER_WIDTH-ws._STICKER_DEPTH),ws.LAMBERS=function(){var e={};for(var t in gs){var i=gs[t];e[t]="BLACK"==t?new Ve["o"]({color:i,specular:gs.GRAY,shininess:8}):new Ve["n"]({color:i})}return e}(),ws.BASICS=function(){var e={};for(var t in gs){var i=gs[t];e[t]=new Ve["l"]({color:i})}return e}();var xs=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r,s,a){var o;return Object(n["a"])(this,i),o=t.call(this),o.cube=e,o.cuber=e.cuber,o._angle=0,o.cubelets=[],o.name=r,o.indices=s,o.axis=a,o.matrixAutoUpdate=!1,o.updateMatrix(),o}return Object(o["a"])(i,[{key:"exp",value:function(e,t){var i=this.name,r=this.name.match(/(^-?[xyz]):(\d*):(\d*$)/i);if(4==(null===r||void 0===r?void 0:r.length)){var s=r[1],a=Number(r[2]);if(a==Number(r[3])){var n=(this.cube.order+1)/2;switch(1==s.length&&a<n?(s="-"+s,e=!e):2==s.length&&a>n&&(s=s[1],e=!e),1==s.length&&(a=this.cube.order-a+1),s){case"x":i=a===n?"M'":"R";break;case"y":i=a===n?"E'":"U";break;case"z":i=a===n?"S":"F";break;case"-x":i=a===n?"M":"L";break;case"-y":i=a===n?"E":"D";break;case"-z":i=a===n?"S'":"B";break}2==i.length&&(i=i[0],e=!e),i=(1===a||a===n?"":String(a))+i}}return new jr(i,e,t)}},{key:"hold",value:function(){this.angle=0;var e,t=Object(he["a"])(this.indices);try{for(t.s();!(e=t.n()).done;){var i=e.value,r=this.cube.cubelets[i];this.cubelets.push(r),this.cube.remove(r),this.add(r)}}catch(s){t.e(s)}finally{t.f()}this.cube.lock=!0}},{key:"drop",value:function(){this.angle=Math.round(this.angle/(Math.PI/2))*(Math.PI/2);while(1){var e=this.cubelets.pop();if(void 0===e)break;this.rotate(e),this.remove(e),this.cube.add(e),this.cube.cubelets[e.index]=e}this.cube.lock=!1,0!=this.angle&&this.cube.update(),this.angle=0}},{key:"twist",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.angle;t=Math.round(t/(Math.PI/2))*(Math.PI/2);var i=t>0,r=Math.round(Math.abs(t)/(Math.PI/2));0!=r&&this.cuber.history.record(this.exp(i,r));var s=t-this.angle;if(0===s)this.drop();else{var a=Math.abs(s)/(Math.PI/2),n=this.cuber.preferance.frames*(2-2/(a+1));this.cuber.tweener.tween(this.angle,t,n,(function(i){e.angle=i,Math.abs(e.angle-t)<1e-6&&e.drop()}))}}},{key:"rotate",value:function(e){e.rotateOnWorldAxis(this.axis,this.angle),e.vector=e.vector.applyAxisAngle(this.axis,this.angle),e.updateMatrix()}},{key:"angle",set:function(e){this.setRotationFromAxisAngle(this.axis,e),this._angle=e,this.updateMatrix(),this.cube.dirty=!0},get:function(){return this._angle}}]),i}(Ve["i"]),ks=function(){function e(t){Object(n["a"])(this,e),this.groups=new Map,this.order=t.order;for(var i=0,r=["x","y","z"];i<r.length;i++)for(var s=r[i],a=1;a<=this.order;a++)for(var o=a;o<=this.order;o++){var c=e.FORMAT(s,a,o);this.groups.set(c,new xs(t,c,[],e.AXIS_VECTOR[s]))}for(var h=0,l=["center","edge","corner"];h<l.length;h++){var u=l[h];this.groups.set(u,new xs(t,u,[],e.AXIS_VECTOR["a"]))}var d,v=Object(he["a"])(t.initials);try{for(v.s();!(d=v.n()).done;){var f=d.value,p=f.initial,g=void 0,b=void 0,y=void 0,m=0;if(g="x",b=p%this.order+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();if(y.indices.push(f.index),g="y",b=Math.floor(p%(this.order*this.order)/this.order)+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();if(y.indices.push(f.index),g="z",b=Math.floor(p/(this.order*this.order))+1,1!=b&&b!=this.order||m++,y=this.groups.get(e.FORMAT(g,b,b)),!y)throw Error();y.indices.push(f.index),y=this.groups.get(["","center","edge","corner"][m]),y&&y.indices.push(f.index)}}catch(Z){v.e(Z)}finally{v.f()}for(var w=0,x=["x","y","z"];w<x.length;w++)for(var k=x[w],O=1;O<=this.order;O++)for(var S=O+1;S<=this.order;S++){var j=this.groups.get(e.FORMAT(k,O,S));if(!j)throw Error();for(var C=O;C<=S;C++){var z,M=this.groups.get(e.FORMAT(k,C,C));if(!M)throw Error();(z=j.indices).push.apply(z,Object(Ge["a"])(M.indices))}}for(var I=0,E=["-x","-y","-z"];I<E.length;I++)for(var _=E[I],R=1;R<=this.order;R++)for(var A=R;A<=this.order;A++){var F=this.groups.get(e.FORMAT(_.replace("-",""),R,A));if(!F)throw Error();var T=e.FORMAT(_,R,A);this.groups.set(T,new xs(t,T,F.indices,e.AXIS_VECTOR[_]))}for(var B=0,L=["x","y","z"];B<L.length;B++){var N=L[B],D=this.groups.get(e.FORMAT(N.replace("-",""),1,this.order));if(!D)throw Error();this.groups.set(N,new xs(t,N,D.indices,e.AXIS_VECTOR[N]))}var P,V=Object(he["a"])(this.groups.values());try{for(V.s();!(P=V.n()).done;){var U=P.value;t.add(U)}}catch(Z){V.e(Z)}finally{V.f()}}return Object(o["a"])(e,[{key:"get",value:function(t){var i="",r=0,s=0;if(this.groups.get(t))return this.groups.get(t);if(t.match(/.[Ww]/)&&(t=t.toLowerCase().replace("w","")),/[XYZ]/.test(t)&&(t=t.toLowerCase()),1===t.length)switch(t){case"x":case"y":case"z":return this.groups.get(t);case"R":case"L":case"U":case"D":case"F":case"B":i=e.AXIS_MAP[t],r=2==i.length?1:this.order,s=r;break;case"r":case"l":case"u":case"d":case"f":case"b":i=e.AXIS_MAP[t.toUpperCase()],r=2==i.length?1:this.order,s=2==i.length?2:this.order-1;break;case"E":case"M":case"S":i=e.AXIS_MAP[t],r=Math.floor((this.order+1)/2),s=Math.ceil((this.order+1)/2);break;case"e":case"m":case"s":i=e.AXIS_MAP[t.toUpperCase()],r=2,s=this.order-1;break}else{var a=t.match(/([0123456789]*)(-?)([0123456789]*)([lrudfb])/i);if(null==a)return;r=Number(a[1]),s=Number(a[3]),NaN!==s&&0!==s||(s=/[lrudfb]/.test(a[4])?1:r),i=e.AXIS_MAP[a[4].toUpperCase()],r=2==i.length?r:this.order-r+1,s=2==i.length?s:this.order-s+1}if(r>s){var n=[s,r];r=n[0],s=n[1]}return this.groups.get(e.FORMAT(i,r,s))}}],[{key:"FORMAT",value:function(e,t,i){return e+":"+t+":"+i}}]),e}();ks.AXIS_VECTOR={a:new Ve["x"](1,1,1),x:new Ve["x"](1,0,0),y:new Ve["x"](0,1,0),z:new Ve["x"](0,0,1),"-x":new Ve["x"](-1,0,0),"-y":new Ve["x"](0,-1,0),"-z":new Ve["x"](0,0,-1)},ks.AXIS_MAP={R:"x",L:"-x",U:"y",D:"-y",F:"z",B:"-z",M:"-x",E:"-y",S:"z"};var Os=function e(){Object(n["a"])(this,e),this.vector=new Ve["x"]},Ss=function(){function e(t){var i=this;Object(n["a"])(this,e),this.dragging=!1,this.rotating=!1,this.angle=0,this.ray=new Ve["s"],this.down=new Ve["w"](0,0),this.move=new Ve["w"](0,0),this.matrix=new Ve["j"],this.holder=new Os,this.vector=new Ve["x"],this.planes=[new Ve["q"](new Ve["x"](1,0,0),3*-ws.SIZE/2),new Ve["q"](new Ve["x"](0,1,0),3*-ws.SIZE/2),new Ve["q"](new Ve["x"](0,0,1),3*-ws.SIZE/2)],this._lock=!1,this._disable=!1,this.tick=(new Date).getTime(),this.hover=-1,this.touch=function(e){switch(e.type){case"touchstart":case"mousedown":i.down.x=e.x,i.down.y=e.y,i.tick=(new Date).getTime(),i.handleDown();break;case"mousemove":case"touchmove":i.move.x=e.x,i.move.y=e.y,i.handleMove();break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":i.handleUp();break;default:return!1}return!0},this.cuber=t,this.taps=[],this.loop()}return Object(o["a"])(e,[{key:"loop",value:function(){requestAnimationFrame(this.loop.bind(this)),this.update()}},{key:"update",value:function(){if(this.rotating&&this.group&&this.group.angle!=this.angle){var e=(this.angle-this.group.angle)/2,t=Math.PI/2/this.cuber.preferance.frames*4;e>t&&(e=t),e<-t&&(e=-t),this.group.angle+=e,this.cuber.world.dirty=!0}}},{key:"match",value:function(){var e;if(-1===this.holder.index)for(var t=0,i=["x","y","z"];t<i.length;t++){var r,s=i[t];if(e=this.cuber.world.cube.groups.get(s),0===(null===(r=e)||void 0===r?void 0:r.axis.dot(this.holder.plane.normal)))return e}else for(var a=this.holder.plane.normal,n=this.holder.vector,o=this.holder.index,c=this.cuber.world.cube.order,h=0,l=["x","y","z"];h<l.length;h++){var u=l[h],d=ks.AXIS_VECTOR[u];if(0===d.dot(a)&&0===d.dot(n)){var v=0;switch(u){case"x":v=o%c;break;case"y":v=Math.floor(o%(c*c)/c);break;case"z":v=Math.floor(o/(c*c));break}return v+=1,this.cuber.world.cube.groups.get(ks.FORMAT(u,v,v))}}}},{key:"intersect",value:function(e,t){var i=e.x/this.cuber.world.width*2-1,r=-e.y/this.cuber.world.height*2+1;this.ray.origin.setFromMatrixPosition(this.cuber.world.camera.matrixWorld),this.ray.direction.set(i,r,.5).unproject(this.cuber.world.camera).sub(this.ray.origin).normalize(),this.ray.applyMatrix4(this.matrix.identity().getInverse(this.cuber.world.scene.matrix));var s=new Ve["x"](1/0,1/0,1/0);return this.ray.intersectPlane(t,s),s}},{key:"handleDown",value:function(){var e=this;if(!this.disable){(this.dragging||this.rotating)&&this.handleUp(),this.dragging=!0,this.holder.index=-1,this.cuber.tweener.speedup();var t=0;this.planes.forEach((function(i){var r=e.intersect(e.down,i);if(null!==r){var s=r.x/ws.SIZE/3,a=r.y/ws.SIZE/3,n=r.z/ws.SIZE/3;if(Math.abs(s)<=.5&&Math.abs(a)<=.5&&Math.abs(n)<=.5){var o=Math.pow(r.x-e.ray.origin.x,2)+Math.pow(r.y-e.ray.origin.y,2)+Math.pow(r.z-e.ray.origin.z,2);if(0==t||o<t){e.holder.plane=i;var c=e.cuber.world.cube.order;return s=Math.ceil((s+.5)*c)-1,a=Math.ceil((a+.5)*c)-1,n=Math.ceil((n+.5)*c)-1,e.holder.index=n*c*c+a*c+s,void(t=o)}}}}),this)}}},{key:"handleMove",value:function(){if(!this.disable){if(this.dragging){var e,t=this.move.x-this.down.x,i=this.move.y-this.down.y,r=Math.sqrt(t*t+i*i);if(Math.min(this.cuber.world.width,this.cuber.world.height)/r>128)return!0;if(this.cuber.tweener.finish(),this.cuber.world.cube.lock)return this.dragging=!1,this.rotating=!1,!0;if(this.dragging=!1,this.rotating=!0,-1===this.holder.index)if(t*t>i*i)this.group=this.cuber.world.cube.groups.get("y");else{var s=new Ve["x"](3*ws.SIZE/2,0,3*ws.SIZE/2);s.applyMatrix4(this.cuber.world.scene.matrix).project(this.cuber.world.camera);var a=this.cuber.world.width/2,n=Math.round(s.x*a+a);this.down.x<n?this.group=this.cuber.world.cube.groups.get("x"):this.group=this.cuber.world.cube.groups.get("z")}else{var o=this.intersect(this.down,this.holder.plane),c=this.intersect(this.move,this.holder.plane);this.vector.subVectors(c,o);var h=this.vector.x,l=this.vector.y,u=this.vector.z,d=Math.max(Math.abs(h),Math.abs(l),Math.abs(u));h=Math.abs(h)===d?h:0,l=Math.abs(l)===d?l:0,u=Math.abs(u)===d?u:0,this.vector.set(h,l,u),this.holder.vector.copy(this.vector.multiply(this.vector).normalize()),this.group=this.match(),this.vector.crossVectors(this.holder.vector,this.holder.plane.normal),this.holder.vector.multiplyScalar(this.vector.x+this.vector.y+this.vector.z)}null===(e=this.group)||void 0===e||e.hold()}if(this.rotating&&this.group){var v=this.cuber.preferance.sensitivity/50-1;if(v=Math.pow(2,v),-1===this.holder.index){t=this.move.x-this.down.x,i=this.move.y-this.down.y;this.group===this.cuber.world.cube.groups.get("y")?this.angle=t/ws.SIZE*Math.PI/6*v:this.group===this.cuber.world.cube.groups.get("x")?this.angle=i/ws.SIZE*Math.PI/6*v:this.group===this.cuber.world.cube.groups.get("z")&&(this.angle=-i/ws.SIZE*Math.PI/6*v)}else{o=this.intersect(this.down,this.holder.plane),c=this.intersect(this.move,this.holder.plane);this.vector.subVectors(c,o).multiply(this.holder.vector),this.angle=-(this.vector.x+this.vector.y+this.vector.z)*(this.group.axis.x+this.group.axis.y+this.group.axis.z)/ws.SIZE*Math.PI/6*v}}}}},{key:"handleUp",value:function(){if(this.dragging){var e=null;switch(this.holder.plane){case this.planes[0]:e=hs.R;break;case this.planes[1]:e=hs.U;break;case this.planes[2]:e=hs.F;break}var t,i=Object(he["a"])(this.taps);try{for(i.s();!(t=i.n()).done;){var r=t.value;r(this.holder.index,e)}}catch(n){i.e(n)}finally{i.f()}}if(this.rotating&&this.group&&null!==this.group)if(this.lock)this.group.twist(0);else{if(Math.abs(this.angle)<Math.PI/4){var s=(new Date).getTime(),a=Math.abs(this.angle)/(s-this.tick);a>.001&&(this.angle=0==this.angle?0:this.angle/Math.abs(this.angle)*Math.PI/2)}this.group.twist(this.angle)}this.holder.index=-1,this.dragging=!1,this.rotating=!1,this.cuber.world.dirty=!0}},{key:"lock",get:function(){return this._lock},set:function(e){this.handleUp(),this._lock=e}},{key:"disable",get:function(){return this._disable},set:function(e){this.handleUp(),this._disable=e}}]),e}(),js=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,r,s){var a;Object(n["a"])(this,i),a=t.call(this),a.dirty=!0,a.lock=!1,a.cubelets=[],a.initials=[],a.complete=!1,a.order=e,a.cuber=r,a.callback=s,a.scale.set(3/e,3/e,3/e);for(var o=0;o<e*e*e;o++){var c=new ws(e,o);a.cubelets.push(c),a.initials.push(c),a.add(c)}return a.groups=new ks(Object(qe["a"])(a)),a.matrixAutoUpdate=!1,a.updateMatrix(),a}return Object(o["a"])(i,[{key:"update",value:function(){var e=this,t=[hs.U,hs.D,hs.L,hs.R,hs.F,hs.B].every((function(t){var i=e.groups.get(hs[t]);if(!i)throw Error();var r=e.cubelets[i.indices[0]].getColor(t),s=i.indices.every((function(i){return r==e.cubelets[i].getColor(t)}));return s}));this.complete=t,this.callback()}},{key:"index",value:function(e){return this.initials[e].index}},{key:"reset",value:function(){var e,t=Object(he["a"])(this.cubelets);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.setRotationFromEuler(new Ve["e"](0,0,0)),i.index=i.initial,i.updateMatrix()}}catch(r){t.e(r)}finally{t.f()}this.cubelets.sort((function(e,t){return e.index-t.index}))}},{key:"stick",value:function(e,t,i){var r=this.initials[e];if(!r)throw Error("invalid cubelet index: "+e);r.stick(t,i),this.dirty=!0}},{key:"strip",value:function(e){for(var t=0,i=[hs.L,hs.R,hs.D,hs.U,hs.B,hs.F];t<i.length;t++){var r=i[t],s=hs[r],a=this.groups.get(hs[r]);if(!a)throw Error();var n,o=Object(he["a"])(a.indices);try{for(o.s();!(n=o.n()).done;){var c=n.value;this.initials[c].stick(r,"")}}catch(f){o.e(f)}finally{o.f()}var h=e[s];if(void 0!=h){var l,u=Object(he["a"])(h);try{for(u.s();!(l=u.n()).done;){var d=l.value,v=this.initials[d];if(!v)throw Error("invalid cubelet index: "+d);v.stick(r,gs.BLACK)}}catch(f){u.e(f)}finally{u.f()}}}this.dirty=!0}},{key:"state",get:function(){for(var e=[],t=0,i=[hs.U,hs.R,hs.F,hs.D,hs.L,hs.B];t<i.length;t++){var r=i[t],s=this.groups.get(hs[r]);if(!s)throw Error();var a,n=Object(he["a"])(s.indices);try{for(n.s();!(a=n.n()).done;){var o=a.value;e.push(this.cubelets[o].getColor(r))}}catch(c){n.e(c)}finally{n.f()}}return e.join("")}}]),i}(Ve["i"]),Cs=function(){function e(t){var i=this;Object(n["a"])(this,e),this.width=1,this.height=1,this.dirty=!1,this.cubes=[],this.callbacks=[],this.callback=function(){var e,t=Object(he["a"])(i.callbacks);try{for(t.s();!(e=t.n()).done;){var r=e.value;r()}}catch(s){t.e(s)}finally{t.f()}i.cuber.twister.update()},this.cuber=t,this.scene=new Ve["t"],this.scene.rotation.x=Math.PI/6,this.scene.rotation.y=-Math.PI/4+Math.PI/16,this.order=3,this.ambient=new Ve["a"](16777215,.8),this.scene.add(this.ambient),this.directional=new Ve["d"](16777215,.2),this.directional.position.set(ws.SIZE,4*ws.SIZE,2*ws.SIZE),this.scene.add(this.directional),this.camera=new Ve["p"](50,1,1,32*ws.SIZE),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=0}return Object(o["a"])(e,[{key:"resize",value:function(){var e=this.cuber.preferance.scale/100+.5,t=100.1/(this.cuber.preferance.perspective+.01)*4-3,i=this.height/Math.min(this.width,this.height)/e/t,r=2*Math.atan(i)*180/Math.PI;this.camera.aspect=this.width/this.height,this.camera.fov=r;var s=3*ws.SIZE*t;this.camera.position.z=s,this.camera.near=s-3*ws.SIZE,this.camera.far=s+3*ws.SIZE,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix(),this.dirty=!0}},{key:"order",set:function(e){this.scene.remove(this.cube),void 0==this.cubes[e]&&(this.cubes[e]=new js(e,this.cuber,this.callback)),this.cube=this.cubes[e],this.scene.add(this.cube),this.dirty=!0},get:function(){return this.cube.order}}]),e}(),zs=function(){function e(t){Object(n["a"])(this,e),this.list=[],this.exp="",this.cuber=t}return Object(o["a"])(e,[{key:"record",value:function(e){if(0==this.list.length)e.times=e.times%4,0!=e.times&&(this.list.push(e),this.exp=this.exp+" "+e.value);else{var t=this.list[this.list.length-1];t.exp==e.exp?(t.times=t.times+e.times*(t.reverse==e.reverse?1:-1),t.times=t.times%4,this.exp=this.exp.substring(0,this.exp.lastIndexOf(" ")),0==t.times?this.list.pop():this.exp=this.exp+" "+t.value):(this.list.push(e),this.exp=this.exp+" "+e.value)}}},{key:"clear",value:function(){this.list=[],this.exp=""}},{key:"undo",value:function(){if(0!=this.length&&(this.cuber.twister.finish(),0!=this.length)){var e=this.last,t=new jr(e.exp,!e.reverse,e.times);this.cuber.twister.push(t)}}},{key:"last",get:function(){return this.list[this.list.length-1]}},{key:"length",get:function(){return this.list.length}},{key:"moves",get:function(){var e,t=this.length,i=Object(he["a"])(this.list);try{for(i.s();!(e=i.n()).done;){var r=e.value;"x"!=r.exp&&"y"!=r.exp&&"z"!=r.exp||t--}}catch(s){i.e(s)}finally{i.f()}return t}}]),e}(),Ms=function e(){Object(n["a"])(this,e),this.world=new Cs(this),this.tweener=new fs,this.twister=new Sr(this),this.history=new zs(this),this.preferance=new ps(this),this.controller=new Ss(this),this._context=this},Is=(new Ms,function e(t,i,r){Object(n["a"])(this,e),this.type=t,this.x=i,this.y=r}),Es=function(){function e(){var t=this;Object(n["a"])(this,e),this.offsetX=0,this.offsetY=0,this.setoffset=function(e){var i=[e.getBoundingClientRect().left,e.getBoundingClientRect().top];t.offsetX=i[0],t.offsetY=i[1]},this.mouse=function(e){t.canvas.tabIndex=1,t.canvas.focus();var i=new Is(e.type,e.clientX-t.offsetX,e.clientY-t.offsetY);return t.callback(i),e.returnValue=!1,!1},this.touch=function(e){t.canvas.tabIndex=1,t.canvas.focus();var i=e.changedTouches,r=i[0],s=new Is(e.type,r.clientX-t.offsetX,r.clientY-t.offsetY);return t.callback(s),e.preventDefault(),!0}}return Object(o["a"])(e,[{key:"init",value:function(e,t){this.canvas=e,this.callback=t,e.addEventListener("touchstart",this.touch),e.addEventListener("touchmove",this.touch),e.addEventListener("touchend",this.touch),e.addEventListener("touchcancel",this.touch),e.addEventListener("mousedown",this.mouse),e.addEventListener("mousemove",this.mouse),e.addEventListener("mouseup",this.mouse),e.addEventListener("mouseout",this.mouse)}}]),e}(),_s=i("abd7"),Rs=function(){function e(){Object(n["a"])(this,e),this.pagecubes={}}return Object(o["a"])(e,[{key:"addcube",value:function(e,t){if(this.cubename=e.cubename,this.cuber=new Ms,this.el=e.el,e.canvas?this.canvas=e.canvas:this.canvas=document.createElement("canvas"),e.template)try{this.cuber.preferance.load(e.template)}catch(a){this.cuber.preferance.load("playground")}if(e.preferance)try{for(var i in e.preferance)this.cuber.preferance[i]=e.preferance[i]}catch(n){}if(this.canvas.style.outline="none",this.renderer=new Ve["y"]({canvas:this.canvas,antialias:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(gs.BACKGROUND),this.renderer.setPixelRatio(window.devicePixelRatio),this.toucher=new Es,this.toucher.init(this.canvas,this.cuber.controller.touch),this.el.appendChild(this.renderer.domElement),this.size=e.size?e.size:[200,200],this.resize(this.size[0],this.size[1]),3==this.cuber.preferance.order&&e.masktype){var r=_s[e.masktype].strip;this.cuber.world.cube.strip(r)}e.coverImgNotModel&&e.alg&&(this.cuber.twister.finish(),this.cuber.twister.twist("#"),this.action="^"==e.scene?"("+e.alg+")'":e.alg,this.cuber.twister.twist(this.action,!1,1,!0),this.cuber.history.clear()),this.draw();var s=this.renderer.domElement.toDataURL("image/png");e.coverImgNotModel?(this.renderer.dispose(),this.renderer=null,this.el.removeChild(this.canvas),this.canvas=null,this.coverimg=document.createElement("img"),this.coverimg.style.objectFit="contain",this.coverimg.style.width=this.size[0]+"px",this.coverimg.src=s,this.el.appendChild(this.coverimg)):this.setoffset(),this.pagecubes[e.cubename]={cubename:e.cubename,cuber:this.cuber,el:this.el,canvas:this.canvas,size:this.size,coverimg:this.coverimg,toucher:this.toucher,config:e},t()}},{key:"refreshCoverImage",value:function(e){this.bind({cubename:e}),this.unbind(e)}},{key:"bind",value:function(e){this.pagecubes[e.cubename]&&(this.cubename=e.cubename,this.cuber=this.pagecubes[e.cubename].cuber,this.el=this.pagecubes[e.cubename].el,this.canvas=this.pagecubes[e.cubename].canvas,this.size=this.pagecubes[e.cubename].size,this.coverimg=this.pagecubes[e.cubename].coverimg,this.toucher=this.pagecubes[e.cubename].toucher),this.canvas?(this.renderer=new Ve["y"]({canvas:this.canvas,antialias:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(gs.BACKGROUND),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setPixelRatio(window.devicePixelRatio)):(this.canvas=document.createElement("canvas"),this.canvas.style.outline="none",this.coverimg.style.display="none",this.renderer=new Ve["y"]({canvas:this.canvas,antialias:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(gs.BACKGROUND),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setPixelRatio(window.devicePixelRatio),this.el.appendChild(this.renderer.domElement),this.pagecubes[e.cubename].canvas=this.canvas,this.resize(this.size[0],this.size[1]),this.toucher=new Es,this.toucher.init(this.canvas,this.cuber.controller.touch)),this.draw(),this.setoffset(this.canvas)}},{key:"unbind",value:function(e){if(this.pagecubes[e]&&this.pagecubes[e].config.coverImgNotModel){this.draw();var t=this.renderer.domElement.toDataURL("image/png");this.renderer.dispose(),this.renderer=null,this.el.removeChild(this.canvas),this.canvas=null,this.coverimg.style.display="",this.coverimg.style.objectFit="contain",this.coverimg.src=t,this.pagecubes[e].canvas=null,this.pagecubes[e].coverimg=this.coverimg}}},{key:"resize",value:function(e,t){this.cuber.world.width=e,this.cuber.world.height=t,this.cuber.world.resize(),this.renderer.setSize(e,t,!0),this.cuber.world.dirty=!0}},{key:"setoffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas;this.toucher.setoffset(e)}},{key:"draw",value:function(){return!(!this.cuber.world.dirty&&!this.cuber.world.cube.dirty)&&(this.renderer.clear(),this.renderer.render(this.cuber.world.scene,this.cuber.world.camera),this.cuber.world.dirty=!1,this.cuber.world.cube.dirty=!1,!0)}}]),e}();r["a"].config.productionTip=!1,r["a"].prototype.$cuberender=new Rs,r["a"].prototype.vuetify=ls,r["a"].prototype.$http=ds.a.create({baseURL:"https://solarsunrise.cn/api/cubenode/"});var As=new r["a"]({router:as,store:os,vuetify:ls,render:function(e){return e(Ht)}}).$mount("#app");t["default"]=As},eff2:function(e,t,i){"use strict";var r=i("5192"),s=i.n(r);s.a}});
//# sourceMappingURL=app.45930f5a.js.map